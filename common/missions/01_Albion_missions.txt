albion_mission = {
	header = "mission_image_macedon"  # placeholder when specific icon / header
	icon = "macedon_2"
	repeatable = no
	
	potential = {
		not = { has_variable = albion_mission }
		is_subject = no
		has_civil_war = no
		or = {
			tag = AIO
			tag = HIB
			tag = CCC
			tag = BRA
			AND = {
				country_culture_group = britannic
				any_owned_province = {
					count >= 100
					or =  {
						is_in_region = caledonia_region
						is_in_region = britain_region
					}
				}
			}
		}
	}

	abort ={
		is_subject = yes
		ai_mission_back_out_trigger = yes
		custom_tooltip = {
			text = albion_mission__abort
			any_owned_province = {
				count = 0
				or =  {
					is_in_region = caledonia_region
					is_in_region = britain_region
				}
			}
		}
	}
	on_abort = {
		custom_tooltip = general_mission_cooldown_tt
		set_variable = {
			name = albion_mission
			days = 7300
		}
	}	
	on_start = {
		start_mission_ai_effect = yes
	}

	on_completion = {
        complete_mission_effect = yes
    }

	albion_main_mission_start = { #start main tree
	icon = task_political

	duration = 150

	bypass = {tag = AIO}
		allow = {
			political_influence >= 60
			stability >= 40
		}
		 on_completion = {
			trigger_event = {id = me_albion.19}
			add_political_influence = -60
			custom_tooltip = completion_albion_main_mission_start
			add_country_modifier = {
				name = albion_mod_22
				duration = 7300 #20 years
			}
			hidden_effect = {
				region:britain_region = {
					every_region_province = {add_claim = ROOT}
				}
				region:caledonia_region= {
					every_region_province = {add_claim = ROOT}
				}
			}
		}
	}
	albion_main_mission_1_1 = { # conquest of the west
		icon = task_expansion
		requires = {
			albion_main_mission_start  #
		}
		bypass = {
			tag = AIO

		}
		allow = {
			custom_tooltip = {
				text = trigger_albion_main_mission_1_1
				region:caledonia_region = {
					area:hibernia_meridionalis_area = {
						any_area_province = {
							count = all
								or = {
									has_owner = no
									owned_or_subject_owned = ROOT
								}
						}
					}
					area:hibernia_occidentalis_area = {
						any_area_province = {
							count = all
								or = {
									has_owner = no
									owned_or_subject_owned = ROOT
									}
						}
					}	
					area:hibernia_orientalis_area = {
						any_area_province = {
							count = all
								or = {
									has_owner = no
									owned_or_subject_owned = ROOT
									}
						}
					}
					area:hibernia_septentrionalis_area = {
						any_area_province = {
							count = all
								or = {
									has_owner = no
									owned_or_subject_owned = ROOT
									}
						}
					}
				}
			}
		}
		highlight = {
			scope:province = {
				is_uninhabitable = no
				has_owner = yes
				or = {
					is_in_area = hibernia_meridionalis_area
					is_in_area = hibernia_occidentalis_area
					is_in_area = hibernia_orientalis_area
					is_in_area = hibernia_septentrionalis_area
				}
				NOT = { owner = ROOT }
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = {add_political_influence = 30 }
	}
	albion_main_mission_1_2 = { # conquest of the north
		icon = task_expansion
		requires = {
			albion_main_mission_start  #
		}
		bypass = { 
			tag = AIO	
		}
		allow = {
			custom_tooltip = {
				text = trigger_albion_main_mission_1_2
				region:caledonia_region = {
					area:caledonia_meridionalis_area = {
						any_area_province = {
							count = all
								or = {
									has_owner = no
									owned_or_subject_owned = ROOT
								}
						}
					}
					area:caledonia_occidentalis_area = {
						any_area_province = {
							count = all
								or = {
									has_owner = no
									owned_or_subject_owned = ROOT
									}
						}
					}	
					area:caledonia_septentrionalis_area = {
						any_area_province = {
							count = all
								or = {
									has_owner = no
									owned_or_subject_owned = ROOT
									}
						}
					}
				}
			}
		}
		highlight = {
			scope:province = {
				is_uninhabitable = no
				has_owner = yes
				or = {
					is_in_area = caledonia_meridionalis_area
					is_in_area = caledonia_occidentalis_area
					is_in_area = caledonia_septentrionalis_area
				}
				NOT = { owner = ROOT }
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = {add_political_influence = 30 }
	}
	albion_main_mission_1_3 = { # conquest of the south
		icon = task_expansion
		requires = {
			albion_main_mission_start  #
		}
		
		bypass = { 
			tag = AIO
		}
		
		allow = {
			custom_tooltip = {
				text = trigger_albion_main_mission_1_3
				region:britain_region = {
					any_region_province = {
						count = all
						or = {
							has_owner = no
							owned_or_subject_owned = ROOT
						}
					}
				}
			}
		}
		highlight = {
			scope:province = {
				is_uninhabitable = no
				has_owner = yes
					is_in_region = britain_region
				NOT = { owner = ROOT }
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { add_political_influence = 30}
	}
	albion_main_mission_2_1 = { #port of the west
		icon = task_economical
		requires = {
			albion_main_mission_1_1  #
		}
	
		allow = {
				custom_tooltip = {
					text = trigger_albion_main_mission_2_1
					any_owned_province = {
						or = {
							is_in_area = hibernia_meridionalis_area
							is_in_area = hibernia_occidentalis_area
							is_in_area = hibernia_orientalis_area
							is_in_area = hibernia_septentrionalis_area
						}
						has_city_status = yes
						num_of_port_building >= 3
						total_population >= 25
					}
				}
			}


		highlight = {
			scope:province = {
				is_uninhabitable = no
				is_coastal = yes
				or = {
					is_in_area = hibernia_meridionalis_area
					is_in_area = hibernia_occidentalis_area
					is_in_area = hibernia_orientalis_area
					is_in_area = hibernia_septentrionalis_area
				}
			}
		}
		on_completion = {
			custom_tooltip = completion_albion_main_mission_2_1
			show_as_tooltip = {
				random_province = {
					limit = {
						or = {
							is_in_area = hibernia_meridionalis_area
							is_in_area = hibernia_occidentalis_area
							is_in_area = hibernia_orientalis_area
							is_in_area = hibernia_septentrionalis_area
						}
					}
					add_permanent_province_modifier  = {
						name = albion_mod_13
						duration = -1
					}
				}
			}
			trigger_event = {id = me_albion.14}
		}
	}
	albion_main_mission_2_2 = { #fortress of the north
		icon = task_economical
		requires = {
			albion_main_mission_1_2  
		}
		
		allow = {
				custom_tooltip = {
					text = trigger_albion_main_mission_2_2
					any_owned_province = {
						or = {
							terrain = forest
							terrain = mountain
							terrain = marsh
							}
						or = {
							is_in_area = caledonia_meridionalis_area
							is_in_area = caledonia_occidentalis_area
							is_in_area = caledonia_septentrionalis_area
							}
							has_city_status = yes
							num_of_fortress_building >= 3
							total_population >= 20
						}
					}
				}
		
		highlight = {
			scope:province = {
				is_uninhabitable = no
				or = {
					is_in_area = caledonia_meridionalis_area
					is_in_area = caledonia_occidentalis_area
					is_in_area = caledonia_septentrionalis_area
				}
				or = {
					terrain = forest
					terrain = mountain
					terrain = marsh
				}
			}
		}

		on_completion = {
			custom_tooltip = completion_albion_main_mission_2_2
			show_as_tooltip = {
				random_province = {
					limit = {
						or = {
						is_in_area = caledonia_meridionalis_area
						is_in_area = caledonia_occidentalis_area
						is_in_area = caledonia_septentrionalis_area
						}
					}
					add_permanent_province_modifier  = {
						name = albion_mod_14
						duration = -1
					}
				}
			}
			trigger_event = {id = me_albion.15}
		}
	}
	albion_main_mission_2_3 = { #pearl of the south
		icon = task_economical
		requires = {
			albion_main_mission_1_3  #
		}
		
		allow = {
			custom_tooltip = {
				text = trigger_albion_main_mission_2_3
				region:britain_region = {
					any_region_province = {
						has_city_status = yes
						owner = ROOT
						total_population >= 40
						num_of_commerce_building >= 2
						num_of_court_building >= 1
						or = {
							terrain = plains
							terrain = farmland
							terrain = forest
						}
					}
				}
			}
		}
		highlight = {
			scope:province = {
				is_uninhabitable = no
				is_in_region = britain_region
				or = {
					terrain = plains
					terrain = farmland
					terrain = forest
				}
			}
		}
		on_completion = {
			custom_tooltip = completion_albion_main_mission_2_2
			show_as_tooltip = {
				random_province = {
					limit = {
						is_in_region = britain_region
						has_city_status = yes
						or = {
							terrain = plains
							terrain = farmland
							terrain = forest
						}
					}
					add_permanent_province_modifier  = {
						name = albion_mod_15
						duration = -1
					}
				}
			}
			trigger_event = {id = me_albion.16}
		}
	}	

	albion_main_mission_3 = { #victory over the island
		icon = task_economical
		requires = {
			albion_main_mission_2_1 albion_main_mission_2_2 albion_main_mission_2_3
		}
		
		allow = {
			custom_tooltip = {
				text = trigger_albion_main_mission_3
				region:britain_region = {
					any_region_province = {
						count = all
						or = {
							has_owner = no
							owned_or_subject_owned = ROOT
						}
					}
				}
				region:caledonia_region =  {
					any_region_province = {
						count = all
						or = {
							has_owner = no
							owned_or_subject_owned = ROOT
						}
					}
				}
			}
		}

		highlight = {
			scope:province = {
				is_uninhabitable = no
				has_owner = yes
					or = {
					is_in_region = britain_region
					is_in_region = caledonia_region
					}
				NOT = { owner = ROOT }
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { 
			custom_tooltip = completion_albion_main_mission_3 
			trigger_event = { id = me_albion.13}
			hidden_effect = {
				region:caledonia_region = {
					every_region_province = {
						set_owned_by = ROOT
						if = {
							limit = {total_population < 1}
							create_pop = tribesmen
						}
						if = {
							limit = {total_population < 2}
							create_pop = freemen
						}	
					}
				}
				region:britain_region = {
					every_region_province = {
						set_owned_by = ROOT
						if = {
							limit = {total_population < 1}
							create_pop = tribesmen
						}
						if = {
							limit = {total_population < 2}
							create_pop = freemen
						}
					}
				}
			}
		}
	}

	albion_main_mission_4 = { #New power
		icon = task_economical
		requires = {
			albion_main_mission_3
		}
		
		allow = { 
			custom_tooltip = {
				text = trigger_formed_albion
				has_variable = formed_albion_inv #add in the decision of Albion
			}
		}

		on_completion = { trigger_event = { id = me_albion.11 }
			add_country_modifier = {
				name = albion_mod_6
				duration = 36500 #100 years
			}
		}
	}

	albion_main_mission_5_1 = { # a new wall
		icon = task_economical
		requires = {
			albion_main_mission_4
		}
		
		allow = { 
			#custom_tooltip = {
				#text = trigger_albion_main_mission_5_1
				num_of_ships >= 100
			#}
		}

		on_completion = { 
			trigger_event = { id = me_albion.8} 
			custom_tooltip = completion_albion_main_mission_5_1 #we will unlock the naval focus in the decision
			add_country_modifier = {
				name = albion_mod_31
				duration = -1
			}
		}
	}
	albion_main_mission_5_2 = { # stabilize the country
		icon = task_economical
		requires = {
			albion_main_mission_4
		}
		
		allow = { 
			stability >= 60
			war = no
			has_monthly_balance >= 10
			has_monthly_income >= 25
		}

		on_completion = { 
			add_country_modifier = {
			name = albion_mod_9
			duration = 10950 #30 years
			} 
			trigger_event = { id = me_albion.7}
		} 
	}
	albion_main_mission_6_1 = { # professional sailor
		icon = task_economical
		requires = {
			albion_main_mission_5_1 
		}
		
		allow = { 
			invention = trireme_discipline_inv_1
		}

		on_completion = { 
			custom_tooltip = completion_albion_main_mission_6_1 
			trigger_event = { id = me_albion.9}
			} #reward with a naval bonuses through the event
	}
	albion_main_mission_6_2 = { # a new adventure 
		icon = task_economical
		requires = {
			albion_main_mission_5_1 albion_main_mission_5_2  #
		}

		duration = 365
		
		allow = {
			treasury >= 1000
			political_influence >= 50
		}

		on_start = { 
			add_political_influence = -50
			add_treasury = -1000
			custom_tooltip = completion_albion_main_mission_6_2
			trigger_event = {id =  me_albion_travel.1 } #event to chose to travel or not
		} 

		 on_completion = {
		}
	}

	albion_main_mission_6_3 = { # a new capital ?
		icon = task_economical
		requires = {
			albion_main_mission_5_2  #
		}

		duration = 120
		
		allow = {
			war = no
			trigger_if = {
				limit = {
					towards_civil_war = yes
				}
				towards_civil_war = no
			}	
		}

		on_completion = { 
			custom_tooltip = completion_albion_main_mission_6_3
			trigger_event = {id =  me_albion.17}
		} 
	}

	albion_main_mission_6_4 = { # developement focus 
		icon = task_economical
		requires = {
			albion_main_mission_5_2  #
		}
		
		allow = {
			civic_tech >= 4
			treasury >= 250
		}

		on_completion = { 
			add_treasury = -250 
			add_country_modifier = {
				name = albion_mod_18
				duration = 10950 #30 years
			}
				if = { #to avoid modifier stacking
					limit = {has_country_modifier = albion_mod_8}
					remove_country_modifier = albion_mod_8
					add_3_free_province_investments = yes
				}
		}
	}

	albion_main_mission_6_5 = { #colonial adventure
		icon = task_economical
		requires = {
			albion_main_mission_5_1  #
		}


		bypass = {
			area:ultima_thule_area = {
				any_area_province = {
					count = all
					owned_or_subject_owned = root
				}
			}
			
		}
		
		allow = {
			custom_tooltip = {
                text = albion_main_mission_6_5
                any_unit = {
                    is_navy = yes
					or = {
						unit_location = p:5820
						unit_location = p:5823
					}
                    any_sub_unit = {
                        count >= 30
                    }
                }
            }
		}

		highlight = {
			scope:province = {
				OR = {
                    province_id = 5820
					province_id = 5823
				}
			}
        }

		on_completion = { 
			custom_tooltip = completion_albion_main_mission_6_5
			if = {
				limit = {
					area:ultima_thule_area = {
						any_area_province = {
							count >= 1
							has_owner = no
							NOT = {
								OR = {
									province_id = 6037
									province_id = 6035
								}
							}
						}
					}
				}
				trigger_event = { id = me_albion.23 }
			}
			else = {
				trigger_event = { id = me_albion.24 }
				set_variable = {
					name = no_albion_colony
				}
			}
		 }
	}

	albion_main_mission_7_1 = { # reform the country
		icon = task_economical
		requires = {
			albion_main_mission_6_2  #
		}
		allow = {
		}

		bypass = {has_variable = albion_mission_refused_travel}
		prevented_by = { albion_main_mission_7_2 }

		on_completion = { trigger_event = {id = me_albion.18} }
	}

	albion_main_mission_7_2 = { # invest in our tradition
		icon = task_economical
		requires = {
			albion_main_mission_6_2  #
		}
		
		allow = {
		}
		prevented_by = { albion_main_mission_7_1 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_7_3 = { # growing population
		icon = task_economical
		requires = {
			albion_main_mission_6_3  #
		}
		
		allow = {
			capital_scope = {
				total_population >= 60
				num_of_aqueduct_building >= 1
			}
		}

		on_completion = { add_5_free_province_investments = yes } #placeholder
	}

	albion_main_mission_7_4 = { # capital infrastructure
		icon = task_economical
		requires = {
			albion_main_mission_6_3  #
		}
		
		allow = {
			capital_scope.state = {
				calc_true_if = {
					amount >= 3
					state_improvement_military_trigger = yes 
					state_improvement_civic_trigger = yes
					state_improvement_oratory_trigger = yes
					state_improvement_religious_trigger = yes 
				}
			}
			capital_scope = {
				custom_tooltip = {
					text = trigger_albion_main_mission_7_4
					num_of_used_building_slots >= 6
				}
				trigger_if = {
					limit = {
						has_construction = yes
					}
					custom_tooltip = {
						text = ongoing_construction_trigger_tt
						has_construction = no
					}
				}
			}
		}
		on_completion = { 
			capital_scope = {
				add_permanent_province_modifier = {
					name = albion_mod_23
					duration = -1
				}
			}
	 	} 
	}

	albion_main_mission_7_5 = { # iron supplies
		icon = task_economical
		requires = {
			albion_main_mission_6_4  #
		}
		
		allow = {
			any_owned_province = {
				count >= 3
				trade_goods = iron
				}
				num_goods_produced >= 3
				or = {
					num_of_foundry_building >= 1
					num_of_slave_mine_building >= 1
				}
				custom_tooltip = {
					text = caledonia_or_britain
					or = {
						is_in_region = caledonia_region
						is_in_region = britain_region
					}
				}
			}
		highlight = {
			scope:province = {
				or = {
					is_in_region = caledonia_region
					is_in_region = britain_region
				}
				trade_goods = iron		
			}
		}

		on_completion = { 
			add_country_modifier = {
				name = albion_mod_24
				duration = -1
			} 
			trigger_event = {id = me_albion.20}	
		}
	}

	albion_main_mission_7_6 = { # feed the people
		icon = task_economical
		requires = {
			albion_main_mission_6_4  #
		}

		bypass = {
			any_province = {
				count <= 15
				or = {
					is_in_region = caledonia_region
					is_in_region = britain_region
				}
				has_food_trade_good_trigger = yes
				has_city_status = no
			}
		}
		
		allow = {
			any_owned_province = {
				count >= 15
				has_food_trade_good_trigger = yes
				num_of_basic_settlement_infratructure_building >= 1
				custom_tooltip = {
					text = caledonia_or_britain
					or = {
						is_in_region = caledonia_region
						is_in_region = britain_region
					}
				}
			}
		}

		highlight = {
			scope:province = {
				or = {
					is_in_region = caledonia_region
					is_in_region = britain_region
				}
				has_food_trade_good_trigger = yes
				has_city_status = no		
			}
		}

		on_completion = { 
			custom_tooltip = completion_albion_main_mission_7_6
			show_as_tooltip = {
				capital_scope = {
					add_permanent_province_modifier = {
						name = albion_mod_25
							duration = -1
					}
				}
			}
			hidden_effect = {
				region:britain_region = {
					every_region_province = {
						add_permanent_province_modifier = {
							name = albion_mod_25
							duration = -1
						}
					}
				}
				region:caledonia_region= {
					every_region_province = {
						add_permanent_province_modifier = {
							name = albion_mod_25
							duration = -1
						}	
					}
				}
			}
		} 
	}

	albion_main_mission_7_7 = { #prosper colony 
		icon = task_economical
		requires = {
			albion_main_mission_6_5  #
		}
		
		bypass = { has_variable = no_albion_colony }
		
		allow = {
			trigger_if = { 
				limit = { has_variable = albion_norse_colony }
					var:albion_norse_colony = {
						owner = root
						total_population >= 12
						civilization_value >= 20
						or = {
							num_of_ports >= 1
							num_of_fortress_building >= 1
						}
					}
			}
			trigger_else = {
				custom_tooltip = {
					text = trigger_albion_main_mission_7_7
					num_of_ships >= 9999
				}
			}
		}
		on_completion = { 
			if = {
				limit = { has_variable = albion_norse_colony }
				var:albion_norse_colony = {
					add_permanent_province_modifier = {
						name = albion_mod_32
						duration = -1
					}
					if = {
						limit = { has_city_status = no }
						set_city_status = city
					}
				}
			}
			custom_tooltip =  completion_albion_main_mission_7_7
			hidden_effect = {
				area:ultima_thule_area = {
					every_area_province = {add_claim = root}
				}
			}
		 } 
	}

	albion_main_mission_7_8 = { # Urban planning
		icon = task_economical
		requires = {
			albion_main_mission_6_4  #
		}
		
		allow = {
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}


	albion_main_mission_8_1 = { # a modern army
		icon = task_economical
		requires = {
			albion_main_mission_7_1  #
		}
		
		allow = {
			trigger_if = {
				limit = {has_variable = hellenic_ways}
				custom_tooltip = {
					text = albion_main_mission_8_1_hellenic_army
					any_legion = {
						any_legion_unit = {
							any_sub_unit = {
								count >= 20
								or = {
									sub_unit_type = spearmen
									sub_unit_type = heavy_infantry
								}
							}
							any_sub_unit = {
								count >= 10
								or = {
									sub_unit_type = light_cavalry
									sub_unit_type = heavy_cavalry
								} 
							}
						}
					}
				}
			}
			trigger_else_if = {
				limit = {has_variable = italic_ways}
				custom_tooltip = {
					text = albion_main_mission_8_1_italic_army
					any_legion = {
						any_legion_unit = {
							any_sub_unit = {
								count >= 20
								or = {
									sub_unit_type = spearmen
									sub_unit_type = heavy_infantry
								}
							}
							any_sub_unit = {
								count >= 10
								sub_unit_type = heavy_cavalry
							}
						}
					}
				}
			}
			trigger_else_if = {
				limit = {has_variable = punic_ways}
				custom_tooltip = {
					text = albion_main_mission_8_1_punic_army
					any_legion = {
						any_legion_unit = {
							any_sub_unit = {
								count >= 20
								or = {
									sub_unit_type = heavy_infantry
									sub_unit_type = light_infantry
								}
							}
							any_sub_unit = {
								count >= 10
								or ={
									sub_unit_type = warelephant
									sub_unit_type = light_cavalry
								}
							}
						}
					}
				}
			}
			trigger_else = {
				custom_tooltip = { #preventing completing the mission with cheese 
					text = choose_a_way
					num_of_ships >= 9999
				}
			}
		}
		bypass = {has_variable = albion_mission_refused_travel}
		prevented_by = { albion_main_mission_7_2 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_2 = { # new infrastructures
		icon = task_economical
		requires = {
			albion_main_mission_7_1  #
		}
		
		allow = {
			trigger_if = {
				limit = {has_variable = hellenic_ways}
				custom_tooltip = {
					text = albion_main_mission_8_2_hellenic_infra		
				}
			}
			trigger_else_if = {
				limit = {has_variable = italic_ways}
				custom_tooltip = {
					text = albion_main_mission_8_2_italic_infra
				}
			}
			trigger_else_if = {
				limit = {has_variable = punic_ways}
				custom_tooltip = {
					text = albion_main_mission_8_2_punic_infra
				}
			}
			trigger_else = {
				custom_tooltip = { #preventing completing the mission with cheese 
					text = choose_a_way
					num_of_ships >= 9999
				}
			}
		}
		bypass = {has_variable = albion_mission_refused_travel}
		prevented_by = { albion_main_mission_7_2 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_3 = { # a new alphabet
		icon = task_economical
		requires = {
			albion_main_mission_7_1  #
		}
		
		allow = {
			trigger_if = {
				custom_tooltip = { #preventing completing the mission with cheese 
					text = choose_a_way
					num_of_ships >= 9999
				}
			}
		}
		bypass = {has_variable = albion_mission_refused_travel}
		prevented_by = { albion_main_mission_7_2 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_4 = { # a celtic army
		icon = task_economical
		requires = {
			albion_main_mission_7_2  #
		}
		
		allow = {
		}
		prevented_by = { albion_main_mission_7_1 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_5 = { # a keep our root
		icon = task_economical
		requires = {
			albion_main_mission_7_2  #
		}
		
		allow = {
		}
		prevented_by = { albion_main_mission_7_1 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_6 = { # orale tradition
		icon = task_economical
		requires = {
			albion_main_mission_7_2  #
		}
		
		allow = {
		}
		prevented_by = { albion_main_mission_7_1 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_7 = { # assimilation
		icon = task_economical
		requires = {
			albion_main_mission_7_3  #
		}
		
		allow = {
			trigger_if = {
				limit = { 
					war = yes
				}
				war = no
			}
			
		}

		on_completion = {
			custom_tooltip = completion_albion_main_mission_8_7 
			country_event = {id = me_albion.21 }
		 } 
	}

	albion_main_mission_8_8 = { # new justice
		icon = task_economical
		requires = {
			albion_main_mission_7_3
			albion_main_mission_7_4  
		}
		
		allow = {
			trigger_if = {
				limit = { 
					war = yes
				}
				war = no
			}
			capital_scope = {
				num_of_court_building >= 1
			}
		}

		on_completion = { 
			country_event = {id = me_albion.22 }
		} 
	}

	albion_main_mission_8_9 = { # importing supplies
		icon = task_economical
		requires = {
			albion_main_mission_7_4  #
		}
		
		allow = {
			capital_scope.state = {
				incoming_trade_routes >= 7
			}
		}

		on_completion = { 
			capital_scope = {
				add_permanent_province_modifier = {
					name = albion_mod_30
					duration = -1
				}
			}
		} 
	}

	albion_main_mission_8_10 = { # pile of wood
		icon = task_economical
		requires = {
			albion_main_mission_7_5  #
		}
		
		allow = {
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_11 = { # Horse of Bremenium
		icon = task_economical
		requires = {
			albion_main_mission_7_5  #
		}
		
		allow = {
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_12 = { # hunting party
		icon = task_economical
		requires = {
			albion_main_mission_7_6  #
		}
		
		allow = {
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_13 = { # salt conservation
		icon = task_economical
		requires = {
			albion_main_mission_7_6  #
		}
		
		allow = {
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_8_14 = { # citizen goods
		icon = task_economical
		requires = {
			albion_main_mission_7_6 #
		}
		
		allow = {
		}
	
		on_completion = { add_political_influence = 20 } #placeholder
	}

		albion_main_mission_8_15 = { #norse colonny
		icon = task_economical
		requires = {
			albion_main_mission_7_7  #
		}
		
		allow = {
				owns_area = ultima_thule_area
		}

		highlight = {
			scope:province = {
				is_in_area = ultima_thule_area
			}
		}

		on_completion = { 
			custom_tooltip = completion_albion_main_mission_8_15
			show_as_tooltip = {
				var:albion_norse_colony = {
					add_permanent_province_modifier = {
						name = albion_mod_33
						duration = -1
					}
				}
			}
			hidden_effect = {
				area:ultima_thule_area = {
					every_area_province = {
						add_permanent_province_modifier = {
							name = albion_mod_33
							duration = -1
						}
					}
				}
			}
			trigger_event = {id = me_albion.25}
	 	}
	}

	albion_main_mission_9_1 = { # Down of a new era
		icon = task_economical
		requires = {
			albion_main_mission_8_1
			albion_main_mission_8_2
			albion_main_mission_8_3 
		}
		
		allow = {
		}
		bypass = {has_variable = albion_mission_refused_travel}
		prevented_by = { albion_main_mission_7_2 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_9_2 = { # Unify the tradition
		icon = task_economical
		requires = {
			albion_main_mission_8_4
			albion_main_mission_8_5
			albion_main_mission_8_6 #
		}
		
		allow = {
		}

		prevented_by = { albion_main_mission_7_1 }

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_9_3 = { # a new nobility
		icon = task_economical
		requires = {
			albion_main_mission_8_7
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_9_4 = { # new bureaucrats
		icon = task_economical
		requires = {
			albion_main_mission_8_8
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_9_5 = { # trade hub
		icon = task_economical
		requires = {
			albion_main_mission_8_9
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_9_6 = { # my precious
		icon = task_economical
		requires = {
			albion_main_mission_8_14
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_9_7 = { # New nectar
		icon = task_economical
		requires = {
			albion_main_mission_8_14
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_10_1 = { # New culture
		icon = task_economical
		requires = {
			albion_main_mission_9_1
			albion_main_mission_9_2
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_10_2 = { #  Imperial city
		icon = task_economical
		requires = {
			albion_main_mission_9_3
			albion_main_mission_9_4
			albion_main_mission_9_5
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_11_1 = { #  Celtic olympics games
		icon = task_economical
		requires = {
			albion_main_mission_9_1
		}
		
		allow = {
		}
		bypass = {has_variable = albion_mission_refused_travel}
		prevented_by = { albion_main_mission_7_2 }
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_11_2 = { #  new starting point
		icon = task_economical
		requires = {
			albion_main_mission_10_1
		}
		
		allow = {
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_main_mission_11_3 = { #  Manifest destiny
		icon = task_economical
		requires = {
			albion_main_mission_10_1
			albion_main_mission_10_2
		}
		
		final = yes
		allow = {
			has_completed_mission_task = albion_conquest_mission_3_1
		}
		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_side_mission_start = { # Centralize the tribe
		icon = task_economical

		bypass = {is_tribal = no}
		allow = {
			centralization >= 70
		}
		on_completion = { trigger_event = {id = me_albion.6 }}
	}

	albion_side_mission_1 = { #  A political question
		icon = task_economical
		requires = { albion_side_mission_start}
		bypass = {is_tribal = no}
		
		duration = 120
		allow = {}
		on_completion = { 
			trigger_event = {
				id = me_albion.2
			} 
		} 
	}

	albion_side_mission_2 = { #  Support of the elite
		icon = task_economical
		requires = { albion_side_mission_1}
		bypass = {is_tribal = no}
		allow = {
			trigger_if = {
				limit = {
					towards_civil_war = yes
				}
				towards_civil_war = no
			}
			trigger_if = {
				limit = { 
					has_civil_war = yes
				}
			has_civil_war = no
			}
			custom_tooltip = {
				text = trigger_albion_side_mission_2
				any_character ={
					count = 0
					is_head_of_family = yes
					loyalty <= 55
				}
			}
			current_ruler = { 
				popularity >= 70
			}
		}
		on_completion = {
			add_country_modifier = {
			name = albion_mod_7
			duration = 1825
			} 
			trigger_event =  {id= me_albion.3}
		} 
	}

	albion_side_mission_3_1 = { #  Absolute power
		icon = task_economical
		requires = { albion_side_mission_2}
		bypass = {is_tribal = no}
		allow = {
			political_influence >= 50
			has_law = absolute_authority
			stability >= 40
			trigger_if = {
				limit = {
					towards_civil_war = yes
				}
				towards_civil_war = no
			}
			trigger_if = {
				limit = { 
					has_civil_war = yes
				}
			has_civil_war = no
			}
		}
		prevented_by = {albion_side_mission_3_2}
		on_completion = { 
			add_political_influence = -50
			change_government = despotic_monarchy
			switch_government_type_event_clearup_effect = yes  
			current_ruler = {
				add_martial = 2
				add_finesse = 1
				add_charisma = 1
				add_zeal = 2
			}
			add_tyranny = 30
			trigger_event =  {id= me_albion.5}
		} 
	}

	albion_side_mission_3_2 = { #  Respect the elder
		icon = task_economical
		requires = { albion_side_mission_2}
		bypass = {is_tribal = no}
		allow = {
			political_influence >= 50
			has_law = increased_council_powers
			stability >= 40
			trigger_if = {
				limit = {
					towards_civil_war = yes
				}
				towards_civil_war = no
			}
			trigger_if = {
				limit = { 
					has_civil_war = yes
				}
			has_civil_war = no
			}
		}
		prevented_by = {albion_side_mission_3_1}
		on_completion = { 
			add_political_influence = -50
			change_government = democratic_republic
			switch_government_type_event_clearup_effect = yes
			current_ruler = {
				add_martial = 1
				add_finesse = 2
				add_charisma = 2
				add_zeal = 1
			}
			add_tyranny = -30
			trigger_event =  {id= me_albion.4}
		} 
	}

	albion_side_mission_4_1 = { #  Throne of Albion
		icon = task_economical
		requires = { albion_side_mission_3_1}
		prevented_by = {albion_side_mission_4_2 }
		allow = { 
			is_monarchy = yes
			treasury >= 250
			trigger_if = {
				limit = {
					towards_civil_war = yes
				}
				towards_civil_war = no
			}
			trigger_if = {
				limit = { 
					has_civil_war = yes
				}
			has_civil_war = no
			}
			custom_tooltip = {
				text = trigger_formed_albion
				has_variable = formed_albion_inv #add in the decision of Albion
			}
		}
		on_completion = {
			 add_treasury = -250
			 custom_tooltip = completion_albion_side_mission_4_1
			 trigger_event = {
				id = me_albion.1
			 }
		} 
	}

	albion_side_mission_4_2 = { #  Great republic of Albion
		icon = task_economical
		requires = { albion_side_mission_3_2}
		prevented_by = {albion_side_mission_4_1}
		allow = {
				is_republic = yes
				trigger_if = {
					limit = {
						towards_civil_war = yes
					}
					towards_civil_war = no
				}
				trigger_if = {
					limit = { 
						has_civil_war = yes
					}
				has_civil_war = no
				}
					custom_tooltip = {
						text = trigger_formed_albion
						has_variable = formed_albion_inv #add in the decision of Albion
					}
		}
		on_completion = { 
			add_country_modifier = {
				name = albion_mod_5
				duration = -1
			}
			trigger_event =  {id= me_albion.12}
		}
	}

	albion_conquest_mission_start = { #brother in despair
		icon = task_economical
		bypass = {
			region:armorica_region = {
				area:armorica_minoris_area = {
					any_area_province = {
						count = all
						or = {
							owned_or_subject_owned = root
							has_owner = no
						}
					}
				}
				area:armorica_centralis_area = {
					any_area_province = {
						count = all
						or = {
							owned_or_subject_owned = root
							has_owner = no
						}
					}
				}
				area:armorica_maioris_area = {
					any_area_province = {
						count = all
						or = {
							owned_or_subject_owned = root
							has_owner = no
						}
					}
				}
				area:cenomannia_area = {
					any_area_province = {
						count = all
						or = {
							owned_or_subject_owned = root
							has_owner = no
						}
					}
				}
			}
			region:belgica_region = {
				area:veliocassia_area = {
					any_area_province = {
						count = all
						or = {
							owned_or_subject_owned = root
							has_owner = no
						}
					}
				}
				area:morinia_area = {
					any_area_province = {
						count = all
						or = {
							owned_or_subject_owned = root
							has_owner = no
						}
					}
				}
				area:ganuenta_area = {
					any_area_province = {
						count = all
						or = {
							owned_or_subject_owned = root
							has_owner = no
						}
					}
				}
			}

		}
		allow = {
			has_completed_mission_task = albion_main_mission_5_1
			has_completed_mission_task = albion_main_mission_5_2
			political_influence >= 60
		}

		duration = 150

		on_completion = { 
			trigger_event = {id = me_albion.26 }
			show_as_tooltip = {
				add_political_influence = -60
			}
		 } 

	}

	albion_conquest_mission_1_1 = { #secure coastal armorica
		icon = task_economical
		requires = {
			albion_conquest_mission_start  
		}
		
		allow = {
			owns_or_subject_owns_area = armorica_minoris_area
			owns_or_subject_owns_area = armorica_centralis_area
			owns_or_subject_owns_area = armorica_maioris_area
			owns_or_subject_owns_area =	cenomannia_area
		}

		highlight = {
			scope:province = {
				or = {
					is_in_area = armorica_minoris_area
					is_in_area = armorica_centralis_area
					is_in_area = armorica_maioris_area
					is_in_area = armorica_maioris_area
					is_in_area = cenomannia_area
				}
				NOT = { owner = root}
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { add_political_influence = 20 } #placeholder

	}
	albion_conquest_mission_1_2 = { #secure coastal belgica
		icon = task_economical
		requires = {
			albion_conquest_mission_start  
		}
		
		allow = {
			owns_or_subject_owns_area = veliocassia_area
			owns_or_subject_owns_area = morinia_area
			owns_or_subject_owns_area = ganuenta_area
		}

		highlight = {
			scope:province = {
				or = {
				is_in_area = veliocassia_area
				is_in_area = morinia_area
				is_in_area = ganuenta_area
				}
				NOT = { owner = root}
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { add_political_influence = 20 } #placeholder

	}

	albion_conquest_mission_2_1 = { #Armorica restored
		icon = task_economical
		requires = {
			albion_conquest_mission_1_1 
		}
		
		allow = {
			owns_or_subject_owns_region = armorica_region
		}

		highlight = {
			scope:province = {
				is_in_region = armorica_region
				NOT = { owner = root}
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_conquest_mission_2_2 = { #Belgica restored
		icon = task_economical
		requires = {
			albion_conquest_mission_1_2
		}
		
		allow = {
			owns_or_subject_owns_region = belgica_region
		}

		highlight = {
			scope:province = {
				is_in_region = belgica_region
				NOT = { owner = root}
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_conquest_mission_3_1 = { #Albion channel 
		icon = task_economical
		requires = {
			albion_conquest_mission_2_1
			albion_conquest_mission_2_2
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_conquest_mission_4_1 = { #aquitanian submission
		icon = task_economical
		requires = {
			albion_conquest_mission_3_1
		}

		allow = {
			owns_or_subject_owns_region = aquitaine_region
		}

		highlight = {
			scope:province = {
				is_in_region = aquitaine_region
				NOT = { owner = root}
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_conquest_mission_4_2 = { #central gaul expedition
		icon = task_economical
		requires = {
			albion_conquest_mission_3_1
		}

		allow = {
			owns_or_subject_owns_region = central_gaul_region
		}

		highlight = {
			scope:province = {
				is_in_region = central_gaul_region
				NOT = { owner = root}
				owner = {
					NOT = {
						is_subject_of = ROOT
					}
				}
			}
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_conquest_mission_5_1 = { #ports in mediteranean 
		icon = task_economical
		requires = {
			albion_conquest_mission_4_1
			albion_conquest_mission_4_2
		}

		allow = {
			custom_tooltip = {
				text = trigger_albion_conquest_mission_5_1
				region:transalpine_gaul_region = {
					any_region_province = {
						count >= 4
						is_coastal = yes
						owner = root
						num_of_ports >= 1
					}
				}
			}
		}
		highlight = {
			scope:province = {
				is_in_region = transalpine_gaul_region
				is_coastal = yes
				NOT = {
					owner = root
				}
			}
		}

		on_completion = { add_political_influence = 20 } #placeholder
	}

	albion_conquest_mission_6_1 = { #deal with romans
		icon = task_economical
		requires = {
			albion_conquest_mission_5_1
		}

		bypass = {
			c:ROM = {
				has_land = no
			}
		}

		allow = {
			or = {
				c:ROM = {
					opinion = { target = root value >= 125}
				}
			}
			custom_tooltip = {
				text = albion_conquest_mission_6_1
				any_current_war = {
					war_score = {
						target = c:ROM
						value <= 60
					}
				}
			}
		}
		on_completion = { 
			custom_tooltip = albion_roman_respect
			show_as_tooltip = {
				add_country_modifier = {
					name = albion_mod_34
					duration = 10950 #30 years
				}
				add_innovation = 4
				add_military_experience = 50
			}
			custom_tooltip = albion_roman_superiority
			show_as_tooltip = {
				add_country_modifier = {
					name = albion_mod_35
					duration = 10950 #30 years
				}
				add_military_experience = 100
			}
			hidden_effect = {
				if = {
					limit = {
						c:ROM = {
							opinion = { target = root value >= 125}
						}
					}
					add_country_modifier = {
						name = albion_mod_34
						duration = 10950 #30 years
					}
					add_innovation = 4
					add_military_experience = 50
					trigger_event = {id = me_albion.27}
				}
				else = {
					add_country_modifier = {
						name = albion_mod_35
						duration = 10950 #30 years
					}
					add_military_experience = 100
					trigger_event = {id = me_albion.28}
				}
			}
		} 
	}
	albion_conquest_mission_6_2 = { #two kingdoms, one empire
		icon = task_economical
		requires = {
			albion_conquest_mission_5_1
		}

		allow = {
			owns_region = transalpine_gaul_region
			owns_region = armorica_region
			owns_region = aquitaine_region
			owns_region = central_gaul_region
			owns_region = belgica_region
		}

		highlight = {
			scope:province = {
				or = {
					is_in_region = transalpine_gaul_region
					is_in_region = armorica_region
					is_in_region = aquitaine_region
					is_in_region= central_gaul_region
					is_in_region = belgica_region
				}
				NOT = {
					owner = root
				}
			}
		}

		on_completion = { 
			add_country_modifier = {
				name = albion_mod_36
				duration = -1
			}
			add_innovation = 2
			current_ruler = {
				add_martial = 1
				add_finesse = 1
				add_charisma = 1
				add_zeal = 1
				add_popularity = 50
			}
			if = {
				limit = {is_monarchy = yes}
				add_legitimacy = 30
			}
			else = {
				add_political_influence = 50
				add_tyranny = -10
			}
			trigger_event = {id = me_albion.29 }
		} 
	}

	albion_conquest_mission_7_1 = { #A second capital
		icon = task_economical
		requires = {
			albion_conquest_mission_6_2  #
		}
		allow = {
			any_owned_province = {
				custom_tooltip = {
					text = is_in_gaul
					or = {
						is_in_region = transalpine_gaul_region
						is_in_region = armorica_region
						is_in_region = aquitaine_region
						is_in_region= central_gaul_region
						is_in_region = belgica_region
					}
				}
				owner = root
				is_state_capital = yes
				has_province_rank = city_metropolis
				total_population >= 100
				dominant_province_culture = root.culture
				dominant_province_religion = root.religion
			}
		}

		on_completion = { 
			custom_tooltip = completion_albion_conquest_mission_7_1
			show_as_tooltip = {
				capital_scope = {
					add_permanent_province_modifier = {
						name = albion_mod_37
						duration = -1
					}
				}
			}
			trigger_event = { id = me_albion_30 }
		 } #placeholder
	}
}


