bharat_missions = {
	header = "mission_image_generic_greek"
	icon = "general_3"
	repeatable = no
	chance = {
	factor = 5
	}

	potential = {
		NOT = { has_variable = bharat_missions_cooldown }
		OR = {
		tag = MLY
		tag = BHA
		}
	}
	on_start = {
	save_scope_as = mission_country
	}
	on_abort = {
		custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = bharat_missions_cooldown
            days = 7300
	 	}
	}
	on_completion = {
		complete_mission_effect = yes
	}
	bharat_missions_task_1 = {  #Unite the Aryans 
		icon = "task_political"

		allow = {
		custom_tooltip = {
		text = bharat_missions_task_1_tooltip
			NOT = {
				any_country = {
				NOT = { this = root }
				country_culture_group = aryan
				NOT = { is_subject_of = root }
				}
			}
		}
		any_owned_province = {
		province_dominant_culture_group = aryan
		has_province_rank = city_metropolis
		}
		}
		on_completion = {        			
		}
	}
	bharat_missions_task_2 = {  #Unite the Dravidians
		icon = "task_political"

		allow = {
		custom_tooltip = {
		text = bharat_missions_task_2_tooltip
			NOT = {
				any_country = {
				NOT = { this = root }
				country_culture_group = indian
				NOT = { is_subject_of = root }
				}
			}
		}
		any_owned_province = {
		province_dominant_culture_group = indian
		has_province_rank = city_metropolis
		}		
		}
		on_completion = {        			
		}
	}
	bharat_missions_task_3 = {  #Unite the Pracyans
		icon = "task_political"

		allow = {
		custom_tooltip = {
		text = bharat_missions_task_3_tooltip
			NOT = {
				any_country = {
				NOT = { this = root }
				country_culture_group = pracyan
				NOT = { is_subject_of = root }
				}
			}
		}
		any_owned_province = {
		province_dominant_culture_group = pracyan
		has_province_rank = city_metropolis
		}		
		}
		on_completion = {        			
		}
	}
	bharat_missions_task_4 = {  #Indian Empire
		icon = "task_political"
		duration = 1095	#3 Years
		requires = { bharat_missions_task_1 bharat_missions_task_2 bharat_missions_task_3 }

		allow = {	#Empire Govt, 100k Cohorts
			OR = {
			government = imperium
			government = imperial_cult
			}
			custom_tooltip = {
        		text = bharat_missions_task_4_A_tooltip
	        	any_country_sub_unit = {
	        		count >= 100
	        		is_cohort = yes
	        	}
        	}	
		}

		on_start = {
			trigger_event = { id = me_bharat.1 }	##Civil War Warning
		}

		on_completion = {
			custom_tooltip = bharat_missions_task_4_B_tooltip
			trigger_event = { id = me_bharat.2 }	#Civil War
			change_government = indian_empire        			
		}
	}
	bharat_missions_task_5 = {  #Treasures of India
		icon = "task_political"
		requires = { bharat_missions_task_4 }

		allow = {
			custom_tooltip = bharat_missions_task_5_tooltip
#			OR = {		
#			has_variable = has_all_buddhist_treasures_of_india
#			has_variable = has_all_hindu_treasures_of_india
#			}

##Buddhist: Sutta Pitaka, Vinaya Pitaka, Abhidhamma Pitaka, Dhammapada, Milinda Panha, and Satipaṭṭhānavibhaṅgo 
#	These three too:
#        181 = {
#            key = "treasure_tooth_of_buddha" #Kalinga
#            icon = "treasure_chest"
#            state_modifier = {
#				local_happiness_for_same_religion_modifier = 0.1
#			}
#        }
#        182 = {
#            key = "treasure_hair_of_buddha" #Pataliputra?
#            icon = "treasure_chest"
#            state_modifier = {
#				local_citizen_output = 0.1
#			}
#       }
#	Where is this?? ashes_of_buddha_treasure (From bactria missions)

##Hindu: Aitareya, Kaushitakia, Chandogya, Kena, Brihadaranyaka, Isha, Taittiriya, Katha, Shvetashvatara, Maitri, Mundaka, Mandukya, and Prashna
		}

		on_completion = { 
			show_as_tooltip = {
				add_innovation = 5
				add_stability = 20
				add_political_influence = 100
			}		       			
		}
	}
	bharat_missions_task_6 = {  #Bharata (New bloodline)
		icon = "task_political"
		requires = { bharat_missions_task_4 }

		allow = {
			current_ruler = {
				OR = {
				martial >= 15
				finesse >= 15
				}
			}
		}

		on_completion = { 
			custom_tooltip = bharat_missions_task_6_tooltip
			trigger_event = { id = me_bharat.3 }
		}
	}
	bharat_missions_task_7 = {  #Religious Harmony ##Need to do Allow
		icon = "task_political"
		requires = { bharat_missions_task_4 }

		allow = {
		##All of India is root.religion
#			any_owned_province = {
#			is_in_region = pracya_region
#			is_in_region = madhyadesa_region
#			is_in_region = vindhyaprstha_region
#			is_in_region = dravida_region
#			is_in_region = aparanta_region
#			is_in_region = karnata_region
#			is_in_region = avanti_region
#			is_in_region = maru_region
#			is_in_region = gandhara_region
#			dominant_province_religion = root.religion
#			}			
		}

		on_completion = {        
			add_country_modifier = {
			name = religious_unification
			duration = -1
			}			
		}
	}
	bharat_missions_task_8 = {  #Imperial Capital (does this work?)
		icon = "task_political"
		requires = { bharat_missions_task_4 }

		allow = {
			capital_scope = {
				total_population >= 150
				any_great_work_in_province = {
#				great_work_category = tower
				great_work_min_effect_tier = 2
				}
			}
		}

		on_completion = {  
			capital_scope = {
				add_permanent_province_modifier = {
					name = capital_of_the_continent
				}
			}      			
		}
	}
	bharat_missions_task_9 = {  #Exotic Goods of India ##NEED to check if this works
		icon = "task_political"
		requires = { bharat_missions_task_6 bharat_missions_task_7 }

		allow = {
			custom_tooltip = {
			text = bharat_missions_task_9_A_tooltip
			any_owned_province = {
			trade_goods = amber
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = spices
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = elephants
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = precious_metals
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = dye
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = honey
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = incense 
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = dates 
			num_goods_produced >= 5
			}			
			any_owned_province = {
			trade_goods = gems
			num_goods_produced >= 5
			}				
			any_owned_province = {
			trade_goods = glass
			num_goods_produced >= 5
			}
			any_owned_province = {
			trade_goods = silk
			num_goods_produced >= 5
			}
			}																							
		}

		on_completion = {
		custom_tooltip = bharat_missions_task_9_B_tooltip
		hidden_effect = {
			every_owned_province = {
				limit = {
				trade_goods = amber
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}
			}
			every_owned_province = {
				limit = {
				trade_goods = spices
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}				
			}
			every_owned_province = {
				limit = {
				trade_goods = elephants
				num_goods_produced >= 5				
				}
			}
			every_owned_province = {
				limit = {
				trade_goods = precious_metals
				num_goods_produced >= 5				
				}
			}
			every_owned_province = {
				limit = {
				trade_goods = dye
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}				
			}
			every_owned_province = {
				limit = {
				trade_goods = incense
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}				
			}	
			every_owned_province = {
				limit = {
				trade_goods = dates
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}				
			}
			every_owned_province = {
				limit = {
				trade_goods = gems
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}				
			}
			every_owned_province = {
				limit = {
				trade_goods = glass
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}				
			}
			every_owned_province = {
				limit = {
				trade_goods = silk
				num_goods_produced >= 5				
				}
				add_permanent_province_modifier = {
				name = exotic_goods_of_india
				}				
			}																												
		}		        			
		}
	}
	bharat_missions_task_10 = {  #Great Works of India 	##Need to figure out what 5 provinces to build wonders in
		icon = "task_political"
		requires = { bharat_missions_task_8 }

		allow = {
			custom_tooltip = {
			text = bharat_missions_task_10_tooltip
			p:7074 = { # Pattithana		##Ajanta caves in Deccan
				any_great_work_in_province = {
				great_work_builder = root
				}
			}
			p:4444 = { # Gaya		##Mahabodhi Temple Complex at Bodh Gaya
				any_great_work_in_province = {
				great_work_builder = root
				}
			}
			p:6927 = { # Urayur		##The Chola Temples ##URAYUR
				any_great_work_in_province = {
				great_work_builder = root
				}
			}
			p:7394 = { # Fathabad		##The Bengal Temples
				any_great_work_in_province = {
				great_work_builder = root
				}
			}
			p:6816 = { # Prabhasa		##The Gujarat Temples
				any_great_work_in_province = {
				great_work_builder = root
				}
			}
			}															
		}

		highlight = {
			scope:province = {
				OR = {
				province_id = 7074
				province_id = 4444
				province_id = 6927
				province_id = 7394
				province_id = 6816
				}
			}
		}

		on_completion = {
			add_stability = 20
			p:7074 = {
				add_permanent_province_modifier = {
				name = wonder_of_india
				}
			}
			p:4444 = {
				add_permanent_province_modifier = {
				name = wonder_of_india
				}
			}
			p:6927 = {
				add_permanent_province_modifier = {
				name = wonder_of_india
				}
			}
			p:7394 = {
				add_permanent_province_modifier = {
				name = wonder_of_india
				}
			}
			p:6816 = {
				add_permanent_province_modifier = {
				name = wonder_of_india
				}
			}        			
		}
	}
##Start of Conquest Missions
	bharat_missions_task_11 = {  #Conquer Tibet and Bactria
		icon = "task_political"
		requires = { bharat_missions_task_4 }

		allow = {
			owns_region = sogdiana_region
			owns_region = tibet_region
			owns_region = himalayan_region
			owns_region = bactriana_region
		}

		highlight = {
            scope:province = {
            	OR = {
            	is_in_region = sogdiana_region
            	is_in_region = tibet_region
            	is_in_region = himalayan_region
            	is_in_region = bactriana_region
            	}
            }
        }		

		on_completion = {
			custom_tooltip = bharat_missions_task_11_tooltip
			trigger_event = { id = me_bharat.4 }		        			
		}
	}
	bharat_missions_task_12 = {  #Conquer Persia
		icon = "task_political"
		requires = { bharat_missions_task_4 }

		allow = {
			owns_region = gedrosia_region
			owns_region = ariana_region
			owns_region = parthia_region
			owns_region = persis_region
		}

		highlight = {
            scope:province = {
            	OR = {
            	is_in_region = gedrosia_region
            	is_in_region = ariana_region
            	is_in_region = parthia_region
            	is_in_region = persis_region
            	}
            }
        }

		on_completion = { 
			custom_tooltip = bharat_missions_task_12_tooltip
			trigger_event = { id = me_bharat.8 }	     			
		}
	}
	bharat_missions_task_13 = {  #Conquer Mesopotamia
		icon = "task_political"
		requires = { bharat_missions_task_11 bharat_missions_task_12 }

		allow = {
			owns_region = media_region
			owns_region = assyria_region
			owns_region = mesopotamia_region
			owns_region = armenia_region
		}

		highlight = {
            scope:province = {
            	OR = {
            	is_in_region = media_region
            	is_in_region = assyria_region
            	is_in_region = mesopotamia_region
            	is_in_region = armenia_region
            	}
            }
        }

		on_completion = {
			custom_tooltip = bharat_missions_task_13_tooltip
			trigger_event = { id = me_bharat.12 }		        			
		}
	}
	bharat_missions_task_14 = {  #Conquer Egypt
		icon = "task_political"
		requires = { bharat_missions_task_13 }

		allow = {
			owns_region = lower_egypt_region
			owns_region = upper_egypt_region
		}

		highlight = {
            scope:province = {
            	OR = {
            	is_in_region = lower_egypt_region
            	is_in_region = upper_egypt_region
            	}
            }
        }

		on_completion = {
			custom_tooltip = bharat_missions_task_14_tooltip
			trigger_event = { id = me_bharat.16 }	        			
		}
	}
	bharat_missions_task_15 = {  #Conquer Syria and Arabia
		icon = "task_political"
		requires = { bharat_missions_task_13 }

		allow = {
			owns_region = syria_region
			owns_region = palestine_region
			owns_region = arabia_region
			owns_region = arabia_felix_region
		}

		highlight = {
            scope:province = {
            	OR = {
            	is_in_region = syria_region
            	is_in_region = palestine_region
                is_in_region = arabia_region
            	is_in_region = arabia_felix_region
            	}
            }
        }

		on_completion = { 
			custom_tooltip = bharat_missions_task_15_tooltip
			trigger_event = { id = me_bharat.20 }		       			
		}
	}
	bharat_missions_task_16 = {  #Into Asia Minor
		icon = "task_political"
		requires = { bharat_missions_task_13 }

		allow = {
			owns_region = cappadocia_pontica_region
			owns_region = cappadocia_region
			owns_region = cilicia_region
			owns_region = galatia_region
			owns_region = asia_region
			owns_region = bithynia_region			
		}

		highlight = {
            scope:province = {
            	OR = {
            	is_in_region = cappadocia_pontica_region
            	is_in_region = cappadocia_region
                is_in_region = cilicia_region
            	is_in_region = galatia_region
                is_in_region = asia_region
            	is_in_region = bithynia_region            	
            	}
            }
        }

		on_completion = { 
			custom_tooltip = bharat_missions_task_16_tooltip
			trigger_event = { id = me_bharat.24 }	       			
		}
	}
	bharat_missions_task_17 = {  #REDNAXELA	#Needs more swag
		icon = "task_political"
		requires = { bharat_missions_task_14 bharat_missions_task_15 bharat_missions_task_16 }
		final = yes

		allow = {
			owns_region = macedonia_region
			owns_region = thrace_region
			owns_region = greece_region		
		}

		highlight = {
            scope:province = {
            	OR = {
            	is_in_region = macedonia_region
            	is_in_region = thrace_region
                is_in_region = greece_region           	
            	}
            }
        }

		on_completion = {        			
		}
	}						
}