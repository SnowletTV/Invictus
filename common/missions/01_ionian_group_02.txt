ionian_resurgence_2 = { # mission tree after pan-ionian league
    icon = cde_indo_greek_port_city
    header = mission_image_syracuse

    repeatable = no
    chance = {
		factor = 10
	}

    potential = {
        OR = {
            has_completed_mission = ionian_resurgence
            tag = IOU
        }
        NOT = {
            has_variable = ion2_mission_cooldown_var
        }
        NOT = {
            has_variable = disallow_paniona_var
        }
    }

    abort = {
		ai_mission_back_out_trigger = yes
	}

    on_start = {
        start_mission_ai_effect = yes
    }
    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = ion2_mission_cooldown_var
            days = 7300
        }
    }
    on_completion = {
		complete_mission_effect = yes
        add_1_free_province_investments = yes
	}

    ionian_league_task_1 = {
        icon = "task_diplomatic"

		duration = 60

		on_completion = {
            show_as_tooltip = {
                mission_claim_region_effect = { REGION = asia_region }
            }
        }
    }

    ionian_league_task_2 = {
        icon = "task_diplomatic"

		allow = {
            owns_or_subject_owns_region = asia_region
        }

        highlight = {
			scope:province = {
				is_in_region = asia_region
				NOT = {
					owner = root
				}
			}
		}

        requires = {
            ionian_league_task_1
        }

		on_completion = {
            show_as_tooltip = {
                mission_claim_region_effect = { REGION = galatia_region }
                mission_claim_region_effect = { REGION = bithynia_region }
                mission_claim_region_effect = { REGION = cilicia_region }
                mission_claim_region_effect = { REGION = thrace_region }
                mission_claim_area_effect = { AREA = aegean_islands_area }
            }
        }
    }

    ionian_league_task_3 = {
        icon = "task_diplomatic"

		allow = {
            owns_or_subject_owns_area = aegean_islands_area
        }

        requires = {
            ionian_league_task_2
        }

        highlight = {
            scope:province = {
                OR = {
                    is_in_area = aegean_islands_area
                }
            }
        }

		on_completion = {
            show_as_tooltip = {
                mission_claim_region_effect = { REGION = greece_region }
                capital_scope = {
                    state = {
                        add_state_modifier = {
                            name = trading_hub_smod
                            duration = -1
                        }
                    }
                }
                p:263 = {
                    state = {
                        add_state_modifier = {
                            name = trading_hub_smod
                            duration = -1
                        }
                    }
                }
            }
        }
    }

    ionian_league_task_4 = {
        icon = "task_diplomatic"

        requires = {
            ionian_league_task_2
        }

		allow = {
            owns_or_subject_owns_region = galatia_region
        }

        highlight = {
			scope:province = {
				is_in_region = galatia_region
				NOT = {
					owner = root
				}
			}
		}

		on_completion = {}
    }

    ionian_league_task_5 = {
        icon = "task_diplomatic"

        requires = {
            ionian_league_task_2
        }

		allow = {
            owns_or_subject_owns_region = bithynia_region
        }

        highlight = {
			scope:province = {
				is_in_region = bithynia_region
				NOT = {
					owner = root
				}
			}
		}

		on_completion = {}
    }

    ionian_league_task_6 = {
        icon = "task_diplomatic"

        requires = {
            ionian_league_task_5
        }

		allow = {
            
        }

		on_completion = {}
    }

    ionian_league_task_7 = {
        icon = "task_diplomatic"

        requires = {
            ionian_league_task_1
        }

		allow = {}

		on_completion = {}
    }

    ionian_league_task_8 = {
        icon = "task_diplomatic"

        requires = {
            ionian_league_task_3
        }

		allow = {
            owns_or_subject_owns_area = greece_region
        }

        highlight = {
			scope:province = {
				is_in_region = greece_region
				NOT = {
					owner = root
				}
			}
		}

		on_completion = {}
    }

    ionian_league_task_9 = {
        icon = "task_diplomatic"

        requires = {
            ionian_league_task_4
        }

		allow = {}

		on_completion = {}
    }

    ionian_league_task_10 = {
        icon = "task_diplomatic"

        requires = {
            ionian_league_task_2
        }

		allow = {
            owns_or_subject_owns_area = rhodope_area
            owns_or_subject_owns_area = europa_area
        }

        highlight = {
			scope:province = {
				OR = {
                    is_in_area = rhodope_area
                    is_in_area = europa_area
                }
				NOT = {
					owner = root
				}
			}
		}

		on_completion = {}
    }
}