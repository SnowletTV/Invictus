taras_missions = {
    header = "mission_image_syracuse"
    icon = "cde_greek_market_declaration"

    repeatable = no
    chance = 1000

    potential = {
        NOT = { has_variable = taras_mission_cooldown_var }
        tag = TAR
    }

    abort = {}
    on_start = {
        start_mission_ai_effect = yes
    }
    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = taras_mission_cooldown_var
            days = 7300
        }
    }
    on_completion = {
        add_4_free_province_investments = yes
    }
    taras_missions_task_1 = { # War of 304
        icon = "task_heracles"
        highlight = {
            scope:province = {
                OR = {
                    owner = c:SPA
                    owner = c:APU
                    owner = c:MSP
                    owner = c:LCA
                    owner = c:TAR
                }
            }
        }
        allow = {
            custom_tooltip = {
				text = samnium_doesn_fight_303_tt
				OR = {
					has_global_variable = lucania_lost_war
					has_global_variable = tarentum_lost_war
					has_variable = samnium_doesnt_fight_var
				}
			}
        }

		bypass = {
			current_date >= 460.1.1 # 10 years after game start
		}
        on_completion = {
            trigger_event = me_taras.1
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_2 = { # Ruins of Taras
        requires = { taras_missions_task_1 }
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.2
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_3 = { # War Against Metapontum
        requires = { taras_missions_task_1 }
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.3
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_4 = { # A Temple For Poseidon
        requires = { taras_missions_task_2 }
        icon = "task_political"
        allow = {
        }
        on_completion = {
            trigger_event = me_taras.4
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_5 = { # Revitalizing the Marketplace
        icon = "task_political"
        requires = { taras_missions_task_2 }
        allow = {}
        on_completion = {
            trigger_event = me_taras.5
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_6 = { # Patronizing the Arts
        requires = { taras_missions_task_3 }
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.6
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_7 = { # Horsemen of Taras
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.7
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_8 = {
        requires = { taras_missions_task_7 } # Extensive Training
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.8
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_9 = { # Messapian Mercenaries
        requires = { taras_missions_task_7 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.9
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_10 = { # Apulian Conquest
        requires = { taras_missions_task_1 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.10
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_11 = {
        requires = { taras_missions_task_10 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.11
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_12 = {
        requires = { taras_missions_task_11 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.12
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_13 = {
        requires = { taras_missions_task_11 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.13
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_14 = {
        requires = { taras_missions_task_11 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.14
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_15 = {
        requires = { taras_missions_task_4 taras_missions_task_5 taras_missions_task_6 taras_missions_task_21 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.15
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_16 = {
        requires = { taras_missions_task_15 taras_missions_task_12 taras_missions_task_13 taras_missions_task_14 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.16
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_17 = { # Crossing The Strait
        requires = { taras_missions_task_16 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.17
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_18 = { # Tarentine Sicily
        requires = { taras_missions_task_17 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.18
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_19 = { # Mysteries of Pythagoras
        requires = { taras_missions_task_16 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.19
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_20 = { # Scholars of Rhegium 
        requires = { taras_missions_task_19 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.20
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_21 = { # Hinterland Farms
        requires = { taras_missions_task_2 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.21
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_22 = { # Governance of Herakleia
        requires = { taras_missions_task_1 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.22
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_23 = { # Freeing Neapolis
        requires = { taras_missions_task_16 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.23
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_24 = { # Taras Invicta
        requires = { taras_missions_task_23 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.24
            show_as_tooltip = {

            }
        }
    }
    taras_missions_task_25 = {
        requires = { taras_missions_task_18 taras_missions_task_20 taras_missions_task_24 } 
        icon = "task_political"
        allow = {}
        on_completion = {
            trigger_event = me_taras.25
            show_as_tooltip = {
                current_ruler = { add_nickname = NICKNAME_OMAGYRIOS }
				change_country_name = "MAGNA_GRAECIA_NAME"
				capital_scope = {
					capital_formable_medium_effect = yes
					formable_capital_modifier_normal_effect = yes
				}
				custom_tooltip = "form_magna_graecia_claims_tooltip"
				add_4_free_province_investments = yes
			}
		}

		final = yes
	}
}