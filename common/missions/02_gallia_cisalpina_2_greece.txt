barbaricum_gallia_cisalpina_greece_mission = {
    header = "mission_image_rome"
    icon = "rome_4"

    repeatable = no

    chance = {
    	factor = 8
    }
	

    potential = {
        NOT = { has_variable = barbaricum_gallia_cisalpina_greece_mission }
        is_subject = no
        has_civil_war = no
		primary_culture = lepontic
    	OR = {
    		any_owned_province = {
    			is_in_region = greece_region
    		}
    		has_completed_mission = barbaricum_gallia_cisalpina_greece_mission
    	}
    }

    abort = {
        ai_mission_back_out_trigger = yes
		set_variable = {
            name = barbaricum_gallia_cisalpina_greece_mission
            days = 7300
        }
    }

    on_start = {
        start_mission_ai_effect = yes
		trigger_event = flavor_gaul.130
        if = {
            limit = { is_ai = yes }
            region:illyria_region = {
                every_region_province = { add_claim = ROOT }
            }
            region:greece_region = {
                every_region_province = { add_claim = ROOT }
            }
            region:macedonia_region = {
                every_region_province = { add_claim = ROOT }
            }
            region:thrace_region = {
                every_region_province = { add_claim = ROOT }
            }
        }
    }

    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = barbaricum_gallia_cisalpina_greece_mission
            days = 7300
        }
    }

    on_completion = {
        complete_mission_effect = yes
    }

    barbaricum_gallia_cisalpina_greece_mission_task_1 = { # Eastern Strike Fleet
        icon = "task_expansion"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_3 }

        allow = {
			num_of_ships >= 50
        }

        on_completion = {
        	add_country_modifier = {
        		name = lepontic_mission_eastern_strike_fleet_modifier
        		duration = 3650
        	}
        }
    }

    barbaricum_gallia_cisalpina_greece_mission_task_2 = { # Greeks of Illyria
        icon = "task_conquest"

        highlight = {
            scope:province = {
				OR = {
					province_id = 4034
					province_id = 4084
					province_id = 8026
					province_id = 8027
					province_id = 4085
				}
            }
        }

        allow = {
			owns_or_subject_owns = 4034
			owns_or_subject_owns = 4084
			owns_or_subject_owns = 8026
			owns_or_subject_owns = 8027
			owns_or_subject_owns = 4085
        }

        on_completion = {
        	roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_2_claims
			hidden_effect = {
				area:histria_area = { mission_area_claim_effect = yes }
				area:dalmatia_occidentalis_area = { mission_area_claim_effect = yes }
				area:dalmatia_centralis_area = { mission_area_claim_effect = yes }
			}
			add_treasury = 100
        }
    }

    barbaricum_gallia_cisalpina_greece_mission_task_3 = { # Island Foothold
        icon = "task_conquest"
		
		highlight = {
			scope:province = {
				OR = {
					province_id = 470
					province_id = 459
					province_id = 454
					province_id = 263
					province_id = 1835
				}
    		}
    	}

        allow = {
        	OR = {
	        	owns_or_subject_owns = 470
	        	owns_or_subject_owns = 459
	        	owns_or_subject_owns = 454
	        	owns_or_subject_owns = 263
	        	owns_or_subject_owns = 1835
        	}
        }

        on_completion = {
        	roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_3_claims
			hidden_effect = {
				area:epirus_area = { mission_area_claim_effect = yes }
				area:aetolia_area = { mission_area_claim_effect = yes }
				area:illyria_graeca_area = { mission_area_claim_effect = yes }
			}
        }
    }

    barbaricum_gallia_cisalpina_greece_mission_task_4 = { # Burn down Delphi lol 
        icon = "task_political"
		duration = 30

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_10 }
		
		highlight = {
			scope:province = {
				province_id = 424
			}
		}

        allow = {
        	owns = 424
        }
		
		on_start = {
			trigger_event = flavor_gaul.131
		}

        on_completion = {
			custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_4_reward_tt
			trigger_event = flavor_gaul.132
        }
    }

    barbaricum_gallia_cisalpina_greece_mission_task_5 = { # Pannonian Celts
        icon = "task_diplomatic"
		requires = { barbaricum_gallia_cisalpina_greece_mission_task_2 }

        highlight = {
            scope:province = {
				OR = {
					owned_or_subject_owned = c:DND
					owned_or_subject_owned = c:SCD
					owned_or_subject_owned = c:X12
					owned_or_subject_owned = c:X13
				}
            }
        }

        bypass = {
            c:DND = {
				has_land = no
			}
			c:SCD = {
				has_land = no
			}
			c:X12 = {
				has_land = no
			}
			c:X13 = {
				has_land = no
			}
        }

        allow = {
        	OR = {
        		alliance_with = c:DND
				c:DND = {
					opinion = { target = root value >= 25 }
				}
        		alliance_with = c:SCD
				c:SCD = {
					opinion = { target = root value >= 25 }
				}
        		alliance_with = c:X12
				c:X12 = {
					opinion = { target = root value >= 25 }
				}
        		alliance_with = c:X13
				c:X13 = {
					opinion = { target = root value >= 25 }
				}
        	}
        }

        on_completion = {
        	custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_5_effect_tt #we will send them an envoy to become our subject
			trigger_event = flavor_gaul.133 #134 + 135 + 136
        }
    }

    barbaricum_gallia_cisalpina_greece_mission_task_6 = { # Ionian Coast
        icon = "task_conquest"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_3 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = aetolia_area
					is_in_area = epirus_area
					is_in_area = illyria_graeca_area
				}
				
			}
    	}

    	allow = {
    		owns_or_subject_owns_area = aetolia_area
    		owns_or_subject_owns_area = epirus_area
    		owns_or_subject_owns_area = illyria_graeca_area
    	}

        on_completion = {
        	roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
			trigger_event = flavor_gaul.137 #roman_conquest_2.2
			custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_6_claims
			hidden_effect = {
				area:upper_macedonia_area = { mission_area_claim_effect = yes }
				area:thessaly_area = { mission_area_claim_effect = yes }
				area:chalkidiki_area = { mission_area_claim_effect = yes }
				area:macedonia_area = { mission_area_claim_effect = yes }
				area:boeotia_area = { mission_area_claim_effect = yes }
				area:central_greece_area = { mission_area_claim_effect = yes }
			}
			add_treasury = 200
        }
    }

    barbaricum_gallia_cisalpina_greece_mission_task_7 = { # Subdue Thrace
        icon = "task_conquest"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_9 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = rhodope_area
					is_in_area = thracia_area
					is_in_area = europa_area
					is_in_area = haemimontus_area
				}
				
			}
    	}

    	allow = {
    		owns_or_subject_owns_area = rhodope_area
    		owns_or_subject_owns_area = thracia_area
    		owns_or_subject_owns_area = europa_area
    		owns_or_subject_owns_area = haemimontus_area
    	}

    	on_completion = {
    		roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
        	trigger_event = flavor_gaul.138 #roman_conquest_2.4
			custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_7_claims
			hidden_effect = {
				area:mysia_abrettene_area = { mission_area_claim_effect = yes }
				area:aeolia_area = { mission_area_claim_effect = yes }
			}
    	}
    }

    barbaricum_gallia_cisalpina_greece_mission_task_8 = { # Riches of the Islands
        icon = "task_conquest"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_10 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = euboea_area
					is_in_area = aegean_islands_area
					is_in_area = crete_area
					is_in_area = sporades_area
				}
				
			}
    	}

    	allow = {
    		owns_or_subject_owns_area = euboea_area
    		owns_or_subject_owns_area = aegean_islands_area
    		owns_or_subject_owns_area = crete_area
    		owns_or_subject_owns_area = sporades_area
    	}

    	on_completion = {
    		roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
        	trigger_event = flavor_gaul.139
			add_treasury = 400
    	}
    }

    barbaricum_gallia_cisalpina_greece_mission_task_9 = { # Annexing Macedon
        icon = "task_conquest"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_5 barbaricum_gallia_cisalpina_greece_mission_task_6 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = upper_macedonia_area
					is_in_area = macedonia_area
					is_in_area = chalkidiki_area
					is_in_area = thessaly_area
				}
			}
    	}

    	allow = {
    		owns_or_subject_owns_area = upper_macedonia_area
    		owns_or_subject_owns_area = macedonia_area
    		owns_or_subject_owns_area = chalkidiki_area
    		owns_or_subject_owns_area = thessaly_area
    	}

    	on_completion = {
    		roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
        	trigger_event = flavor_gaul.140 #roman_conquest_2.6
			custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_9_claims
			hidden_effect = {
				area:rhodope_area = { mission_area_claim_effect = yes }
				area:thracia_area = { mission_area_claim_effect = yes }
				area:europa_area = { mission_area_claim_effect = yes }
				area:haemimontus_area = { mission_area_claim_effect = yes }
			}
    	}
    }

    barbaricum_gallia_cisalpina_greece_mission_task_10 = { # Home of Civilisation
        icon = "task_conquest"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_6 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = boeotia_area
					is_in_area = central_greece_area
				}
			}
    	}

    	allow = {
    		owns_or_subject_owns_area = boeotia_area
    		owns_or_subject_owns_area = central_greece_area
    	}

    	on_completion = {
    		roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
        	trigger_event = flavor_gaul.141 #roman_conquest_2.8
			custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_10_claims
			hidden_effect = {
				area:achaea_area = { mission_area_claim_effect = yes }
				area:south_peleponnesos_area = { mission_area_claim_effect = yes }
				area:arcadia_area = { mission_area_claim_effect = yes }
			}
    	}
    }

    barbaricum_gallia_cisalpina_greece_mission_task_11 = { # Peloponnesian Campaign
        icon = "task_conquest"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_10 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = south_peleponnesos_area
					is_in_area = achaea_area
                    is_in_area = arcadia_area
				}
			}
    	}

    	allow = {
			owns_or_subject_owns_area = south_peleponnesos_area
			owns_or_subject_owns_area = achaea_area
			owns_or_subject_owns_area = arcadia_area
    	}

    	on_completion = {
    		roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
        	trigger_event = flavor_gaul.142 #roman_conquest_2.7
			custom_tooltip = barbaricum_gallia_cisalpina_greece_mission_task_11_claims
			hidden_effect = {
				area:coastal_caria_area = { mission_area_claim_effect = yes }
				area:ionia_area = { mission_area_claim_effect = yes }
			}
			add_treasury = 400
    	}
    }

    barbaricum_gallia_cisalpina_greece_mission_task_12 = { # Illyrian Coast
        icon = "task_conquest"

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_2 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = dalmatia_occidentalis_area
					is_in_area = dalmatia_centralis_area
                    is_in_area = histria_area
				}
			}
    	}

    	allow = {
			owns_or_subject_owns_area = dalmatia_occidentalis_area
			owns_or_subject_owns_area = dalmatia_centralis_area
			owns_or_subject_owns_area = histria_area
    	}

    	on_completion = {
    		roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
        	trigger_event = flavor_gaul.143
    	}
    }

    barbaricum_gallia_cisalpina_greece_mission_task_13 = { # Riches of Asia Minor
        icon = "task_expansion"
		final = yes

    	requires = { barbaricum_gallia_cisalpina_greece_mission_task_7 barbaricum_gallia_cisalpina_greece_mission_task_11 }

    	highlight = {
			scope:province = {
				OR = {
					is_in_area = coastal_caria_area
					is_in_area = ionia_area
					is_in_area = aeolia_area
					province_id = 278
				}
				
			}
    	}

    	allow = {
    		owns_or_subject_owns_area = coastal_caria_area
    		owns_or_subject_owns_area = ionia_area
    		owns_or_subject_owns_area = aeolia_area
			owns_or_subject_owns = 278
    	}

    	on_completion = {
    		roman_mission_ruler_popularity_effect = yes
        	custom_tooltip = lepontic_colony_tt
        	trigger_event = flavor_gaul.144
			add_treasury = 1000
    	}
    }
}