barbaricum_gaul_wol = {
    header = "mssion_gaul"
	icon = "general_3"

    repeatable = no

    chance = {
        factor = 5
    }

    potential = {
        NOT = { has_variable = barbaricum_gaul_wol }
        is_subject = no
        has_civil_war = no
		OR = {
			country_culture_group = belgae_group
			country_culture_group = gallic
		}
		religion = druidism
		is_tribal = yes
    }

    abort = {
        ai_mission_back_out_trigger = yes
    }

    on_start = {
        start_mission_ai_effect = yes
    }

    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = barbaricum_gaul_wol
            days = 7300
        }
    }

    on_completion = {
        complete_mission_effect = yes
    }


    barbaricum_gaul_wol_task_1 = { # Tribal duel

        icon = "task_battle"
		
		allow = {
			current_ruler = {
				has_character_modifier = renowned_fighter
			}
		}
		
		on_completion = {
			add_political_influence = 25
			add_military_experience = 5
			current_ruler = {
				add_martial = 1
			}
		}
		
		
    }

	barbaricum_gaul_wol_task_2 = { # Druidic Wisdom
        icon = "task_religion"


        allow = {
			trigger_if = {
                limit = {
                    exists = job_holder:office_high_priest
                }
                job_holder:office_high_priest = {
                    loyalty >= 70
                    zeal >= 8
                }
            }
            trigger_else = {
                custom_tooltip = {
                    text = missing_office_holder_high_priest
                    always = no
                }
            }
        }

        on_completion = {
			custom_tooltip = barbaricum_wol_event_1
			trigger_event = flavor_gaul.55
        }
    }

	barbaricum_gaul_wol_task_3 = { # Sacrifice to the Gods (La Tène)
		requires = {  barbaricum_gaul_wol_task_2 }
        icon = "task_religion"

        allow = {
			treasury >= 100
			current_ruler = {
				zeal >= 6
			}
			any_owned_province = {
				dominant_province_religion = druidism
			}
        }

        on_completion = {
			show_as_tooltip = {
				random_owned_province = {
					limit = { dominant_province_religion = druidism }
					add_province_modifier = {
						name = "la_tene_modifier"
						duration = -1
					}
				}
			}
			trigger_event = flavor_gaul.56
        }
    }

	barbaricum_gaul_wol_task_4 = { # Celtic Seasons
		requires = { barbaricum_gaul_wol_task_2 }
        icon = "task_economical"



        allow = {
			stability >= 60
			political_influence >= 50
        }

        on_completion = {
			show_as_tooltip = {
				add_country_modifier = {
					name = "celtic_calendar"
					duration = -1
				}
				add_political_influence = -50
			}
			trigger_event = flavor_gaul.57 #58, 59, 60, 61 - seasons
        }
    }

	barbaricum_gaul_wol_task_5 = { # Feast Preparations
        icon = "task_economical"



        allow = {
			capital_scope = {
				OR = {
					is_importing_trade_good = glass
					is_importing_trade_good = amber
					is_importing_trade_good = gems
					is_importing_trade_good = precious_metals
				}
			}
			any_owned_province = {
				trade_goods = wine
				trade_goods = cattle
				trade_goods = earthware
			}
        }

        on_completion = {
			add_centralization = 20
			capital_scope.state = {
				add_state_food = 200.0
			}
			random_owned_province.state = {
				add_state_food = 100.0
				add_state_loyalty = 10.0
			}
        }
    }
	
	barbaricum_gaul_wol_task_6 = { # Hunting
        icon = "task_economical"
		duration = 30
		
		on_start = {
			trigger_event = flavor_gaul.63 #64,65 follow ups
		}

        allow = {
			treasury >= 50
        }

        on_completion = {
			show_as_tooltip = {
				capital_scope.state = {
					add_state_food = 200.0
				}
			}
        }
    }
	
	barbaricum_gaul_wol_task_7 = { # Search for a Bard - Cacofonix
        icon = "task_happiness"

		duration = 90
		
		on_start = {
			trigger_event = flavor_gaul.66 #67,68 follow ups
		}

        allow = {
			treasury > 50
        }

        on_completion = {
			custom_tooltip = barbaricum_wol_event_7
        }
    }


	barbaricum_gaul_wol_task_8 = { # Grand Feast
		requires = { barbaricum_gaul_wol_task_5 barbaricum_gaul_wol_task_6 barbaricum_gaul_wol_task_7 }
        icon = "task_happiness"

		duration = 30
		
		on_start = {
			trigger_event = flavor_gaul.69 #70,71, 72 follow ups
		}

        allow = {
			treasury >= 100
        }

        on_completion = {

        }
    }

	barbaricum_gaul_wol_task_9 = { # Hunt for the White Deer
		requires = { barbaricum_gaul_wol_task_6 }
        icon = "task_economical"

		duration = 30

        allow = {
			treasury >= 100
			current_ruler = {
				martial >= 8
			}
        }
		
		on_start = {
			trigger_event = flavor_gaul.73 #74, 75 follow ups
		}

        on_completion = {
			custom_tooltip = barbaricum_wol_event_9
        }
    }

	barbaricum_gaul_wol_task_10 = { # Celtic Stories
		requires = { barbaricum_gaul_wol_task_4 barbaricum_gaul_wol_task_8 }
        icon = "task_political"
		
		final = yes

		allow = {

        }

        on_completion = {
			show_as_tooltip = {
				add_stability = 10
				add_2_free_province_investments = yes
			}
			trigger_event = flavor_gaul.76
        }
    }
	
	barbaricum_gaul_wol_task_11 = { # Construct Harbor - it should be harbour but meh Muricans
        icon = "task_economical"
		
		potential = {
			OR = {
				primary_culture = santonian
				primary_culture = pictonian
				primary_culture = aulercian
			}
		}


        allow = {
			any_owned_province = {
				count >= 3
				is_port = yes
			}
        }

        on_completion = {
			random_owned_province = {
				limit = {
					num_of_port_building > 0 
				}
				owner = {
					create_unit = {
						navy = yes
						location = prev.prev
						add_subunit = liburnian
						add_subunit = liburnian
						add_subunit = liburnian
					}
				}
			}
			add_military_experience = 5
        }
    }
	
	barbaricum_gaul_wol_task_12 = { # Invite a Pannonian Smith
        icon = "task_economical"
		duration = 90
		
		potential = {
			primary_culture = volcae
		}


        allow = {
			treasury >= 50
        }

        on_completion = {
			custom_tooltip = barbaricum_wol_event_12
			trigger_event = flavor_gaul.77
        }
    }
	
	barbaricum_gaul_wol_task_13 = { # Tolosan Gold
        icon = "task_religion"
		requires = { barbaricum_gaul_wol_task_12 }
		
		potential = {
			primary_culture = volcae
		}


        allow = {
			treasury > 200
			owns = 2265
			hidden:p:2265 = { is_holy_site = yes }
        }

        on_completion = {
			custom_tooltip = barbaricum_wol_event_13
			trigger_event = flavor_gaul.78
        }
    }
	
	barbaricum_gaul_wol_task_14 = { # Germanic Allies
        icon = "task_diplomatic"
		
		potential = {
			OR = {
				country_culture_group = belgae_group
				primary_culture = treverian
				primary_culture = teurian
				primary_culture = ubian
			}
		}
		
		highlight = {
			scope:province = {
				is_in_region = germania_region
                has_owner = yes
                owner = {
                    is_subject = no
                    country_culture_group = germanic
                }
			}
        }
		
        allow = {
			region:germania_region = {
	        	any_region_province = {
				has_owner = yes
	        		owner = {
                        alliance_with = root
						country_culture_group = germanic
	        		}
	        	}
			}	
		}

        on_completion = {
			add_country_modifier = {
				name = "wol_germanic_allies"
				duration = 7300
			}
        }
    }
	
	barbaricum_gaul_wol_task_15 = { # Fortify Capital
        icon = "task_economical"
		
		potential = {
			primary_culture = ubian
		}


        allow = {
			capital_scope = {
				fort_level >= 2
			}
        }

        on_completion = {
			capital_scope = {
				add_province_modifier = {
					name = "ubian_capital_fortified"
					duration = -1
				}
			}
        }
    }
	
	barbaricum_gaul_wol_task_16 = { # Establish the Seat of the Druids
        icon = "task_calm"
		
		potential = {
			tag = CRN
		}


        allow = {
			owns = 2350
			political_influence > 50
        }

        on_completion = {
			show_as_tooltip = {
				p:2350 = {
					add_province_modifier = {
						name = "seat_of_druids_mod"
						duration = -1
					}
				}
			}
			trigger_event = flavor_gaul.79 # activates 80
        }
    }
    
    barbaricum_gaul_wol_task_17 = { # Integrate Suebi (Allow Suebi Usage of Graveyards)
        icon = "task_political"
		
		potential = {
			primary_culture = teurian
		}


        allow = {
			political_influence >= 25
        }
		
		bypass = {
			any_country_culture = {
				is_culture = irminonic
				is_integrated = yes
			}
		}

        on_completion = {
			if = {
				limit = {
					NOT = { primary_culture = irminonic }
					any_country_culture = {
						is_culture = irminonic
						is_integrated = no
					}
				}			
				add_political_influence = -25
				random_country_culture = {
					limit = { this.culture = culture:irminonic }
					save_scope_as = irminonic_culture_scope
					hidden_effect = {
						ROOT = { integrate_country_culture = PREV }
					}
				}
				custom_tooltip = barbaricum_gaul_wol_task_17_reward_tt
			}
        }
    }

 

}
