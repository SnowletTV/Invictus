indian_mission_02_ganges = {
    header = "mission_image_seleukid"
    icon = "seleukid_3"

    repeatable = no

    chance = {
        factor = 5
    }

    potential = {
	has_completed_mission = indian_mission_01_gandara
        NOT = { has_variable = indian_mission_02_ganges }
	has_variable = formed_indo_greek_kingdom
	OR = {
		tag = BAC
		tag = IDC
		tag = SEL
		tag = PAR
		tag = ARS
	}
	country_culture_group = hellenic
        is_monarchy = yes
        has_civil_war = no
    }

    abort = {
        OR = {
            is_monarchy = no
            NOT = { country_culture_group = hellenic }
	    ai_mission_back_out_trigger = yes
        }
    }

    on_start = {
        start_mission_ai_effect = yes
		save_scope_as = me_india_scope
    }

    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = indian_mission_02_ganges
            days = 7300
        }
    }

    on_completion = {
        complete_mission_effect = yes
    }

    indian_mission_02_ganges_task_1 = { # Task 1  - Down the Ganges

        icon = "task_diplomatic"

	duration = 180

        highlight = {
            scope:province = {
		OR = {
                	is_in_region = madhyadesa_region
			is_in_region = pracya_region
		}
            }
        }

        bypass = {
            owns_or_subject_owns_area = sthanisvara_area
            owns_or_subject_owns_area = kuru_area
            owns_or_subject_owns_area = ahicchatra_area
            owns_or_subject_owns_area = pancala_area
            owns_or_subject_owns_area = west_cedi_area
            owns_or_subject_owns_area = kosala_area
            owns_or_subject_owns_area = kasi_area
            owns_or_subject_owns_area = east_cedi_area
            owns_or_subject_owns_area = malla_area
            owns_or_subject_owns_area = vrji_area
            owns_or_subject_owns_area = magadha_area
            owns_or_subject_owns_area = anga_area
            owns_or_subject_owns_area = vanga_area
            owns_or_subject_owns_area = samatata_area
            owns_or_subject_owns_area = pundra_area
            owns_or_subject_owns_area = kamata_area
            owns_or_subject_owns_area = kamarupa_area
        }

        allow = {
            treasury >= 200
            political_influence >= 50
        }

        on_start = {
            trigger_event = me_india_02_ganges.1
            show_as_tooltip = {
           	add_treasury = -200
	    	add_political_influence = -50
	    }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.2
	    custom_tooltip = claims_on_north_india
	    hidden_effect = {
                mission_claim_area_effect = { AREA = sthanisvara_area }
                mission_claim_area_effect = { AREA = kuru_area }
                mission_claim_area_effect = { AREA = ahicchatra_area }
                mission_claim_area_effect = { AREA = pancala_area }
                mission_claim_area_effect = { AREA = west_cedi_area }
                mission_claim_area_effect = { AREA = kosala_area }
                mission_claim_area_effect = { AREA = kasi_area }
                mission_claim_area_effect = { AREA = east_cedi_area }
                mission_claim_area_effect = { AREA = malla_area }
                mission_claim_area_effect = { AREA = vrji_area }
                mission_claim_area_effect = { AREA = magadha_area }
                mission_claim_area_effect = { AREA = anga_area }
                mission_claim_area_effect = { AREA = vanga_area }
                mission_claim_area_effect = { AREA = samatata_area }
                mission_claim_area_effect = { AREA = pundra_area }
                mission_claim_area_effect = { AREA = kamata_area }
                mission_claim_area_effect = { AREA = kamarupa_area }
            }
        }
    }

    indian_mission_02_ganges_task_2 = { # Task 2 - The Upper Ganges
    	requires = { indian_mission_02_ganges_task_1 }

        icon = "task_economical"

        highlight = {
            scope:province = {
		        OR = {
                	is_in_area = sthanisvara_area
                    is_in_area = kuru_area
                    is_in_area = pancala_area
                    is_in_area = ahicchatra_area
                    is_in_area = west_cedi_area
                }
            }
        }

        allow = {
            owns_or_subject_owns_area = sthanisvara_area
            owns_or_subject_owns_area = kuru_area
            owns_or_subject_owns_area = pancala_area
            owns_or_subject_owns_area = ahicchatra_area
            owns_or_subject_owns_area = west_cedi_area
        }

        on_completion = {
            trigger_event = me_india_02_ganges.3
            show_as_tooltip = {
                add_stability = 10
                if = {
                    limit = {
                        legitimacy < 100
                        is_monarchy = yes
                    }
                    add_legitimacy = 10
                }
            }
        }
    }

    indian_mission_02_ganges_task_3 = { # Plain of Indra
    	requires = { indian_mission_02_ganges_task_2 }

        icon = "task_economical"

        highlight = {
            scope:province = {
                OR = {
                    province_id = 4411
                    province_id = 4404
                    province_id = 4406
                    province_id = 4405
                    province_id = 7385
                }
            }
        }

        allow = {
            owns = 4411
            owns = 4405
            owns = 4406
            owns = 4404
            owns = 7385
            hidden:p:4405 = { is_holy_site = no }
            trigger_if = {
                limit = { is_ai = no }
                hidden:p:4411 = {
                    has_city_status = yes
                    has_building = temple_building
                    free_building_slots = 0
                    trigger_if = {
                        limit = { has_construction = yes }
                        has_construction = no
                    }
                }
                hidden:p:4405 = {
                    has_city_status = yes
                    has_building = temple_building
                    has_building = forum_building
                    free_building_slots = 0
                    trigger_if = {
                        limit = { has_construction = yes }
                        has_construction = no
                    }
                }
                hidden:p:4406 = {
                    has_city_status = yes
		            free_building_slots = 0
                    trigger_if = {
                        limit = { has_construction = yes }
                        has_construction = no
                    }
                }
                hidden:p:4404 = {
                    has_city_status = yes
		            free_building_slots = 0
                    trigger_if = {
                        limit = { has_construction = yes }
                        has_construction = no
                    }
                }
                hidden:p:7385 = {
                    has_city_status = yes
		            free_building_slots = 0
                    trigger_if = {
                        limit = { has_construction = yes }
                        has_construction = no
                    }
                }
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.4
	        custom_tooltip = india_mission_02_ganges_task_3_tooltip
            show_as_tooltip = {
                p:4405.state = {
                    add_state_modifier = {
                        name = blessing_of_indra_modifier
                        duration = -1
                    }
                }
                p:4411.state = {
                    add_state_modifier = {
                        name = blessing_of_indra_modifier
                        duration = -1
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_4 = { # War Elephants of Ahicchatra
    	requires = { indian_mission_02_ganges_task_3 }

        icon = "task_diplomatic"

        highlight = {
            scope:province = {
                is_in_area = ahicchatra_area
            }
        }

        allow = {
            hidden:p:4424.state = {
                calc_true_if = {
                    amount >= 1
                    state_improvement_military_trigger = yes
                    state_improvement_civic_trigger = yes
                    state_improvement_oratory_trigger = yes
                    state_improvement_religious_trigger = yes
                }
            }
            owns_area = ahicchatra_area
            hidden:p:4424 = {
                has_city_status = yes
	    	    has_building = military_building
            }
            hidden:p:7407 = {
                has_city_status = yes
	    	    has_building = military_building
            }
            hidden:p:7381 = {
                has_city_status = yes
	        	has_building = military_building
            }
            hidden:p:4456 = {
                has_city_status = yes
	            has_building = military_building
            }
            hidden:p:7406 = {
                has_city_status = yes
	            has_building = military_building
            }
        }


        on_completion = {
            trigger_event = me_india_02_ganges.5
            show_as_tooltip = {
	            if = {
                    limit = {
                        NOT = {
                            has_country_modifier = greco_indian_elephants_modifier
			            }
		            }
		            add_country_modifier = {
		                name = greco_indian_elephants_modifier
                        duration = -1
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_5 = { # Royal City of Kanogiza
    	requires = { indian_mission_02_ganges_task_4 }

        icon = "task_conquest"

        highlight = {
        	scope:province = {
        		province_id = 4425
        	}
        }

        allow = {
            trigger_if = {
                limit = {
			NOT = { owns = 4425 }
		}
		owns = 4425
	    }
	    trigger_if = {
		p:4425 = { total_population >= 50 }
	    }
	    trigger_if = {
		p:4425 = {
		    free_building_slots = 0
                    has_construction = no
		}
	    }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.6
            show_as_tooltip = {
                p:4425 = {
                    if = {
                        limit = {
                            NOT = { has_province_modifier = royal_indian_city_modifier }
                        }
                        add_province_modifier = {
                            name = royal_indian_city_modifier
                            duration = -1
                        }
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_6 = { # The River of Life
    	requires = { indian_mission_02_ganges_task_5 }

        icon = "task_diplomatic"

        highlight = {
            scope:province = {
                has_city_status = no
                has_food_trade_good_trigger = yes
	        OR = {
                    is_in_area = kuru_area
		    is_in_area = pancala_area
                }
            }
        }

        allow = {
            trigger_if = {
                limit = { is_ai = no }
	        owns_area = kuru_area
		owns_area = pancala_area
                custom_tooltip = {
                    text = "india_mission_02_ganges_task_6_al.tt"
                    area:kuru_area = {
                        any_area_province = {
                            count = all
                            filter = {
                                has_city_status = no
                                has_food_trade_good_trigger = yes
                            }
                            has_building = basic_settlement_infratructure_building
                        }
                    }
                }
                custom_tooltip = {
                    text = "india_mission_02_ganges_task_6_al_2.tt"
                    area:pancala_area = {
                        any_area_province = {
                            count = all
                            filter = {
                                has_city_status = no
                                has_food_trade_good_trigger = yes
                            }
                            has_building = basic_settlement_infratructure_building
                        }
                    }
                }
            }
            trigger_else = {
                is_ai = yes
                owns_area = kuru_area
                owns_area = pancala_area
                treasury >= 300
            }
        }

        on_completion = {
            if = { # AI fallback.
                limit = { is_ai = yes }
                area:kuru_area = {
                    every_area_province = {
                        limit = {
                            has_city_status = no
                            has_food_trade_good_trigger = yes
                            has_minable_trade_good_trigger = yes
                        }
                        if = {
                            limit = {
                                has_food_trade_good_trigger = yes
                                NOT = { has_building = basic_settlement_infratructure_building }
                            }
                            if = {
                                limit = { free_building_slots < 0 }
                                destroy_building_effect = yes
                            }
                            add_building_level = basic_settlement_infratructure_building
                        }
                    }
                }
                area:pancala_area = {
                    every_area_province = {
                        limit = {
                            has_city_status = no
                            has_food_trade_good_trigger = yes
                            has_minable_trade_good_trigger = yes
                        }
                        if = {
                            limit = {
                                has_food_trade_good_trigger = yes
                                NOT = { has_building = basic_settlement_infratructure_building }
                            }
                            if = {
                                limit = { free_building_slots < 0 }
                                destroy_building_effect = yes
                            }
                            add_building_level = basic_settlement_infratructure_building
                        }
                    }
                }
            }
            trigger_event = { id = me_india_02_ganges.7 }
            show_as_tooltip = {
                p:4405.state = {
                    add_state_modifier = {
                        name = "breadbasket_of_india_modifier"
                        duration = -1
                    }
                }
                p:4425.state = {
                    add_state_modifier = {
                        name = "breadbasket_of_india_modifier"
                        duration = -1
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_7 = { # Settle Greeks on the Ganges
        requires = { indian_mission_02_ganges_task_6 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
		OR = {
			province_id = 4436
			province_id = 4413
		}
            }
        }

        allow = {
            owns = 4436
            owns = 4413
            hidden:p:4436 = {
                has_city_status = yes
            }
            hidden:p:4413 = {
                has_city_status = yes
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.8
            custom_tooltip = india_mission_01_ganges_task_5_effect_tt
            custom_tooltip = india_mission_01_ganges_task_5_effect_tt_2
            show_as_tooltip = {
                p:4436 = {
			    change_province_name = "Astrassos"
                }
                p:4413 = {
			    change_province_name = "Amakatis"
                }
                p:4436 = {
            	    custom_tooltip = india_mission_01_gandara_task_5_effect_tt
                    hidden_effect = {
                        while = {
                            count = 10
                            define_pop = {
                                type = citizen
                                culture = root.culture
                                religion = root.religion
                            }
                        }
                    }
                }
                p:4413 = {
            	    custom_tooltip = india_mission_01_gandara_task_5_effect_tt
                    hidden_effect = {
                        while = {
                            count = 10
                            define_pop = {
                                type = citizen
                                culture = root.culture
                                religion = root.religion
                            }
                        }
		            }
                }
	        }
	    }
    }

    indian_mission_02_ganges_task_8 = { # Province of Saudrabatia
    	requires = { indian_mission_02_ganges_task_7 }

        icon = "task_political"

        highlight = {
            scope:province = {
                OR = {
                    province_id = 4411
                    province_id = 4405
                    province_id = 4424
                    province_id = 4425
                    province_id = 4435
                }
            }
        }

        allow = {
            p:4411 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            p:4405 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            p:4424 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            p:4425 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            p:4435 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.9
	        show_as_tooltip = {
            	add_4_free_province_investments = yes
                p:4405 = {
                    if = {
                        limit = {
                             NOT = { has_province_modifier = ganges_blessing_modifier }
                        }
                        add_province_modifier = {
                            name = ganges_blessing_modifier
                            duration = -1
                        }
                    }
                }
            }
            custom_tooltip = india_mission_02_ganges_task_8_tooltip
        }
    }

    indian_mission_02_ganges_task_9 = { # The Mauryan Homeland
    	requires = { indian_mission_02_ganges_task_1 }

        icon = "task_economical"

        highlight = {
            scope:province = {
                OR = {
                    is_in_area = kosala_area
                    is_in_area = kasi_area
                    is_in_area = east_cedi_area
                    is_in_area = malla_area
                    is_in_area = vrji_area
                    is_in_area = magadha_area
                }
            }
        }

        allow = {
            owns_or_subject_owns_area = kosala_area
            owns_or_subject_owns_area = kasi_area
            owns_or_subject_owns_area = east_cedi_area
            owns_or_subject_owns_area = malla_area
            owns_or_subject_owns_area = vrji_area
            owns_or_subject_owns_area = magadha_area
        }

        on_completion = {
            trigger_event = me_india_02_ganges.10
            show_as_tooltip = {
                add_stability = 10
                if = {
                    limit = {
                        legitimacy < 100
                        is_monarchy = yes
                    }
                    add_legitimacy = 10
                }
            }
        }
    }


    indian_mission_02_ganges_task_10 = { # Wheel of Dharma
    	requires = { indian_mission_02_ganges_task_9 }

        icon = "task_political"

	duration = 180

        highlight = {
            scope:province = {
		OR = {
			province_id = 4429
		}
            }
        }

        allow = {
            treasury >= 200
	    political_influence >= 50
	    p:4429 = {
		is_holy_site = no
		has_city_status = yes
		has_building = temple_building
	    }
	}

	on_start = {
		trigger_event = me_india_02_ganges.11
		show_as_tooltip = {
			add_treasury = -200
			add_political_influence = -50
		}
	}

	bypass = {
		p:4429 = { is_holy_site = yes }
	}

        on_completion = {
	    deity:omen_sila_parami = { save_scope_as = sila_parami_scope }
            trigger_event = me_india_02_ganges.12
	    custom_tooltip = india_mission_02_ganges_task_10_tooltip
            show_as_tooltip = {
		p:4429 = { set_province_deity = deity:omen_sila_parami }
		p:4429 = {
                    if = {
                        limit = {
                             NOT = { has_province_modifier = greco_buddhist_holy_site }
                        }
                        add_province_modifier = {
                            name = greco_buddhist_holy_site
                            duration = -1
                        }
                    }
		}
	    }
	    custom_tooltip = india_mission_02_ganges_task_10_2_tooltip
        }
    }

    indian_mission_02_ganges_task_11 = { # The Kosala Kingdom
    	requires = { indian_mission_02_ganges_task_10 }

        icon = "task_economical"

        highlight = {
        	scope:province = {
			is_in_area = kosala_area
        	}
        }

        allow = {
            hidden:p:4437.state = {
                calc_true_if = {
                    amount >= 2
                    state_improvement_military_trigger = yes
                    state_improvement_civic_trigger = yes
                    state_improvement_oratory_trigger = yes
                    state_improvement_religious_trigger = yes
                }
            }
            trigger_if = {
                limit = { is_ai = no }
                hidden:p:4437 = {
                    has_city_status = yes
		    is_state_capital = yes
		    free_building_slots = 0
                    has_construction = no
                }
                hidden:p:4451 = {
                    has_city_status = yes
		    free_building_slots = 0
                    has_construction = no
                }
                hidden:p:7483 = {
                    has_city_status = yes
		    free_building_slots = 0
                    has_construction = no
                }
            }
            trigger_if = {
                limit = { is_ai = no }
		owns_area = kosala_area
                custom_tooltip = {
                    text = "india_mission_02_ganges_task_11_al.tt"
                    area:kosala_area = {
                        any_area_province = {
                            count = all
                            filter = {
                                has_city_status = no
                                has_food_trade_good_trigger = yes
                            }
                            has_building = basic_settlement_infratructure_building
                        }
                    }
                }
            }
            trigger_else = {
                is_ai = yes
                owns_area = kosala_area
                treasury >= 300
            }
        }

        on_completion = {
            if = { # AI fallback.
                limit = { is_ai = yes }
                area:kosala_area = {
                    every_area_province = {
                        limit = {
                            has_city_status = no
                            has_food_trade_good_trigger = yes
                            has_minable_trade_good_trigger = yes
                        }
                        if = {
                            limit = {
                                has_food_trade_good_trigger = yes
                                NOT = { has_building = basic_settlement_infratructure_building }
                            }
                            if = {
                                limit = { free_building_slots < 0 }
                                destroy_building_effect = yes
                            }
                            add_building_level = basic_settlement_infratructure_building
                        }
                    }
                }
            }
            trigger_event = { id = me_india_02_ganges.29 }
            show_as_tooltip = {
                p:4437 = {
                    if = {
                        limit = {
                            NOT = { has_province_modifier = royal_indian_city_modifier }
                        }
                        add_province_modifier = {
                            name = royal_indian_city_modifier
                            duration = -1
                        }
		    	change_province_name = "Heorta"
                    }
                }
                p:4451 = {
                    if = {
                        limit = {
                            NOT = { has_province_modifier = royal_indian_gardens_modifier }
                        }
                        add_province_modifier = {
                            name = royal_indian_gardens_modifier
                            duration = -1
                        }
                    }
                }
            }
            show_as_tooltip = {
                p:4437.state = {
                    add_state_modifier = {
                        name = "kosala_kingdom_modifier"
                        duration = -1
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_12 = { # The Mauryan Metropolis
        requires = { indian_mission_02_ganges_task_11 }

        icon = "task_diplomatic"

        highlight = {
        	scope:province = {
    			OR = {
        			province_id = 4440
        			province_id = 4443
        			province_id = 4463
        			province_id = 7400
        			province_id = 4462
        			province_id = 7480
        			province_id = 4442
        			province_id = 4445
        			province_id = 4444
        			province_id = 7338
    			}
        	}
        }

        allow = {
            owns = 4440
            hidden:p:4440.state = {
                calc_true_if = {
                    amount >= 2
                    state_improvement_military_trigger = yes
                    state_improvement_civic_trigger = yes
                    state_improvement_oratory_trigger = yes
                    state_improvement_religious_trigger = yes
                }
            }
            trigger_if = {
                limit = { is_ai = no }
                hidden:p:4440 = {
                    has_province_rank = city_metropolis
                    has_building = forum_building
                }
            }
            trigger_else = { # AI fallback
                OR = {
                    p:4440 = {
                        has_city_status = yes
                    }
                    can_pay_price = price_found_city
                }
            }
            custom_tooltip = {
                text = india_mission_02_ganges_task_12_tooltip
                p:4440 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:4443 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:4462 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:7480 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:4442 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:4444 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:4463 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:7400 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:7338 = {
                    free_building_slots = 0
                    has_construction = no
                }
                p:4445 = {
                    free_building_slots = 0
                    has_construction = no
                }
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.13
            show_as_tooltip = {
                p:4440 = {
                    if = {
                        limit = {
                            NOT = { has_province_modifier = great_indian_capital_modifier }
                        }
                        add_province_modifier = {
                            name = great_indian_capital_modifier
                            duration = -1
                        }
                    }
                }
            }
            show_as_tooltip = {
                p:4440.state = {
                    add_state_modifier = {
                        name = "maurya_heartland_modifier"
                        duration = -1
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_13 = { # Gayan Sanctuary
        requires = { indian_mission_02_ganges_task_12 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
        		province_id = 4444
            }
        }

        allow = {
	    treasury >= 200
	    political_influence >= 50
            trigger_if = {
                limit = {
                    NOT = { owns = 4444 }
                }
                owns = 4444
            }
        }

        on_completion = {
            ai_build_city_pay_price_effect = { CITY = p:4444 } # AI fallback.
            trigger_event = me_india_02_ganges.14
            show_as_tooltip = {
		add_treasury = -200
		add_political_influence = -50
                p:4444 = {
                    if = {
                        limit = {
                            NOT = {
                                has_province_modifier = greco_buddhist_holy_site
                            }
                        }
                        add_province_modifier = {
                            name = greco_buddhist_holy_site
                            duration = -1
                        }
		    	change_province_name = "Dosara"
                    }
		}
            }
	    custom_tooltip = india_mission_02_ganges_task_13_tooltip
        }
    }

    indian_mission_02_ganges_task_14 = { # Greek Cities in Prasiaca
        requires = { indian_mission_02_ganges_task_12 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
                OR = {
                    province_id = 7480
                    province_id = 7478
                    province_id = 4428
                }
            }
        }

        allow = {
            owns = 7480
            owns = 7478
            owns = 4428
            hidden:p:7480 = {
                has_city_status = yes
            }
            hidden:p:7478 = {
                has_city_status = yes
            }
            hidden:p:4428 = {
                has_city_status = yes
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.27
	        custom_tooltip = india_mission_01_ganges_task_14_effect_tt
            show_as_tooltip = {
                p:7480 = {
		            change_province_name = "Athenagoron"
                }
                p:7478 = {
		             change_province_name = "Rhappha"
                }
                p:7478 = {
            	    custom_tooltip = india_mission_01_gandara_task_5_effect_tt
                    hidden_effect = {
                        while = {
                            count = 10
                        define_pop = {
                            type = citizen
                            culture = root.culture
                            religion = root.religion
                            }
                        }
		            }
                }
                p:4428 = {
                    custom_tooltip = india_mission_01_gandara_task_14_effect_tt
                    if = {
                        limit = {
                            has_variable = menander_is_leader_variable
                        }
                        change_province_name = "Euthymedeia Gangetikos"
                    }
                }
	        }
	    }
    }

    indian_mission_02_ganges_task_15 = { # King of the Maghadi
        requires = { indian_mission_02_ganges_task_13 indian_mission_02_ganges_task_14 }

        icon = "task_expansion"

        allow = {
            treasury >= 200
	    political_influence >= 50
        }

        on_completion = {
            trigger_event = me_india_02_ganges.15
            show_as_tooltip = {
		add_treasury = -200
		add_political_influence = -50
                if = {
                    limit = {
                        any_country_culture = {
                            is_culture = magadhi
                        }
                    }
                    random_country_culture = {
                        limit = { is_culture = magadhi }
                        add_country_culture_modifier = {
			    name = magadhi_integration_modifier
                            duration = 10950
			}
			save_scope_as = magadhi_culture
                    }
                }
		current_ruler = {
                    if = {
                        limit = {
                            is_minor_character = no
                        }
                        family = {
                            add_prestige = 100
                        }
                    }
		}
		add_stability_effect = yes
            }
        }
    }

   indian_mission_02_ganges_task_16 = { # Province of Prasiaca
        requires = { indian_mission_02_ganges_task_15 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
                OR = {
                    province_id = 4440
                    province_id = 4448
                    province_id = 4449
                    province_id = 4437
                    province_id = 4429
                    province_id = 7320
                }
            }
        }

        allow = {
            hidden:p:4440 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:4448 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:4449 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:4437 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:4429 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:7320 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.16
	    show_as_tooltip = {
		add_4_free_province_investments = yes
                p:4440 = {
                    if = {
                        limit = {
                             NOT = { has_province_modifier = ganges_blessing_modifier }
                        }
                        add_province_modifier = {
                            name = ganges_blessing_modifier
                            duration = -1
                        }
                    }
                }
	    }
	    custom_tooltip = india_mission_02_ganges_task_16_tooltip
        }
    }


   indian_mission_02_ganges_task_17 = { # The Mouth of the Ganges
        requires = { indian_mission_02_ganges_task_1 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
		OR = {
			is_in_area = vanga_area
			is_in_area = samatata_area
			is_in_area = pundra_area
			is_in_area = anga_area
		}
            }
        }

        allow = {
            owns_or_subject_owns_area = vanga_area
            owns_or_subject_owns_area = samatata_area
            owns_or_subject_owns_area = pundra_area
            owns_or_subject_owns_area = anga_area
        }

        on_completion = {
            trigger_event = me_india_02_ganges.17
            show_as_tooltip = {
                add_stability = 10
                if = {
                    limit = {
                        legitimacy < 100
                        is_monarchy = yes
                    }
                    add_legitimacy = 10
                }
            }
        }
    }

    indian_mission_02_ganges_task_18 = { # The Kingdom of Antibolene
        requires = { indian_mission_02_ganges_task_17 }

        icon = "task_economical"

        highlight = {
        	scope:province = {
			is_in_area = pundra_area
        	}
        }

        allow = {
            hidden:p:7493.state = {
                calc_true_if = {
                    amount >= 2
                    state_improvement_military_trigger = yes
                    state_improvement_civic_trigger = yes
                    state_improvement_oratory_trigger = yes
                    state_improvement_religious_trigger = yes
                }
            }
            trigger_if = {
                limit = { is_ai = no }
                p:7493 = {
		    has_city_status = yes
	            is_state_capital = yes
		    free_building_slots = 0
                    has_construction = no
                }
                p:7325 = {
		    has_city_status = yes
		    free_building_slots = 0
                    has_construction = no
                }
                p:7324 = {
		    has_city_status = yes
		    free_building_slots = 0
                    has_construction = no
                }
                p:7326 = {
		    has_city_status = yes
		    free_building_slots = 0
                    has_construction = no
                }
            }
            trigger_if = {
                limit = { is_ai = no }
		owns_area = pundra_area
                custom_tooltip = {
                    text = "india_mission_02_ganges_task_18_al.tt"
                    area:pundra_area = {
                        any_area_province = {
                            count = all
                            filter = {
                                has_city_status = no
                                has_food_trade_good_trigger = yes
                            }
                            has_building = basic_settlement_infratructure_building
                        }
                    }
                }
            }
            trigger_else = {
                is_ai = yes
                owns_area = pundra_area
                treasury >= 300
            }
        }

        on_completion = {
            if = { # AI fallback.
                limit = { is_ai = yes }
                area:pundra_area = {
                    every_area_province = {
                        limit = {
                            has_city_status = no
                            has_food_trade_good_trigger = yes
                            has_minable_trade_good_trigger = yes
                        }
                        if = {
                            limit = {
                                has_food_trade_good_trigger = yes
                                NOT = { has_building = basic_settlement_infratructure_building }
                            }
                            if = {
                                limit = { free_building_slots < 0 }
                                destroy_building_effect = yes
                            }
                            add_building_level = basic_settlement_infratructure_building
                        }
                    }
                }
            }
            trigger_event = { id = me_india_02_ganges.18 }
            show_as_tooltip = {
                p:7493 = {
                    if = {
                        limit = {
                            NOT = { has_province_modifier = city_of_gods_modifier }
                        }
                        add_province_modifier = {
                            name = city_of_gods_modifier
                            duration = -1
                        }
                    }
                }
            }
            show_as_tooltip = {
                p:7493.state = {
                    add_state_modifier = {
                        name = "pundra_kingdom_modifier"
                        duration = -1
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_19 = { # Hellenizing Antibolon
        requires = { indian_mission_02_ganges_task_18 }

        icon = "task_expansion"

	duration = 60

        highlight = {
            scope:province = {
		province_id = 7493
            }
        }

        allow = {
	    treasury >= 50
	    owns = 7493
	    p:7493 = {
		has_city_status = yes
	    }
        }

	on_start = {
	    trigger_event = me_india_02_ganges.30
	    show_as_tooltip = {
		add_treasury = -50
	    }
	}

        on_completion = {
            trigger_event = me_india_02_ganges.28
            custom_tooltip = india_mission_01_ganges_task_19_effect2_tt
	    show_as_tooltip = {
                p:7493 = {
		    custom_tooltip = india_mission_01_ganges_task_19_effect_tt
                    hidden_effect = {
			if = {
			    limit = {
                                has_variable = menander_is_leader_variable
                            }
			    change_province_name = "Euthymedeia Antibolos"
                        }
		    }
                }
            }
	}
    }

   indian_mission_02_ganges_task_20 = { # The Port of Pentapolis
        requires = { indian_mission_02_ganges_task_18 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
                province_id = 7331
            }
        }

        allow = {
            trigger_if = {
                limit = {
                    NOT = { owns = 7331 }
                }
                owns = 7331
            }
            trigger_if = {
                limit = { is_ai = no }
                hidden:p:7331 = {
                    has_city_status = yes
                    has_building = port_building
                }
            }
            trigger_else = {
                OR = {
                    can_pay_price = price_found_city
                    p:7331 = { has_city_status = yes }
                }
            }
        }

        on_completion = {
            ai_build_city_pay_price_effect = { CITY = p:7331 } # AI fallback.
            trigger_event = me_india_02_ganges.19
            show_as_tooltip = {
                p:7331 = {
                    if = {
                        limit = {
                            NOT = {
                                has_province_modifier = greco_indian_city_modifier
                            }
                        }
                        add_province_modifier = {
                            name = greco_indian_city_modifier
                            duration = -1
                        }
                    }
                }
                p:7331 = {
                    custom_tooltip = india_mission_01_gandara_task_20_effect_tt_2
                    hidden_effect = {
                        while = {
                            count = 5
                            define_pop = {
                                type = citizen
                                culture = root.culture
                                religion = root.religion
                            }
                        }
                    }
                }
                p:7331 = {
                    custom_tooltip = india_mission_01_ganges_task_20_effect_tt
                    hidden_effect = {
                        while = {
                            count = 5
                            define_pop = {
                                type = nobles
                                culture = root.culture
                                religion = root.religion
                            }
                        }
                    }
                }
                p:7331.state = {
                    if = {
                        limit = {
                            NOT = {
                                has_state_modifier = eastern_indian_trade_modifier
                            }
                        }
                        add_state_modifier = {
                            name = eastern_indian_trade_modifier
                            duration = -1
                        }
                    }
                }
                p:7396.state = {
                    if = {
                        limit = {
                            NOT = {
                                has_state_modifier = eastern_indian_trade_modifier
                            }
                        }
                        add_state_modifier = {
                            name = eastern_indian_trade_modifier
                            duration = -1
                        }
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_21 = { # Realm of the Gangaridae
        requires = { indian_mission_02_ganges_task_19 indian_mission_02_ganges_task_20 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
                is_in_area = anga_area
            }
        }

        allow = {
            owns_or_subject_owns_area = anga_area
	        military_experience >= 20
            hidden:p:7345 = {
                has_city_status = yes
                is_state_capital = yes
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.20
            show_as_tooltip = {
                add_country_modifier = {
                    name = "ganges_soldiers_modifier"
                    duration = -1
                }
                p:7345 = {
                    if = {
                        limit = {
                            NOT = {
                                has_province_modifier = greco_indian_city_modifier
                            }
                        }
                        add_province_modifier = {
                            name = greco_indian_city_modifier
                            duration = -1
                        }
                    }
                }
            }
        }
    }

    indian_mission_02_ganges_task_22 = { # Vanquishing the Kirradians
        requires = { indian_mission_02_ganges_task_21 }

        icon = "task_expansion"

        highlight = {
        	scope:province = {
        		OR = {
				is_in_area = kamarupa_area
				is_in_area = kamata_area
			}
		}
        }

        allow = {
            owns_or_subject_owns_area = kamarupa_area
            owns_or_subject_owns_area = kamata_area
        }

        on_completion = {
            trigger_event = me_india_02_ganges.21
            show_as_tooltip = {
		add_2_free_province_investments = yes
                add_stability = 5
                if = {
                    limit = {
                        legitimacy < 100
                        is_monarchy = yes
                    }
                    add_legitimacy = 10
                }
            }
        }
    }

   indian_mission_02_ganges_task_23 = { # Civilizing Kirradia
        requires = { indian_mission_02_ganges_task_22 }

        icon = "task_expansion"

        highlight = {
        	scope:province = {
        		OR = {
				is_in_area = kamarupa_area
				is_in_area = kamata_area
			}
		}
        }

        allow = {
            hidden:p:7349 = {
                has_city_status = yes
                has_building = library_building
            }
            hidden:p:7323 = {
                has_city_status = yes
                has_building = library_building
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.22
            show_as_tooltip = {
                p:7349.state = {
                    if = {
                        limit = {
                            NOT = {
                                has_state_modifier = kirradia_civilized_modifier
                            }
                        }
                        add_state_modifier = {
                            name = kirradia_civilized_modifier
                            duration = 7300
                        }
                    }
                }
                p:7323.state = {
                    if = {
                        limit = {
                            NOT = {
                                has_state_modifier = kirradia_civilized_modifier
                            }
                        }
                        add_state_modifier = {
                            name = kirradia_civilized_modifier
                            duration = 7300
                        }
                    }
                }
            }
        }
    }

   indian_mission_02_ganges_task_24 = { # Province of Gangetica
        requires = { indian_mission_02_ganges_task_23 }

        icon = "task_expansion"

        highlight = {
            scope:province = {
		OR = {
			province_id = 7493
			province_id = 7323
			province_id = 7349
			province_id = 7331
			province_id = 7397
			province_id = 7345
		}
            }
        }

        allow = {
            hidden:p:7493 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:7323 = {
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:7349 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:7331 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:7397 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
            hidden:p:7345 = {
                is_state_capital = yes
                has_city_status = yes
                has_building = aqueduct_building
                has_building = fortress_building
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.23
	        show_as_tooltip = {
            	add_4_free_province_investments = yes
                p:7493 = {
                    if = {
                        limit = {
                             NOT = { has_province_modifier = ganges_blessing_modifier }
                        }
                        add_province_modifier = {
                            name = ganges_blessing_modifier
                            duration = -1
                        }
                    }
                }
	        }
	        custom_tooltip = india_mission_02_ganges_task_24_tooltip
        }
    }

    indian_mission_02_ganges_task_final = { # Conquerer of the Mauryas
        requires = { indian_mission_02_ganges_task_8 indian_mission_02_ganges_task_16 indian_mission_02_ganges_task_24 }

        icon = "task_expansion"

	duration = 180

	final = yes

        allow = {
            treasury >= 50
	    political_influence >= 20
	}

        on_start = {
	    trigger_event = me_india_02_ganges.24
            show_as_tooltip = {
                add_treasury = -50
                add_political_influence = -20
            }
        }

        on_completion = {
            trigger_event = me_india_02_ganges.25
            show_as_tooltip = {
		current_ruler = {
			add_popularity = popularity_large
			add_nickname = NICKNAME_INDOS
		}
            }
        }
    }
}
