# scope is country being annexed
# scope:actor = country doing the annexing
on_diplomatic_annex = {
	effect = {
		every_country_treasure = {
			add_to_list = annexed_treasures
		}
		if = {
			limit = {
				any_character = { has_character_modifier = turdetanian_high_priestess_modifier }
			}
			random_character = {
				limit = { has_character_modifier = turdetanian_high_priestess_modifier }
				save_scope_as = astarte_turdetanian_high_priestess
			}
			scope:astarte_turdetanian_high_priestess = {
				move_country = scope:actor
				set_as_minor_character = THIS
				if = {
					limit = {
						is_married = yes
						spouse = {
							prisoner = no
							employer = root
						}
					}
					spouse = {
						remove_all_positions = yes
						move_country = scope:actor
						set_as_minor_character = this
					}
				}
				if = {
					limit = {
						num_of_children > 0
						any_child = {
							prisoner = no
							employer = root
						}
					}
					every_child = {
						limit = {
							prisoner = no
							employer = root
						}
						remove_all_positions = yes
						move_country = scope:actor
						set_as_minor_character = THIS
					}
				}
			}
		}
		on_diplo_annexation_event_effect = yes
		if = {
			limit = {
				tag = PTH
				has_variable = parthia_decentralized_wg
				var:parthia_allowed_region_var >= 1
			}
			root = {
				trigger_event = {
					id = me_parthia.9900
				}
			}
		}
		if = {
			limit = {
				tag = PTH
				any_owned_province = {
					NOT = {
						has_variable = allowed_province
					}
				}
				var:parthia_allowed_region_var < 1
			}
			root = {
				trigger_event = {
					id = me_parthia.9902
				}
			}
		}
	}
}