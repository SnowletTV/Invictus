does_benefit_from_unique_city_buildings = {
	if = {
		limit = {
			rank_by_num_territories >= great_power
		}
		num_of_cities >= 5
	}
	else_if = {
		limit = {
			rank_by_num_territories >= major_power
		}
		num_of_cities >= 3
	}
	else_if = {
		limit = {
			rank_by_num_territories >= regional_power
		}
		num_of_cities >= 2
	}
	else = {
		num_of_cities >= 1
	}
}

is_close_to_max_research_efficiency = {
	adjusted_research_efficiency_cached >= max_research_efficiency_with_margin
}

has_reached_max_research_efficiency = {
	adjusted_research_efficiency_cached >= max_research_efficiency_svalue
}

slightly_benefits_from_5_pops = {
	country_population_svalue <= 60
}
noticeably_benefits_from_5_pops = {
	country_population_svalue <= 40
}
highly_benefits_from_5_pops = {
	# capital_region_levy_cohorts_with_5_more_pops = 5
	# capital_region_levy_cohorts = 4
	country_population_svalue <= 20
}

discipline_invention_tree_is_finished = {
	invention = discipline_inv_4
	invention = discipline_inv_5
}

tormenta_invention_tree_is_finished = {
	invention = siege_engineers_inv_4
}

school_of_philosophy_invention_tree_is_finished = {
	invention = capital_trade_inv_3
	invention = research_points_modifier_inv_5
}

# Governor of the region is general in a non-legion army
# IS NOT FULLY ACCURATE!
governorship_levies_are_raised = {
	# For civilized nations governors command levies
	trigger_if = {
		limit = {
			owner = {
				is_tribal = no
			}
		}
		trigger_if = {
			limit = {
				exists = governor
			}
			governor = {
				is_general = yes
				any_character_unit = {
					is_army = yes
					is_legion_unit = no
				}
			}
		}
		# Governor of the capital region is the country ruler
		trigger_else_if = {
			limit = {
				capital_scope = {
					is_capital = yes
				}
			}
			owner = {
				exists = current_ruler
				current_ruler = {
					is_general = yes
					any_character_unit = {
						is_army = yes
						is_legion_unit = no
					}
				}
			}
		}
		trigger_else = {
			always = no
		}
	}
	# For tribes clan chief command levies, so just guess country-wide
	trigger_else = {
		owner = {
			any_character = {
				is_clan_chief = yes
				is_general = yes
				any_character_unit = {
					is_army = yes
					is_legion_unit = no
				}
			}
		}
	}
}

is_large_country_or_will_become_it = {
	OR = {
		rank_by_num_territories >= major_power
		AND = {
			is_antagonist = yes
			OR = {
				rank_by_num_territories >= regional_power
				AND = {
					exists = c:ROM
					this = c:ROM
				}
			}
			is_subject = no
		}
	}
}

is_small_country_and_might_stay_it = {
	is_large_country_or_will_become_it = no
	rank_by_num_territories <= local_power
}