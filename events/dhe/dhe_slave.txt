namespace = dhe_slave

dhe_slave.1 = { # Incendiary Slave Speaks in X
	type = country_event
	title = "dhe_slave.1.t"
	desc = "dhe_slave.1.desc"
	picture = revolt
	
	left_portrait = current_ruler
	right_portrait = scope:incendiary_slave_city_scope.governor
	right_portrait = scope:incendiary_slave_scope
	
	goto_location = scope:incendiary_slave_city_scope
	
	trigger = {
		any_owned_province = {
			num_of_slaves >= 5
			NOR = {
				is_capital = yes
				this.area = root.capital_scope.area
				this.area = {
					any_area_province = {
						NOT = {
							owner = ROOT
						}
					}
				}
			}
		}
		NOT = {
			has_variable = dhe_slave_incendiary_cooldown
		}
	}

	immediate = {
		random_owned_province = {
			limit = {
				num_of_slaves >= 5
				NOR = {
					is_capital = yes
					this.area = {
						any_area_province = {
							NOT = {
								owner = ROOT
							}
						}
					}
				}
			}
			save_scope_as = incendiary_slave_city_scope
		}
		set_variable = {
			name = dhe_slave_incendiary_cooldown
			days = 3650 # 10 years
		}
		current_ruler = {
			save_scope_as = incendiary_slave_ruler
		}
		hidden_effect = {
			create_character = {
				female = no
				force_add_trait = silver_tongued
				save_scope_as = incendiary_slave_scope
			}
		}
		hidden_effect = {
			if = {
				limit = {
					is_republic = yes
				}
				scope:incendiary_slave_scope = {
					character_democratic_party_conviction_effect = {
						VALUE = 30
					}
				}
			}
			scope:incendiary_slave_scope = {
				add_character_modifier = {
					name = ex_slave_cmod
					duration = -1
				}
			}
		}
		
	}
	
	option = {
		name = dhe_slave.1.a
		current_ruler = {
			add_popularity = popularity_medium
		}
		if = {
			limit = {
				scope:incendiary_slave_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
			}
			scope:incendiary_slave_city_scope.governor = {
				add_loyalty = loyalty_crucified_slave_leader
			}
		}
		scope:incendiary_slave_city_scope = {
			random_pops_in_province = {
				limit = {
					pop_type = slaves	
				}
				kill_pop = yes
			}
		}
		scope:incendiary_slave_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_incendiary_killed_sm
					duration = 3650 # 10 years
				}
			}
		}
		hidden_effect = {
			scope:incendiary_slave_scope = {
				death = { killer = scope:incendiary_slave_scope.employer.current_ruler death_reason = death_crucified }
			}
		}	
		add_tyranny = tyranny_medium
	}
	
	option = {
		name = dhe_slave.1.b
		current_ruler = {
			add_popularity = popularity_small
		}
		if = {
			limit = {
				scope:incendiary_slave_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
				any_character = {
					is_governor = yes
					any_governor_state = {
						this = scope:incendiary_slave_city_scope.state
					}
				}
			}
			scope:incendiary_slave_city_scope.governor = {
				add_loyalty = loyalty_crucified_slave_leader
			}
		}
		scope:incendiary_slave_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_incendiary_divided_sm
					duration = 3650 # 10 years
				}
			}
		}
		hidden_effect = {
			scope:incendiary_slave_scope = {
				death = { killer = scope:incendiary_slave_scope.employer.current_ruler death_reason = death_obscurity }
			}
		}
		add_political_influence = subtract_influence_medium
	}
	
	option = {
		name = dhe_slave.1.c
		current_ruler = {
			add_popularity = subtract_popularity_medium
		}
		if = {
			limit = {
				scope:incendiary_slave_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
			}
			scope:incendiary_slave_city_scope.governor = {
				add_loyalty = loyalty_recruited_slave
			}
		}
		scope:incendiary_slave_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_incendiary_promoted_sm
					duration = 3650 # 10 years
				}
			}
		}
		custom_tooltip = dhe_slave.1.ct
		add_political_influence = subtract_influence_small
	}
	
	option = {
		name = dhe_slave.1.d
		current_ruler = {
			add_popularity = subtract_popularity_large
		}
		if = {
			limit = {
				scope:incendiary_slave_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
			}
			scope:incendiary_slave_city_scope.governor = {
				add_loyalty = loyalty_ignored_slave_leader
			}
		}
		scope:incendiary_slave_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_incendiary_unchecked_sm
					duration = 3650 # 10 years
				}
			}
		}
		remove_stability_effect = yes
	}
}

dhe_slave.2 = { # Excellent Conditions in X
	type = country_event
	title = "dhe_slave.2.t"
	desc = "dhe_slave.2.desc"
	picture = hellenic_marketplace
	
	left_portrait = current_ruler
	right_portrait = scope:excellent_conditions_city_scope.governor
	
	goto_location = scope:excellent_conditions_city_scope
	
	trigger = {
		any_owned_province = {
			is_capital = no
			num_of_slaves >= 5
			save_temporary_scope_as = excellent_conditions_city_temp_scope
		}
		NOR = {
			scope:excellent_conditions_city_temp_scope.area = {
				any_area_province = {
					NOT = {
						owner = ROOT
					}
				}
			}
			has_variable = dhe_slave_excellent_cooldown
			any_owned_province = {
				OR = {
					has_province_modifier = dhe_slave_conditions_lessons_sm
					has_province_modifier = dhe_slave_conditions_autonomy_pm
				}
			}
		}
	}

	immediate = {
		random_area = {
			limit = {
				NOT = {
					any_area_province = {
						NOT = {
							owner = ROOT
						}
					}
				}
				any_area_province = {
					is_capital = no
					num_of_slaves >= 5
				}
			}
			random_area_province = {
				limit = {
					owner = ROOT
					is_capital = no
					num_of_slaves >= 5
				}
				save_scope_as = excellent_conditions_city_scope
			}
		}
		set_variable = {
			name = dhe_slave_excellent_cooldown
			days = 3650 # 10 years
		}
	}
	
	option = {
		name = dhe_slave.2.a
		if = {
			limit = {
				scope:excellent_conditions_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
			}
			scope:excellent_conditions_city_scope.governor = {
				add_loyalty = loyalty_appropriated_profits
			}
		}
		add_treasury = {
			value = has_monthly_income
			multiply = 2.5
		}
	}
	
	option = {
		name = dhe_slave.2.b
		if = {
			limit = {
				scope:excellent_conditions_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
			}
			scope:excellent_conditions_city_scope.governor = {
				add_prominence = prominence_large
			}
		}
		scope:excellent_conditions_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_conditions_lessons_sm
					duration = 3650 # 10 years
				}
			}
		}
		add_political_influence = subtract_influence_medium
	}
	
	option = {
		name = dhe_slave.2.c
		if = {
			limit = {
				scope:excellent_conditions_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
			}
			scope:excellent_conditions_city_scope.governor = {
				add_loyalty = loyalty_food_benign_neglect
				add_gold = {
					value = scope:excellent_conditions_city_scope.owner.has_monthly_income
					multiply = 1.0
				}
			}
		}
		scope:excellent_conditions_city_scope = {
			add_province_modifier = {
				name = dhe_slave_conditions_autonomy_pm
				duration = 3650 # 10 years
			}
		}
		add_treasury = {
			value = has_monthly_income
			multiply = 1.0
		}
	}
	
	option = {
		name = dhe_slave.2.d
		highlight = yes
		exclusive = yes
		trigger = {
			current_ruler = {
				has_trait = corrupt
			}
		}
		if = {
			limit = {
				scope:excellent_conditions_city_scope = {
					NOT = {
						is_in_region = root.capital_scope
					}
				}
			}
			scope:excellent_conditions_city_scope.governor = {
				add_loyalty = loyalty_corrupt_ruler
			}
		}
		current_ruler = {
			add_gold = {
				value = root.has_monthly_income
				multiply = 2.5
			}
			add_corruption = corruption_medium
		}
		custom_tooltip = corrupt_bad_tooltip
	}
}

dhe_slave.3 = { # X the Slave
	type = country_event
	title = "dhe_slave.3.t"
	desc = "dhe_slave.3.desc"
	picture = oration
	
	left_portrait = current_ruler
	right_portrait = scope:dhe_slave_politician_scope
	
	trigger = {
		is_republic = yes
		NOT = {
			has_variable = dhe_slave_politics_cooldown
		}
		NOT = { has_law = republican_citizen_4 }
		NOT = { has_law = lex_aelia_sentia }
		any_owned_province = {
			NOT = { 
				is_capital = yes
			}
			total_population >= 5
			num_of_slaves >= 1
		}
	}

	immediate = {
		set_variable = {
			name = dhe_slave_politics_cooldown
			days = 9125 # 25 years
		}
		random_owned_province = {
			limit = {
				is_capital = no
				total_population >= 5
				num_of_slaves >= 1
			}
			save_scope_as = dhe_slave_politician_birthplace_scope
		}
		hidden_effect = {
			create_character = {
				female = no
				birth_province = scope:dhe_slave_politician_birthplace_scope
				add_finesse = 1
				save_scope_as = dhe_slave_politician_scope
			}
			scope:dhe_slave_politician_scope = {
				character_democratic_party_conviction_effect = {
					VALUE = 30
				}
				add_character_modifier = {
					name = ex_slave_cmod
					duration = -1
				}
			}
		}
	}
	
	option = {
		name = dhe_slave.3.a
		current_ruler = {
			add_popularity = subtract_popularity_medium
			add_corruption = corruption_medium
		}
		scope:dhe_slave_politician_scope = {
			hidden_effect = {
				republic_job_giver_effect = yes
			}
			custom_tooltip = dhe_slave.3.at
			add_loyalty = loyalty_supported_politician
		}
		add_country_modifier = {
			name = dhe_slave_supported_cm
			duration = 3650 # 10 years
		}
		democratic_approval_effect = {
			VALUE = party_approval_medium
		}
	}
	
	option = {
		name = dhe_slave.3.b
		current_ruler = {
			add_popularity = popularity_medium
			add_corruption = corruption_medium
		}
		scope:dhe_slave_politician_scope = {
			add_loyalty = loyalty_opposed_politician
		}
		add_country_modifier = {
			name = dhe_slave_scuppered_cm
			duration = 3650 # 10 years
		}
		traditionalist_approval_effect = {
			VALUE = party_approval_medium
		}
	}
	
	option = {
		name = dhe_slave.3.c
		if = {
			limit = {
				current_ruler = {
					corruption > 0
				}
			}
			current_ruler = {
				add_corruption = subtract_corruption_medium
			}
		}
		current_ruler = {
			add_popularity = subtract_popularity_medium
		}
		custom_tooltip = dhe_slave.3.ct
		hidden_effect = {
			random_list = {
				33 = {
					scope:dhe_slave_politician_scope = {
						republic_job_giver_effect = yes
					}
					modifier = {
						factor = 33
						scope:dhe_slave_politician_scope = {
							OR = {
								martial >= 7
								finesse >= 7
								charisma >= 7
								zeal >= 7
							}
						}
					}
				}
				66 = {}
			}
		}
		add_political_influence = influence_medium
	}
	
	option = {
		name = dhe_slave.3.d
		highlight = yes
		trigger = {
			current_ruler = {
				wealth >= 100
				NOT = {
					char_is_decent_trigger = yes
				}
			}
		}
		current_ruler = {
			add_gold = {
				subtract = 100
			}
			add_corruption = corruption_large
		}
		hidden_effect = {
			scope:dhe_slave_politician_scope = {
				death = { killer = root.current_ruler death_reason = death_internal_assassination }
			}
		}
		custom_tooltip = dhe_slave.3.dt1
		add_tyranny = tyranny_large
		custom_tooltip = dhe_slave.3.dt2
	}
}

dhe_slave.4 = { # Accident in X
	type = country_event
	title = "dhe_slave.4.t"
	desc = "dhe_slave.4.desc"
	picture = quarry
	
	left_portrait = current_ruler
	right_portrait = scope:dhe_slave_accident_city_scope.governor
	
	goto_location = scope:dhe_slave_accident_city_scope
	
	trigger = {
		any_owned_province = {
			num_of_slaves >= 5
			OR = {
				AND = {
					trade_goods = salt
					is_coastal = no
				}
				trade_goods = stone
				trade_goods = marble
				trade_goods = precious_metals
				trade_goods = iron
				trade_goods = base_metals
				trade_goods = gems
			}
			NOT = {
				is_capital = yes
			}
		}
		NOT = {
			has_variable = dhe_slave_accident_cooldown
		}
	}

	immediate = {
		random_owned_province = {
			limit = {
				num_of_slaves >= 5
				OR = {
					AND = {
						trade_goods = salt
						is_coastal = no
					}
					trade_goods = stone
					trade_goods = marble
					trade_goods = precious_metals
					trade_goods = iron
					trade_goods = base_metals
					trade_goods = gems
				}
				NOT = {
					is_capital = yes
				}
			}
			save_scope_as = dhe_slave_accident_city_scope
		}
		set_variable = {
			name = dhe_slave_accident_cooldown
			days = 9125 # 25 years
		}
		scope:dhe_slave_accident_city_scope = {
			random_pops_in_province = {
				limit = {
					pop_type = slaves
				}
				save_scope_as = accident_pop
			}
		}
		scope:accident_pop = {
			kill_pop = yes
		}
	}
	
	option = {
		name = dhe_slave.4.a
		current_ruler = {
			add_popularity = popularity_medium
		}
		if = {
			limit = {
				exists = scope:dhe_slave_accident_city_scope.governor
				NOT = { root.current_ruler = scope:dhe_slave_accident_city_scope.governor }
			}
			scope:dhe_slave_accident_city_scope.governor = {
				add_loyalty = loyalty_state_compensation
			}
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -4.6
		}
		scope:dhe_slave_accident_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_accident_compensate_owners_sm
					duration = 3650 # 10 years
				}
			}
		}
	}
	
	option = {
		name = dhe_slave.4.b
		if = {
			limit = {
				exists = scope:dhe_slave_accident_city_scope.governor
				NOT = { root.current_ruler = scope:dhe_slave_accident_city_scope.governor }
			}
			scope:dhe_slave_accident_city_scope.governor = {
				add_loyalty = loyalty_state_costs
			}
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -2.4
		}
		scope:dhe_slave_accident_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_accident_repair_sm
					duration = 3650 # 10 years
				}
			}
		}
	}
	
	option = {
		name = dhe_slave.4.c
		current_ruler = {
			add_popularity = subtract_popularity_medium
		}
		if = {
			limit = {
				exists = scope:dhe_slave_accident_city_scope.governor
				NOT = { root.current_ruler = scope:dhe_slave_accident_city_scope.governor }
			}
			scope:dhe_slave_accident_city_scope.governor = {
				add_loyalty = loyalty_state_nothing
			}
		}
		scope:dhe_slave_accident_city_scope = {
			add_province_modifier = {
				name = dhe_slave_accident_inaction_city_pm
				duration = 3650 # 10 years
			}
		}
		scope:dhe_slave_accident_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_accident_inaction_province_sm
					duration = 3650 # 10 years
				}
			}
		}
	}
	
	option = {
		name = dhe_slave.4.d
		highlight = yes
		trigger = {
			current_ruler = {
				char_is_decent_trigger = yes
			}
		}
		custom_tooltip = dhe_slave.4.dt
		current_ruler = {
			add_popularity = subtract_popularity_small
		}
		if = {
			limit = {
				exists = scope:dhe_slave_accident_city_scope.governor
				NOT = { root.current_ruler = scope:dhe_slave_accident_city_scope.governor }
			}
			scope:dhe_slave_accident_city_scope.governor = {
				add_loyalty = loyalty_state_seized
			}
		}
		add_tyranny = tyranny_medium
		add_treasury = {
			value = has_monthly_income
			multiply = -3.2
		}
		scope:dhe_slave_accident_city_scope = {
			state = {
				add_state_modifier = {
					name = dhe_slave_accident_compensate_slaves_sm
					duration = 3650 # 10 years
				}
			}
		}
	}
}

dhe_slave.5 = { # Harsh Treatment
	type = country_event
	title = "dhe_slave.5.t"
	desc = "dhe_slave.5.desc"
	picture = slaves_working
	
	left_portrait = current_ruler
	right_portrait = scope:dhe_slave_populist_politican
	
	goto_location = scope:dhe_slave_harsh_treatment_city_scope
	
	trigger = {
		is_republic = yes
		NOT = { has_law = republican_citizen_2 }
		NOT = { has_law = lex_aelia_sentia }
		civic_tech >= 9
		any_owned_province = {
			is_capital = no
			num_of_slaves >= 5
		}
		any_character = {
			is_alive = yes
			is_ruler = no
			prisoner = no
			character_democratic_party_trigger = yes
		}
		country_slave_party_trigger = yes
		NOT = {
			has_variable = dhe_slave_harsh_treatment_cooldown
		}
	}

	immediate = {
		random_owned_province = {
			limit = {
				is_capital = no
				num_of_slaves >= 5
			}
			save_scope_as = dhe_slave_harsh_treatment_city_scope
		}
		ordered_character = {
			limit = {
				is_alive = yes
				is_ruler = no
				prisoner = no
				character_democratic_party_trigger = yes
			}
			order_by = power_base
			save_scope_as = dhe_slave_populist_politican
		}
		set_variable = {
			name = dhe_slave_harsh_treatment_cooldown
			days = 7300 # 20 years
		}
	}
	
	option = {
		name = dhe_slave.5.a
		current_ruler = {
			add_popularity = subtract_popularity_medium
		}
		scope:dhe_slave_populist_politican = {
			add_popularity = popularity_medium
			add_loyalty = loyalty_supported_slave_reform
		}
		dhe_slave_harsh_treatment_law_effect = yes
		add_country_modifier = {
			name = dhe_slave_harsh_reform_cm
			duration = 3650 # 10 years
		}
		democratic_approval_effect = {
			VALUE = party_approval_medium
		}
		add_political_influence = subtract_influence_medium
	}
	
	option = {
		name = dhe_slave.5.b
		current_ruler = {
			add_corruption = corruption_medium
		}
		scope:dhe_slave_populist_politican = {
			add_loyalty = loyalty_refused_slave_reform
		}
		add_treasury = {
			value = has_monthly_income
			multiply = 4.8
		}
		add_country_modifier = {
			name = dhe_slave_harsh_corrupt_cm
			duration = 3650 # 10 years
		}
		add_tyranny = tyranny_large
		remove_stability_effect = yes
	}
	
	option = {
		name = dhe_slave.5.c
		current_ruler = {
			add_popularity = popularity_medium
		}
		scope:dhe_slave_populist_politican = {
			add_loyalty = loyalty_ignored_slave_reform
		}
		add_country_modifier = {
			name = dhe_slave_harsh_inaction_cm
			duration = 3650 # 10 years
		}
		add_political_influence = influence_medium
	}
}

dhe_slave.6 = { # Debt Bondage Scandal
	type = country_event
	title = "dhe_slave.6.t"
	desc = "dhe_slave.6.desc"
	picture = slaves_working
	
	left_portrait = current_ruler
	right_portrait = scope:debt_reformer_scope
	right_portrait = scope:debt_supporter_scope
	
	trigger = {
		OR = {
			is_republic = yes
			AND = {
				is_monarchy = yes
				has_law = increased_citizenship_quotas
			}
		}
		NOT = {
			has_variable = dhe_slave_debt_bondage_cooldown
		}
		slave_population_proportion_svalue > slave_proportion_total_population_svalue # Slave population at least over 40% of total
		any_character = {
			is_alive = yes
			employer = ROOT
			prisoner = no
			is_ruler = no
			trigger_if = {
				limit = {
					employer = {
						gender_equality = no
					}
				}
				is_female = no
			}
			NOR = {
				wealth < 10
				trigger_if = {
					limit = {
						employer.current_ruler = {
							is_minor_character = no
						}
					}
					from_ruler_family = yes
				}
				character_democratic_party_trigger = yes
			}
			save_temporary_scope_as = debt_supporter_scope_temp
		}
		any_character = {
			is_alive = yes
			employer = ROOT
			prisoner = no
			is_ruler = no
			trigger_if = {
				limit = {
					employer = {
						gender_equality = no
					}
				}
				is_female = no
			}
			character_democratic_party_trigger = yes
			NOR = {
				wealth < 10
				trigger_if = {
					limit = {
						employer.current_ruler = {
							is_minor_character = no
						}
					}
					from_ruler_family = yes
				}
				this = scope:debt_supporter_scope_temp
			}
		}
	}

	immediate = {
		set_variable = {
			name = dhe_slave_debt_bondage_cooldown
			days = 18250 # 50 days
		}
		random_character = {
			limit = {
				is_alive = yes
				employer = ROOT
				prisoner = no
				is_ruler = no
				trigger_if = {
					limit = {
						employer = {
							gender_equality = no
						}
					}
					is_female = no
				}
				NOR = {
					wealth < 10
					trigger_if = {
						limit = {
							employer.current_ruler = {
								is_minor_character = no
							}
						}
						from_ruler_family = yes
					}
					character_democratic_party_trigger = yes
				}
			}
			weight = {
				title_importance_modifier = yes
			}
			save_scope_as = debt_supporter_scope
		}
		random_character = {
			limit = {
				is_alive = yes
				employer = ROOT
				prisoner = no
				is_ruler = no
				trigger_if = {
					limit = {
						employer = {
							gender_equality = no
						}
					}
					is_female = no
				}
				character_democratic_party_trigger = yes
				NOR = {
					wealth < 10
					trigger_if = {
						limit = {
							employer.current_ruler = {
								is_minor_character = no
							}
						}
						from_ruler_family = yes
					}
					this = scope:debt_supporter_scope
				}
			}
			weight = {
				title_importance_modifier = yes
			}
			save_scope_as = debt_reformer_scope
		}
	}
	
	option = {
		name = dhe_slave.6.a
		current_ruler = {
			add_popularity = subtract_popularity_medium
		}
		scope:debt_reformer_scope = {
			add_loyalty = loyalty_supported_bondage_reform_1
		}
		scope:debt_supporter_scope = {
			add_loyalty = loyalty_supported_bondage_reform_2
		}
		add_country_modifier = {
			name = dhe_slave_debt_reform_cm
			duration = 3650 # 10 years
		}
		democratic_approval_effect = {
			VALUE = party_approval_medium
		}
		if = {
			limit = {
				is_monarchy = yes
			}
			change_law = established_courts_for_landholders
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					num_of_slaves > 4
				}
				random_pops_in_province = {
					limit = {
						pop_type = slaves
					}
					set_pop_type = freemen
				}	
			}
		}
		custom_tooltip = dhe_slave.6.at
		add_political_influence = subtract_influence_large
	}
	
	option = {
		name = dhe_slave.6.b
		current_ruler = {
			add_popularity = popularity_large
			add_corruption = corruption_medium
		}
		scope:debt_reformer_scope = {
			add_loyalty = loyalty_refused_bondage_reform_1
		}
		scope:debt_supporter_scope = {
			add_loyalty = loyalty_refused_bondage_reform_2
		}
		add_treasury = {
			value = has_monthly_income
			multiply = 1.7
		}
		add_tyranny = tyranny_large
		add_country_modifier = {
			name = dhe_slave_debt_supported_cm
			duration = 3650 # 10 years
		}
	}
	
	option = {
		name = dhe_slave.6.c
		current_ruler = {
			add_popularity = subtract_popularity_small
		}
		scope:debt_reformer_scope = {
			add_loyalty = loyalty_dismissed_concerns
		}
		scope:debt_supporter_scope = {
			add_loyalty = loyalty_dismissed_concerns
		}
		add_country_modifier = {
			name = dhe_slave_debt_inaction_cm
			duration = 3650 # 10 years
		}
		remove_stability_effect = yes
	}
}

dhe_slave.7 = { # Slave Family Emerges
	type = country_event
	title = "dhe_slave.7.t"
	desc = "dhe_slave.7.desc"
	picture = senator_conversing
	
	left_portrait = current_ruler
	right_portrait = scope:slave_family_1
	right_portrait = scope:slave_family_2
	right_portrait = scope:slave_family_3
	
	

	trigger = {
		is_republic = yes
		NOT = { has_law = republican_citizen_4 }
		NOT = { has_law = lex_aelia_sentia }
		NOT = {
			has_variable = dhe_slave_family_cooldown
		}
		civic_tech >= 9
		any_owned_province = {
			is_capital = no
			total_population <= 15
		}
		any_neighbour_country = {
			exists = yes
			has_land = yes
		}
	}

	immediate = {
		set_variable = {
			name = dhe_slave_family_cooldown
			days = 9125 # 25 years
		}
		random_owned_province = {
			limit = {
				is_capital = no
				total_population <= 15
			}
			save_scope_as = slave_family_birthplace_scope
		}
		hidden_effect = { 
			create_character = {
				age = 45
				culture = root.culture
				religion = root.religion
				save_scope_as = slave_family_1
			}
			create_character = {
				age = 21
				father = scope:slave_family_1
				culture = root.culture
				religion = root.religion
				save_scope_as = slave_family_2
			}
			create_character = {
				age = 17
				father = scope:slave_family_1
				culture = root.culture
				religion = root.religion
				save_scope_as = slave_family_3
			}
			scope:slave_family_1 = {
				character_democratic_party_conviction_effect = {
					VALUE = 30
				}
				add_character_modifier = {
					name = ex_slave_cmod
					duration = -1
				}
			}
			scope:slave_family_2 = {
				character_democratic_party_conviction_effect = {
					VALUE = 30
				}
				add_character_modifier = {
					name = ex_slave_cmod
					duration = -1
				}
			}
			scope:slave_family_3 = {	
				character_democratic_party_conviction_effect = {
					VALUE = 30
				}
				add_character_modifier = {
					name = ex_slave_cmod
					duration = -1
				}
			}
		}
		random_neighbour_country = {
			limit = {
				exists = yes
				has_land = yes
			}
			save_scope_as = dhe_slave_family_country
		}
	}
	
	option = {
		name = dhe_slave.7.a
		current_ruler = {
			add_popularity = subtract_popularity_huge
		}
		new_family_generation_effect = { FAMILY_CANDIDATE = slave_family_1 } #Scripted Effect that passes on the saved scope.
		scope:slave_family_1 = {
			add_loyalty = loyalty_welcomed_slave_family
		}
		scope:slave_family_2 = {
			add_loyalty = loyalty_welcomed_slave_family
		}
		scope:slave_family_3 = {
			add_loyalty = loyalty_welcomed_slave_family
		}
		democratic_approval_effect = {
			VALUE = party_approval_medium
		}
		add_treasury = {
			value = has_monthly_income
			multiply = 3.1
		}
		remove_stability_effect = yes
	}
	
	option = {
		name = dhe_slave.7.b
		current_ruler = {
			add_popularity = popularity_medium
		}
		scope:slave_family_1 = {
			add_loyalty = loyalty_unwelcomed_slave_family
		}
		scope:slave_family_2 = {
			add_loyalty = loyalty_unwelcomed_slave_family
		}
		scope:slave_family_3 = {
			add_loyalty = loyalty_unwelcomed_slave_family
		}
	}
	
	option = {
		name = dhe_slave.7.c
		current_ruler = {
			add_popularity = popularity_large
		}
		hidden_effect = {
			scope:slave_family_1 = {
				banish = scope:dhe_slave_family_country
			}
			scope:slave_family_2 = {
				banish = scope:dhe_slave_family_country
			}
			scope:slave_family_3 = {
				banish = scope:dhe_slave_family_country
			}
		}
		custom_tooltip = dhe_slave.7.ct
		if = {
			limit = {
				tag = ROM
			}
			change_law = lex_aelia_sentia
		}
		else = {
			change_law = republican_citizen_4
		}
		add_political_influence = subtract_influence_medium
	}
	
	option = {
		name = dhe_slave.7.d
		current_ruler = {
			add_popularity = subtract_popularity_small
		}
		scope:slave_family_1 = {
			add_loyalty = loyalty_dismissed_slave_family
		}
		scope:slave_family_2 = {
			add_loyalty = loyalty_dismissed_slave_family
		}
		scope:slave_family_3 = {
			add_loyalty = loyalty_dismissed_slave_family
		}
		add_political_influence = subtract_influence_small
	}
}

dhe_slave.8 = { # Unethical Dominus 1
	type = country_event
	title = "dhe_slave.8.t"
	desc = "dhe_slave.8.desc"
	picture = senator_conversing
	
	left_portrait = current_ruler
	right_portrait = scope:unethical_dominus_scope
	
	trigger = {
		has_land = yes
		NOT = {
			has_variable = dhe_slave_unethical_dominus_cooldown
		}
		OR = {
			is_republic = yes
			is_monarchy = yes
		}
		any_character = {
			is_ruler = no
			is_alive = yes
			age >= 25
			wealth > 100 
			prisoner = no
			employer = ROOT
			NOR = {
				has_character_modifier = foreign_citizen
				char_is_religious_trigger = yes
			}
		}
	}

	immediate = {
		set_variable = {
			name = dhe_slave_unethical_dominus_cooldown
			days = 9125 # 25 years
		}
		capital_scope = {
			ordered_neighbor_province = {
				limit = {
					has_owner = yes
				}
				order_by = num_of_slaves 
				save_scope_as = dhe_slave_scandal_market_flavor_scope
			}
		}
		random_character = {
			limit = {
				is_ruler = no
				is_alive = yes
				age >= 25
				wealth > 100
				prisoner = no
				employer = ROOT
				NOR = {
					has_character_modifier = foreign_citizen
					char_is_religious_trigger = yes
				}
			}
			weight = {
				modifier = {
					factor = 50
					is_male = yes
				}
			}
			save_scope_as = unethical_dominus_scope
		}
	}
	
	option = {
		name = dhe_slave.8.a
		scope:unethical_dominus_scope = {
			if = {
				limit = { has_any_office = yes }	
				remove_all_offices = yes
			}
			add_loyalty = loyalty_scandal_investigation
			add_character_modifier = {
				name = under_investigation_cmod
				duration = -1
			}
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					hidden_effect = {
						every_family_member = {
							limit = {
								NOT = { this = scope:unethical_dominus_scope }
								age >= 16
								employer = ROOT
							}
							add_loyalty = loyalty_scandal_investigation
						}
					}
					custom_tooltip = dhe_slave.8.at
				}
			}
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -1
		}
		add_political_influence = influence_small
		hidden_effect = {
			random_list = {
				20 = {
					set_variable = {
						name = dhe_slave_scandal_innocent_flag
						days = -1
					}
				}
				80 = {}
			}
		}
		trigger_event = {
			id = dhe_slave.9
			days = { 20 30 }
		}
	}
	
	option = {
		name = dhe_slave.8.b
		scope:unethical_dominus_scope = {
			add_loyalty = loyalty_token_investigation
			add_character_modifier = {
				name = under_investigation_cmod
				duration = -1
			}
		}
		set_variable = {
			name = dhe_slave_scandal_coverup_flag
			days = -1
		}
		hidden_effect = {
			random_list = {
				20 = {
					set_variable = {
						name = dhe_slave_scandal_innocent_flag
						days = -1
					}
				}
				80 = {}
			}
		}
		trigger_event = {
			id = dhe_slave.9
			days = { 20 30 }
		}
	}
	
	option = {
		name = dhe_slave.8.c
		current_ruler = { add_corruption = corruption_medium }
		scope:unethical_dominus_scope = {
			add_loyalty = loyalty_no_investigation
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					hidden_effect = {
						every_family_member = {
							limit = {
								NOT = { this = scope:unethical_dominus_scope }
								age >= 16
								employer = ROOT
							}
							add_loyalty = loyalty_no_investigation
						}
					}
					custom_tooltip = dhe_slave.8.ct
				}
			}
		}
		add_country_modifier = {
			name = dhe_slave_scandal_ignored_cm
			duration = 3650 # 10 years
		}
	}
}

dhe_slave.9 = { # Unethical Dominus 2
	type = country_event
	title = "dhe_slave.9.t"
	desc = {
		first_valid = {
			triggered_desc = { # Guilty Investigation 
				trigger = {
					NOR = { 
						has_variable = dhe_slave_scandal_coverup_flag
						has_variable = dhe_slave_scandal_innocent_flag
					}
				}
				desc = "dhe_slave.9.desc_1"
			}
			triggered_desc = { # Guilty Cover-up
				trigger = {
					has_variable = dhe_slave_scandal_coverup_flag
					NOT = { has_variable = dhe_slave_scandal_innocent_flag }
				}
				desc = "dhe_slave.9.desc_2"
			}
			triggered_desc = { # Innocent Investigation
				trigger = {
					NOT = { has_variable = dhe_slave_scandal_coverup_flag }
					has_variable = dhe_slave_scandal_innocent_flag
				}
				desc = "dhe_slave.9.desc_3"
			}
			triggered_desc = { # Innocent Cover-up
				trigger = {
					always = yes
				}
				desc = "dhe_slave.9.desc_4"
			}
		}
	}
	picture = roman_trial
	
	left_portrait = current_ruler
	right_portrait = scope:unethical_dominus_scope
	
	trigger = {
		has_land = yes
		scope:unethical_dominus_scope = {
			is_alive = yes
			prisoner = no
			employer = ROOT
		}
	}
	
	option = { # Leave no stone unturned
		name = dhe_slave.9.a
		trigger = {
			NOT = { has_variable = dhe_slave_scandal_coverup_flag }
		}
		if = {
			limit = {
				NOT = {
					has_variable = dhe_slave_scandal_innocent_flag
				}
			}
			scope:unethical_dominus_scope = {
				add_popularity = subtract_popularity_medium
				add_loyalty = loyalty_rigorous_investigation_1
			}
			scope:unethical_dominus_scope = {
				if = {
					limit = { is_minor_character = no }
					scope:unethical_dominus_scope.family = { add_prestige = subtract_prestige_medium }
				}
			}
			hidden_effect = {
				random_list = {
					25 = {
						set_variable = {
							name = dhe_slave_scandal_flight_flag
							days = -1
						}
					}
					75 = {}
				}
			}
		}
		else = {
			current_ruler = { add_popularity = popularity_small }
			scope:unethical_dominus_scope = {
				add_loyalty = loyalty_rigorous_investigation_2
				if = {
					limit = { is_minor_character = no }
					family = { add_prestige = prestige_small }
				}
			}
		}
		trigger_event = {
			id = dhe_slave.11
			days = { 20 30 }
		}
	}
	
	option = { # Scale of problem exaggerated
		name = dhe_slave.9.b
		trigger = { has_variable = dhe_slave_scandal_coverup_flag }
		current_ruler = { add_popularity = popularity_small }
		if = {
			limit = {
				NOT = { has_variable = dhe_slave_scandal_innocent_flag }
			}
			scope:unethical_dominus_scope = {
				add_popularity = subtract_popularity_medium
				if = {
					limit = { is_minor_character = no }
					family = { add_prestige = subtract_prestige_large }
				}
			}
		}
		else = {
			scope:unethical_dominus_scope = {
				add_popularity = popularity_medium
				if = {
					limit = { is_minor_character = no }
					family = { add_prestige = prestige_small }
				}
			}
		}
		trigger_event = {
			id = dhe_slave.11
			days = { 20 30 }
		}
	}
	
	option = { # Precuationary imprisonment
		name = dhe_slave.9.c
		trigger = {
			NOR = { 
				has_variable = dhe_slave_scandal_coverup_flag
				has_variable = dhe_slave_scandal_innocent_flag
			}
		}
		scope:unethical_dominus_scope = {
			add_popularity = subtract_popularity_large
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					hidden_effect = {
						every_family_member = {
							limit = {
								NOT = { this = scope:unethical_dominus_scope }
								age >= 16
								employer = ROOT
							}
							add_loyalty = loyalty_precautionary_imprisonment
						}
					}
					add_prestige = subtract_prestige_large
					custom_tooltip = dhe_slave.9.ct
				}
			}
		}
		set_variable = {
			name = dhe_slave_scandal_imprisoned_flag
			days = -1
		}
		imprison = { target = scope:unethical_dominus_scope }
		add_tyranny = tyranny_medium
		trigger_event = {
			id = dhe_slave.11
			days = { 20 30 }
		}
	}
	
	option = { # Smear innocent defendant
		name = dhe_slave.9.d
		trigger = { has_variable = dhe_slave_scandal_innocent_flag }
		current_ruler = { add_corruption = corruption_medium }
		scope:unethical_dominus_scope = {
			add_loyalty = loyalty_smeared_defendent
			add_popularity = subtract_popularity_medium
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					add_prestige = subtract_prestige_large
				}
			}
		}
		set_variable = {
			name = dhe_slave_scandal_smear_flag
			days = -1
		}
		trigger_event = {
			id = dhe_slave.11
			days = { 20 30 }
		}
	}
	
	option = { # Tamper with evidence
		name = dhe_slave.9.e
		trigger = {
			has_variable = dhe_slave_scandal_coverup_flag
			NOT = { 
				has_variable = dhe_slave_scandal_innocent_flag
			}
		}
		current_ruler = { add_popularity = subtract_popularity_small }
		scope:unethical_dominus_scope = { 
			add_loyalty = loyalty_evidence_tampering
			add_popularity = subtract_popularity_small
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					add_prestige = subtract_prestige_small
				}
			}		
		}
		set_variable = {
			name = dhe_slave_scandal_tamper_flag
			days = -1
		}
		trigger_event = {
			id = dhe_slave.11
			days = { 20 30 }
		}
	}
	
	option = { # Extort the defendent for leniency
		name = dhe_slave.9.f
		highlight = yes
		trigger = {
			NOR = { 
				current_ruler = {
					char_is_decent_trigger = yes 
				}
				has_variable = dhe_slave_scandal_innocent_flag
			}
		}
		current_ruler = {
			add_corruption = corruption_small
		}
		scope:unethical_dominus_scope = {
			add_popularity = subtract_popularity_small
			if = {
				limit = { is_minor_character = no }
				family = {
					add_prestige = subtract_prestige_small
				}
			}
		}
		custom_tooltip = dhe_slave.9.ft
		trigger_event = {
			id = dhe_slave.10
			days = { 3 5 }
		}
	}
}

dhe_slave.10 = { # Slave Scandal - Extort
	type = country_event
	title = "dhe_slave.10.t"
	desc = {
		first_valid = {
			triggered_desc = { # Refused 
				trigger = {
					NOT = { has_variable = dhe_slave_scandal_extort_success_flag }
				}
				desc = "dhe_slave.10.desc_1"
			}
			triggered_desc = { # Accepted
				trigger = {
					always = yes
				}
				desc = "dhe_slave.10.desc_2"
			}
		}
	}
	picture = war_chest
	
	left_portrait = current_ruler
	right_portrait = scope:unethical_dominus_scope
	
	trigger = {
		scope:unethical_dominus_scope = {
			is_alive = yes
			prisoner = no
			employer = ROOT
		}
	}
	
	immediate = {
		hidden_effect = {
			random_list = {
				50 = {
					set_variable = {
						name = dhe_slave_scandal_extort_success_flag
						days = -1
					}
				}
				50 = {
				}
			}
		}
	}
	
	option = { # Extortion succeeds
		name = dhe_slave.10.a
		trigger = {
			has_variable = dhe_slave_scandal_extort_success_flag
		}
		scope:unethical_dominus_scope = {
			add_gold = {
				value = wealth
				multiply = -0.5
			}
		}
		current_ruler = {
			add_gold = {
				value = scope:unethical_dominus_scope.wealth
				multiply = 0.5
			}
			add_corruption = corruption_medium
		}
		scope:unethical_dominus_scope = {
			add_corruption = corruption_medium
		}
		set_variable = dhe_slave_scandal_tamper_flag
		trigger_event = {
			id = dhe_slave.11
			days = { 15 20 }
		}
		remove_variable = dhe_slave_scandal_extort_success_flag
	}
	
	option = { # Extortion fails
		name = dhe_slave.10.b
		trigger = {
			NOT = { has_variable = dhe_slave_scandal_extort_success_flag }
		}
		if = {
			limit = {
				current_ruler = {
					can_get_rivals = yes
				}
				scope:unethical_dominus_scope = {
					NOT = {
						is_rival = root.current_ruler
					}
					can_get_rivals = yes
				}
			}
			current_ruler = {
				add_rival = scope:unethical_dominus_scope
			}
		}
		add_political_influence = subtract_influence_small
		trigger_event = {
			id = dhe_slave.11
			days = { 15 20 }
		}
	}
}

dhe_slave.11 = { # Unethical Dominus 3
	type = country_event
	title = "dhe_slave.11.t"
	desc = {
		first_valid = {
			triggered_desc = { # Flight
				trigger = {
					has_variable = dhe_slave_scandal_flight_flag
					NOT = { has_variable = dhe_slave_scandal_innocent_flag }
				}
				desc = "dhe_slave.11.desc_1"
			}
			triggered_desc = { # Innocent investigation
				trigger = {
					has_variable = dhe_slave_scandal_innocent_flag
					NOR = { 
						has_variable = dhe_slave_scandal_coverup_flag
						has_variable = dhe_slave_scandal_smear_flag
					}
				}
				desc = "dhe_slave.11.desc_2"
			}
			triggered_desc = { # Innocent Cover up
				trigger = {
					has_variable = dhe_slave_scandal_innocent_flag
					has_variable = dhe_slave_scandal_coverup_flag
					NOT = { 
						has_variable = dhe_slave_scandal_smear_flag
					}
				}
				desc = "dhe_slave.11.desc_3"
			}
			triggered_desc = { # Smear
				trigger = {
					has_variable = dhe_slave_scandal_innocent_flag
					has_variable = dhe_slave_scandal_smear_flag
				}
				desc = "dhe_slave.11.desc_4"
			}
			triggered_desc = { # Tamper
				trigger = {
					has_variable = dhe_slave_scandal_tamper_flag
				}
				desc = "dhe_slave.11.desc_5"
			}
			triggered_desc = { # Guilty Cover up
				trigger = {
					NOR = {
						has_variable = dhe_slave_scandal_innocent_flag
						has_variable = dhe_slave_scandal_tamper_flag
						has_variable = dhe_slave_scandal_flight_flag
					}
					has_variable = dhe_slave_scandal_coverup_flag
				}
				desc = "dhe_slave.11.desc_6"
			}
			triggered_desc = { # Guilty investigation
				trigger = {
					always = yes
				}
				desc = "dhe_slave.11.desc_7"
			}
		}
	}
	picture = roman_trial
	
	left_portrait = current_ruler
	right_portrait = scope:unethical_dominus_scope
	
	trigger = {
		exists = current_ruler 
		has_land = yes
		exists = scope:unethical_dominus_scope
		scope:unethical_dominus_scope = {
			is_alive = yes
			employer = root
			is_ruler = no 
		}
	}
	
	immediate = {
		hidden_effect = {
			scope:unethical_dominus_scope = {
				remove_character_modifier = under_investigation_cmod
			}
		}
		if = {
			limit = {
				any_country = {
					NOT = { is_subject_of = ROOT }
					in_diplomatic_range = ROOT
				}
			}
			random_country = {
				limit = {
					NOT = { is_subject_of = ROOT }
					in_diplomatic_range = ROOT
				}
				weight = {
					modifier = {
						factor = 50
						primary_culture = root.culture
					}
					modifier = {
						factor = 50
						religion = root.religion
					}
				}
				save_scope_as = dhe_slave_flight_country_scope
			}
		}
	}
	
	option = { # Innocent
		name = dhe_slave.11.a
		trigger = {
			has_variable = dhe_slave_scandal_innocent_flag
			NOR = { 
				has_variable = dhe_slave_scandal_imprisoned_flag 
				has_variable = dhe_slave_scandal_smear_flag
			}
		}
		if = {
			limit = {
				has_variable = dhe_slave_scandal_coverup_flag
			}
			scope:unethical_dominus_scope = {
				add_loyalty = loyalty_found_innocent
				add_popularity = popularity_large
				if = {
					limit = { is_minor_character = no }
					scope:unethical_dominus_scope.family = {
						add_prestige = prestige_medium
					}
				}
			}
			add_country_modifier = {
				name = dhe_slave_scandal_unfair_innocent_cm
				duration = 3650 # 10 years
			}
			remove_variable = dhe_slave_scandal_innocent_flag
			remove_variable = dhe_slave_scandal_coverup_flag
		}
		else = {
			current_ruler = {
				add_popularity = popularity_medium
			}
			scope:unethical_dominus_scope = {
				add_loyalty = loyalty_found_innocent
				add_popularity = popularity_large
				if = {
					limit = { is_minor_character = no }
					scope:unethical_dominus_scope.family = {
						add_prestige = prestige_medium
					}
				}
			}
			add_country_modifier = {
				name = dhe_slave_scandal_fair_trial_cm
				duration = 3650 # 10 years
			}
			remove_variable = dhe_slave_scandal_innocent_flag
		}
	}
	
	option = { # Guilty slap on wrist
		name = dhe_slave.11.b
		trigger = {
			NOT = { has_variable = dhe_slave_scandal_tamper_flag }
			AND = {
				has_variable = dhe_slave_scandal_coverup_flag
				NOT = { 
					has_variable = dhe_slave_scandal_innocent_flag
				}
			}
		}
		current_ruler = {
			add_popularity = subtract_popularity_medium
		}
		scope:unethical_dominus_scope = {
			add_popularity = subtract_popularity_medium
			add_loyalty = loyalty_trial_fine
			if = {
				limit = {
					is_minor_character = no
				}
				family = {
					add_prestige = subtract_prestige_small
				}
			}
		}
		scope:unethical_dominus_scope.family = {
			hidden_effect = {
				every_family_member = {
					limit = {
						NOT = { this = scope:unethical_dominus_scope }
						age >= 16
						employer = ROOT
					}
					add_loyalty = loyalty_tarnished_family
				}
			}
		}
		add_treasury = {
			value = scope:unethical_dominus_scope.wealth
			multiply = 0.2
			max = 50
		}
		hidden_effect = {
			scope:unethical_dominus_scope = {
				add_gold = {
					value = wealth
					multiply = -0.2
					min = -50
				}
			}
		}
		add_country_modifier = {
			name = dhe_slave_scandal_unfair_trial_cm
			duration = 3650 # 10 years
		}
	}
	
	option = { # Guilty
		name = dhe_slave.11.c
		trigger = {
			NOR = {
				has_variable = dhe_slave_scandal_coverup_flag
				has_variable = dhe_slave_scandal_innocent_flag
				has_variable = dhe_slave_scandal_flight_flag
				has_variable = dhe_slave_scandal_tamper_flag
			}
		}
		scope:unethical_dominus_scope = {
			add_loyalty = loyalty_found_guilty
			add_character_modifier = {
				name = disgraced_cmod
				duration = 5475 # 15 years
			}
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					add_prestige = subtract_prestige_large
				}
			}
		}
		if = {
			limit = { 
				scope:unethical_dominus_scope = {
					employer = root
					prisoner = yes
				}
			}
			release_prisoner = { target = scope:unethical_dominus_scope }
		}
		scope:unethical_dominus_scope.family = {
			hidden_effect = {
				every_family_member = {
					limit = {
						NOT = { this = scope:unethical_dominus_scope }
						age >= 16
						employer = ROOT
					}
					add_loyalty = loyalty_tarnished_family
				}
			}
			
		}
		add_treasury = {
			value = scope:unethical_dominus_scope.wealth
			multiply = 0.25
			max = 50
		}
		hidden_effect = {
			scope:unethical_dominus_scope = {
				add_gold = {
					value = wealth
					multiply = -0.25
					min = -50
				}
			}
		}
		add_country_modifier = {
			name = dhe_slave_scandal_fair_trial_cm
			duration = 3650 # 10 years
		}
	}
	
	option = { #  Guilty harsh - imprisonment
		name = dhe_slave.11.d
		trigger = {
			scope:unethical_dominus_scope = { prisoner = no }
			NOR = {
				has_variable = dhe_slave_scandal_imprisoned_flag
				has_variable = dhe_slave_scandal_innocent_flag
				has_variable = dhe_slave_scandal_coverup_flag
				has_variable = dhe_slave_scandal_flight_flag
				has_variable = dhe_slave_scandal_tamper_flag
			}
		}
		scope:unethical_dominus_scope = {
			employer = { 
				imprison = { target = scope:unethical_dominus_scope } 
			}
			add_loyalty = loyalty_guilty_imprisoned
			add_character_modifier = {
				name = completely_disgraced_cmod
				duration = 5475 # 15 years
			}
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					custom_tooltip = dhe_slave.11.dt
					add_prestige = subtract_prestige_huge
					hidden_effect = {
						every_family_member = {
							limit = {
								NOT = { this = scope:unethical_dominus_scope }
								age >= 16
								employer = ROOT
							}
							add_loyalty = loyalty_tarnished_family
						}
					}
				}
			}
		}
		add_tyranny = tyranny_small
		add_country_modifier = {
			name = dhe_slave_scandal_fair_trial_harsh_cm
			duration = 3650 # 10 years
		}
	}

	option = { # Imprisoned - execute
		name = dhe_slave.11.e
		highlight = yes
		trigger = {
			NOT = { has_variable = dhe_slave_scandal_smear_flag }
			OR = {
				AND = {
					exists = current_ruler
					root.current_ruler = { is_rival = scope:unethical_dominus_scope }
				}
				AND = {
					exists = current_ruler
					has_variable = dhe_slave_scandal_imprisoned_flag
					root.current_ruler = { char_is_decent_trigger = yes }
				}
			}
			scope:unethical_dominus_scope = { is_alive = yes }
		}
		scope:unethical_dominus_scope = {
			death = { killer = root.current_ruler death_reason = death_execution }
			if = {
				limit = { is_minor_character = no }
				scope:unethical_dominus_scope.family = {
					custom_tooltip = dhe_slave.11.et1
					add_prestige = subtract_prestige_huge
					hidden_effect = {
						every_family_member = {
							limit = {
								NOT = { this = scope:unethical_dominus_scope }
								age >= 16
								employer = ROOT
							}
							add_loyalty = loyalty_executed_family
						}
					}
				}
			}
		}
		add_tyranny = tyranny_large
		add_country_modifier = {
			name = dhe_slave_scandal_trial_execute_cm
			duration = 3650 # 10 years
		}
		if = {
			limit = {
				current_ruler = {
					char_is_decent_trigger = yes
				}
			}
			custom_tooltip = dhe_slave.11.et2
		}
		else = {
			custom_tooltip = dhe_slave.11.et3
		}
		remove_variable = dhe_slave_scandal_imprisoned_flag
	}

	option = { # Flight
		name = dhe_slave.11.f
		trigger = {
			has_variable = dhe_slave_scandal_flight_flag
			NOT = { has_variable = dhe_slave_scandal_imprisoned_flag }
		}
		current_ruler = {
			add_popularity = subtract_popularity_small 
		}
		if = {
			limit = {
				any_country = {
					this = scope:dhe_slave_flight_country_scope
				}
			}
			scope:unethical_dominus_scope = {
				banish = scope:dhe_slave_flight_country_scope
				add_character_modifier = {
					name = fugitive_cmod
					duration = -1
				}
			}
		}
		else = {
			scope:unethical_dominus_scope = {
				death = { killer = root.current_ruler death_reason = death_obscurity }
			}
		}
		add_treasury = {
			value = scope:unethical_dominus_scope.wealth
			multiply = 0.33
		}
		hidden_effect = {
			scope:unethical_dominus_scope = {
				add_gold = {
					value = wealth
					multiply = -0.33
				}
			}
		}
		add_country_modifier = {
			name = dhe_slave_scandal_escaped_trial_cm
			duration = 3650 # 10 years
		}
		add_political_influence = subtract_influence_small
		remove_variable = dhe_slave_scandal_flight_flag
	}
	
	option = { # Flight charity
		name = dhe_slave.11.g
		trigger = {
			has_variable = dhe_slave_scandal_flight_flag
			NOT = { has_variable = dhe_slave_scandal_imprisoned_flag }
		}
		current_ruler = {
			add_popularity = popularity_medium
		}
		if = {
			limit = {
				any_country = {
					this = scope:dhe_slave_flight_country_scope
				}
			}
			scope:unethical_dominus_scope = {
				banish = scope:dhe_slave_flight_country_scope
				add_character_modifier = {
					name = fugitive_cmod
					duration = -1
				}
			}
		}
		else = {
			scope:unethical_dominus_scope = {
				death = { killer = root.current_ruler death_reason = death_obscurity }
			}
		}
		hidden_effect = {
			create_character = {
				female = no
				save_scope_as = dhe_slave_freed_slave_scope
			}
			scope:dhe_slave_freed_slave_scope = {
				set_as_minor_character = THIS
				character_democratic_party_conviction_effect = {
					VALUE = 30
				}
				add_character_modifier = {
					name = ex_slave_cmod
					duration = -1
				}
			}
			scope:unethical_dominus_scope = {
				add_gold = {
					value = wealth
					multiply = -0.33
				}
			}
		}
		custom_tooltip = dhe_slave.11.gt
		add_country_modifier = {
			name = dhe_slave_scandal_escaped_charity_cm
			duration = 3650 # 10 years
		}
		add_political_influence = subtract_influence_small
		remove_variable = dhe_slave_scandal_flight_flag
	}
	
	option = { # Smeared
		name = dhe_slave.11.h
		trigger = {
			has_variable = dhe_slave_scandal_smear_flag
			NOT = { has_variable = dhe_slave_scandal_imprisoned_flag }
		}
		current_ruler = {
			add_popularity = popularity_small
		}
		scope:unethical_dominus_scope = {
			add_popularity = subtract_popularity_medium
			add_loyalty = loyalty_trial_smeared
			add_character_modifier = {
				name = disgraced_cmod
				duration = 5475 # 15 years
			}
		}
		if = {
			limit = {
				current_ruler = {
					can_get_rivals = yes
				}
				scope:unethical_dominus_scope = {
					NOT = {
						is_rival = root.current_ruler
					}
					can_get_rivals = yes
				}
			}
			scope:unethical_dominus_scope = {
				add_rival = root.current_ruler
			}
		}
		scope:unethical_dominus_scope = {
			if = {
				limit = {
					is_minor_character = no
				}
				family = {
					add_prestige = subtract_prestige_medium
				}
			}
		}
		scope:unethical_dominus_scope.family = {
			hidden_effect = {
				every_family_member = {
					limit = {
						NOT = { this = scope:unethical_dominus_scope }
						age >= 16
						employer = ROOT
					}
					add_loyalty = loyalty_tarnished_family
				}
			}
		}
		custom_tooltip = dhe_slave.11.ht
		add_treasury = {
			value = scope:unethical_dominus_scope.wealth
			multiply = 0.2
		}
		hidden_effect = {
			scope:unethical_dominus_scope = {
				add_gold = {
					value = wealth
					multiply = -0.2
				}
			}
		}
		add_country_modifier = {
			name = dhe_slave_scandal_smeared_cm
			duration = 3650 # 10 years
		}
		if = {
			limit = { has_variable = dhe_slave_scandal_coverup_flag }
			remove_variable = dhe_slave_scandal_coverup_flag
		}
	}
	
	option = { # Tampered
		name = dhe_slave.11.i
		trigger = {
			has_variable = dhe_slave_scandal_tamper_flag
			NOT = { has_variable = dhe_slave_scandal_flight_flag }
		}
		if = {
			limit = {
				current_ruler = {
					can_get_friends = yes
					NOT = { is_friend = scope:unethical_dominus_scope }
				}
				scope:unethical_dominus_scope = { can_get_friends = yes }
			}
			scope:unethical_dominus_scope = { 
				add_friend = root.current_ruler 
			}
		}
		current_ruler = { add_popularity = subtract_popularity_medium }
		scope:unethical_dominus_scope = {
			add_popularity = popularity_medium
			add_loyalty = loyalty_trial_tampered
			if = {
				limit = {
					is_minor_character = no
				}
				family = {
					add_prestige = subtract_prestige_medium
				}
			}
		}
		scope:unethical_dominus_scope.family = {
			hidden_effect = {
				every_family_member = {
					limit = {
						NOT = { this = scope:unethical_dominus_scope }
						age >= 16
						employer = ROOT
					}
					add_loyalty = loyalty_trial_helped
				}
			}
		}
		custom_tooltip = dhe_slave.11.it
		add_country_modifier = {
			name = dhe_slave_scandal_unfair_trial_cm
			duration = 3650 # 10 years
		}
		if = {
			limit = { has_variable = dhe_slave_scandal_coverup_flag }
			remove_variable = dhe_slave_scandal_coverup_flag
		}
		remove_variable = dhe_slave_scandal_tamper_flag
	}
}