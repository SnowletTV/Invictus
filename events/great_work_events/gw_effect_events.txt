namespace = gw_effects

#####################################################
#                                                   #
#                   MARTIAL TRAINING                #
#                                                   #
#####################################################

gw_effects.1 = {
    type = country_event 				# EVENT TYPE - Can be Country/Province/Character, decides ROOT Scope
    hidden = yes 						# SPECIAL FIELD - Can hide the event from a player's view

    trigger = {
        has_country_great_work_effect = gw_effect_martial_education
    }

    immediate = { # EFFECT FIELD - Fires after trigger check, but before everything else
    
        # TIER 1
        if = {
            limit = {
                has_country_great_work_effect = gw_effect_martial_education:1
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                 
                }
                random_list = {
                    96 = {}
                    4 = {
                        add_character_modifier = {
                            name = "martial_training_1"
                            duration = -1
                        } 
                    }                  
                }
            }
        }

        # TIER 2
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_martial_education:2
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = martial_training_1
                            has_character_modifier = martial_training_2
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4                         
                        }
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            add_character_modifier = {
                                name = "martial_training_1"
                                duration = -1
                            } 
                        }                                             
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = martial_training_1

                        NOT = {
                            has_character_modifier = martial_training_2
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4
                        }                        
                    }

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = martial_training_1 
                            add_character_modifier = {
                                name = "martial_training_2"
                                duration = -1
                            }
                        }                                          
                    }
                }                
            }
        }

        # TIER 3
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_martial_education:3
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                  
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = martial_training_1
                            has_character_modifier = martial_training_2
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4
                        }
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            add_character_modifier = {
                                name = "martial_training_1"
                                duration = -1
                            }
                        }
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = martial_training_1

                        NOT = {
                            has_character_modifier = martial_training_2
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4
                        }                                                
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = martial_training_1
                                add_character_modifier = {
                                name = "martial_training_2"
                                duration = -1
                            }
                        }
                    }
                }

                # Trait 2 present, add trait 3
                else_if = {
                    limit = {
                        has_character_modifier = martial_training_2

                        NOT = {
                            has_character_modifier = martial_training_1
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4
                        }                                                
                    }

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = martial_training_2
                            add_character_modifier = {
                                name = "martial_training_3"
                                duration = -1
                            }
                        }
                    }
                }                               
            }
        }

        # TIER 4
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_martial_education:4
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                                       
                }

                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = martial_training_1
                            has_character_modifier = martial_training_2
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4
                        }
                    }

                    random_list = {
                        84 = {}
                        16 = {
                            add_character_modifier = {
                                name = "martial_training_1"
                                duration = -1
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = martial_training_1

                        NOT = {
                            has_character_modifier = martial_training_2
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4
                        }                        
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            remove_character_modifier = martial_training_1
                            add_character_modifier = {
                                name = "martial_training_2"
                                duration = -1
                            } 
                        }                      
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = martial_training_2

                        NOT = {
                            has_character_modifier = martial_training_1
                            has_character_modifier = martial_training_3
                            has_character_modifier = martial_training_4
                        }                        
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = martial_training_2
                            add_character_modifier = {
                                name = "martial_training_3"
                                duration = -1
                            }
                        }                      
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = martial_training_3

                        NOT = {
                            has_character_modifier = martial_training_1
                            has_character_modifier = martial_training_2
                            has_character_modifier = martial_training_4
                        }                            
                    }                        

                    random_list = {
                        94 = {}
                        4 = {
                            remove_character_modifier = martial_training_3
                            add_character_modifier = {
                                name = "martial_training_4"
                                duration = -1
                            } 
                        }                      
                    }
                }
            }
        }
    }    
}

#####################################################
#                                                   #
#                   FINESSE TRAINING                #
#                                                   #
#####################################################

gw_effects.2 = {
    type = country_event                # EVENT TYPE - Can be Country/Province/Character, decides ROOT Scope
    hidden = yes                        # SPECIAL FIELD - Can hide the event from a player's view

    trigger = {
        has_country_great_work_effect = gw_effect_finesse_education
    }

    immediate = { # EFFECT FIELD - Fires after trigger check, but before everything else
    
        # TIER 1
        if = {
            limit = {
                has_country_great_work_effect = gw_effect_finesse_education:1
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                   
                }
                random_list = {
                    96 = {}
                    4 = {
                        add_character_modifier = {
                            name = "finesse_training_1"
                            duration = -1                
                        }
                    }
                }
            }
        }

        # TIER 2
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_finesse_education:2
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                  
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = finesse_training_1
                            has_character_modifier = finesse_training_2
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4                         
                        }
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            add_character_modifier = {
                                name = "finesse_training_1"
                                duration = -1                
                            }
                        }                  
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = finesse_training_1

                        NOT = {
                            has_character_modifier = finesse_training_2
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4
                        }                        
                    }

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = finesse_training_1
                            add_character_modifier = {
                                name = "finesse_training_2"
                                duration = -1                
                            }
                        }
                    }
                }                
            }
        }

        # TIER 3
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_finesse_education:3
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                   
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = finesse_training_1
                            has_character_modifier = finesse_training_2
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4
                        }
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            add_character_modifier = {
                                name = "finesse_training_1"
                                duration = -1                
                            }
                        }
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = finesse_training_1

                        NOT = {
                            has_character_modifier = finesse_training_2
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4
                        }                                                
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = finesse_training_1
                            add_character_modifier = {
                                name = "finesse_training_2"
                                duration = -1
                            }
                        }
                    }
                }

                # Trait 2 present, add trait 3
                else_if = {
                    limit = {
                        has_character_modifier = finesse_training_2

                        NOT = {
                            has_character_modifier = finesse_training_1
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4
                        }                                                
                    }

                    random_list= {
                        96 = {}
                        4 = {
                            remove_character_modifier = finesse_training_2
                            add_character_modifier = {
                                name = "finesse_training_3"
                                duration = -1                
                            }
                        }
                    }
                }                               
            }
        }

        # TIER 4
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_finesse_education:4
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                                      
                }

                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = finesse_training_1
                            has_character_modifier = finesse_training_2
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4
                        }
                    }

                    random_list = {
                        84 = {}
                        16 = {
                            add_character_modifier = {
                                name = "finesse_training_1"
                                duration = -1                
                            }
                        }
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = finesse_training_1

                        NOT = {
                            has_character_modifier = finesse_training_2
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4
                        }                        
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            remove_character_modifier = finesse_training_1
                            add_character_modifier = {
                                name = "finesse_training_2"
                                duration = -1                
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = finesse_training_2

                        NOT = {
                            has_character_modifier = finesse_training_1
                            has_character_modifier = finesse_training_3
                            has_character_modifier = finesse_training_4
                        }                        
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = finesse_training_2
                            add_character_modifier = {
                                name = "finesse_training_3"
                                duration = -1                
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = finesse_training_3

                        NOT = {
                            has_character_modifier = finesse_training_1
                            has_character_modifier = finesse_training_2
                            has_character_modifier = finesse_training_4
                        }                            
                    }                        

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = finesse_training_3
                            add_character_modifier = {
                                name = "finesse_training_4"
                                duration = -1                
                            }
                        }                        
                    }
                }
            }
        }
    }    
}

#####################################################
#                                                   #
#                   CHARISMA TRAINING                #
#                                                   #
#####################################################

gw_effects.3 = {
    type = country_event                # EVENT TYPE - Can be Country/Province/Character, decides ROOT Scope
    hidden = yes                        # SPECIAL FIELD - Can hide the event from a player's view

    trigger = {
        has_country_great_work_effect = gw_effect_charisma_education
    }

    immediate = { # EFFECT FIELD - Fires after trigger check, but before everything else
    
        # TIER 1
        if = {
            limit = {
                has_country_great_work_effect = gw_effect_charisma_education:1
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                  
                }
                random_list = {
                    96 = {}
                    4 = {
                        add_character_modifier = {
                            name = "charisma_training_1"
                            duration = -1                
                        }
                    }
                }
            }
        }

        # TIER 2
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_charisma_education:2
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                  
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = charisma_training_1
                            has_character_modifier = charisma_training_2
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4                         
                        }
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            add_character_modifier = {
                                name = "charisma_training_1"
                                duration = -1                
                            }
                        }                                             
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = charisma_training_1

                        NOT = {
                            has_character_modifier = charisma_training_2
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4
                        }                        
                    }

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = charisma_training_1
                            add_character_modifier = {
                                name = "charisma_training_2"
                                duration = -1
                            }
                        }                        
                    }
                }                
            }
        }

        # TIER 3
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_charisma_education:3
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                  
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = charisma_training_1
                            has_character_modifier = charisma_training_2
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4
                        }
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            add_character_modifier = {
                                name = "charisma_training_1"
                                duration = -1
                            }
                        }                        
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = charisma_training_1

                        NOT = {
                            has_character_modifier = charisma_training_2
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4
                        }                                                
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = charisma_training_1
                            add_character_modifier = {
                                name = "charisma_training_2"
                                duration = -1
                            }
                        }                        
                    }
                }

                # Trait 2 present, add trait 3
                else_if = {
                    limit = {
                        has_character_modifier = charisma_training_2

                        NOT = {
                            has_character_modifier = charisma_training_1
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4                          
                        }                                                
                    }

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = charisma_training_2
                            add_character_modifier = {
                                name = "charisma_training_3"
                                duration = -1
                            }
                        }                        
                    }
                }                               
            }
        }

        # TIER 4
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_charisma_education:4
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                                       
                }

                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = charisma_training_1
                            has_character_modifier = charisma_training_2
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4
                        }
                    }

                    random_list = {
                        84 = {}
                        16 = {
                            add_character_modifier = {
                                name = "charisma_training_1"
                                duration = -1
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = charisma_training_1

                        NOT = {
                            has_character_modifier = charisma_training_2
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4
                        }                        
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            remove_character_modifier = charisma_training_1
                            add_character_modifier = {
                                name = "charisma_training_2"
                                duration = -1
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = charisma_training_2

                        NOT = {
                            has_character_modifier = charisma_training_1
                            has_character_modifier = charisma_training_3
                            has_character_modifier = charisma_training_4
                        }                        
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = charisma_training_2
                            add_character_modifier = {
                                name = "charisma_training_3"
                                duration = -1
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = charisma_training_3

                        NOT = {
                            has_character_modifier = charisma_training_1
                            has_character_modifier = charisma_training_2
                            has_character_modifier = charisma_training_4
                            }                            
                        }                        

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = charisma_training_3
                            add_character_modifier = {
                                name = "charisma_training_4"
                                duration = -1
                            }
                        }                        
                    }
                }
            }
        }
    }    
}

#####################################################
#                                                   #
#                   ZEAL TRAINING                   #
#                                                   #
#####################################################

gw_effects.4 = {
    type = country_event                # EVENT TYPE - Can be Country/Province/Character, decides ROOT Scope
    hidden = yes                        # SPECIAL FIELD - Can hide the event from a player's view

    trigger = {
        has_country_great_work_effect = gw_effect_zeal_education
    }

    immediate = { # EFFECT FIELD - Fires after trigger check, but before everything else
    
        # TIER 1
        if = {
            limit = {
                has_country_great_work_effect = gw_effect_zeal_education:1
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                 
                }
                random_list = {
                    96 = {}
                    4 = {
                        add_character_modifier = {
                            name = "zeal_training_1"
                            duration = -1
                        }
                    }                    
                }
            }
        }

        # TIER 2
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_zeal_education:2
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                   
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = zeal_training_1
                            has_character_modifier = zeal_training_2
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4                         
                        }
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            add_character_modifier = {
                                name = "zeal_training_1"
                                duration = -1
                            }
                        }                                              
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = zeal_training_1

                        NOT = {
                            has_character_modifier = zeal_training_2
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4
                        }                        
                    }

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = zeal_training_1
                            add_character_modifier = {
                                name = "zeal_training_2"
                                duration = -1
                            }
                        }                        
                    }
                }                
            }
        }

        # TIER 3
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_zeal_education:3
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                  
                }

                # No trait present
                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = zeal_training_1
                            has_character_modifier = zeal_training_2
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4
                        }
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            add_character_modifier = {
                                name = "zeal_training_1"
                                duration = -1
                            }
                        }                        
                    }
                }

                # Trait 1 present, add trait 2
                else_if = {
                    limit = {
                        has_character_modifier = zeal_training_1

                        NOT = {
                            has_character_modifier = zeal_training_2
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4
                        }                                               
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = zeal_training_1
                            add_character_modifier = {
                                name = "zeal_training_2"
                                duration = -1
                            }
                        }                        
                    }
                }

                # Trait 2 present, add trait 3
                else_if = {
                    limit = {
                        has_character_modifier = zeal_training_2

                        NOT = {
                            has_character_modifier = zeal_training_1
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4   
                        }                                               
                    }

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = zeal_training_2
                            add_character_modifier = {
                                name = "zeal_training_3"
                                duration = -1
                            }
                        }                        
                    }
                }                               
            }
        }

        # TIER 4
        else_if = {
            limit = {
                has_country_great_work_effect = gw_effect_zeal_education:4
            }

            every_character = {
                limit = {
                    age < 16
                    age >= 5                                       
                }

                if = {
                    limit = {
                        NOT = {
                            has_character_modifier = zeal_training_1
                            has_character_modifier = zeal_training_2
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4
                        }
                    }

                    random_list = {
                        84 = {}
                        16 = {
                            add_character_modifier = {
                                name = "zeal_training_1"
                                duration = -1
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = zeal_training_1

                        NOT = {
                            has_character_modifier = zeal_training_2
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4
                        }                        
                    }

                    random_list = {
                        88 = {}
                        12 = {
                            remove_character_modifier = zeal_training_1
                            add_character_modifier = {
                                name = "zeal_training_2"
                                duration = -1
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = zeal_training_2

                        NOT = {
                            has_character_modifier = zeal_training_1
                            has_character_modifier = zeal_training_3
                            has_character_modifier = zeal_training_4
                        }                        
                    }

                    random_list = {
                        92 = {}
                        8 = {
                            remove_character_modifier = zeal_training_2
                            add_character_modifier = {
                                name = "zeal_training_3"
                                duration = -1
                            }
                        }                        
                    }
                }

                else_if = {
                    limit = {
                        has_character_modifier = zeal_training_3

                        NOT = {
                            has_character_modifier = zeal_training_1
                            has_character_modifier = zeal_training_2
                            has_character_modifier = zeal_training_4
                        }                            
                    }                        

                    random_list = {
                        96 = {}
                        4 = {
                            remove_character_modifier = zeal_training_3
                            add_character_modifier = {
                                name = "zeal_training_4"
                                duration = -1
                            }
                        }                        
                    }
                }
            }
        }
    }    
}