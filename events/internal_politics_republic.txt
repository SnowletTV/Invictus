namespace = ip_republic

#associated with election fraud
ip_republic.1 = {
	type = character_event
	title = "ip_republic.1.t"
	desc = "ip_republic.1.desc"
	picture = roman_trial
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_1_accuser
	
	trigger = {
		employer = { is_republic = yes }
		is_ruler = yes
		corruption >= 5
		NOT = {
			has_variable = under_fraud_scrutiny
		}
		employer = {
			any_character = {
				is_party_leader = yes
				NOT = { is_same_party_as = ROOT }
			}
		}
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			factor = 3
			corruption >= 20
		}
		modifier = {
			factor = 3
			any_rival = {
				is_party_leader = yes
				NOT = {
					is_same_party_as = ROOT
				}
			}
		}
	}
	
	immediate = { 
		employer = {
			random_character = {
				limit = {
					is_party_leader = yes 
					NOT = { is_same_party_as = ROOT }
				}
				weight = {
					title_importance_modifier = yes
				}
				save_scope_as = ip_republic_1_accuser
			}
		}
		set_variable = {
			name = under_fraud_scrutiny
			value = 1
		}
	}
	
	option = {
		name = "ip_republic.1.a"
		custom_tooltip = "increased_scrutiny.tooltip"
		add_popularity = subtract_popularity_small
	}
	
	option = {
		name = "ip_republic.1.b"
		custom_tooltip = "ip_republic.1.b.tooltip"
		add_popularity = subtract_popularity_small
		employer = {
			add_treasury = {
				value = root.employer.has_monthly_income
				multiply = root.corruption_svalue_halved
			}
		}
		hidden_effect = {
			remove_variable = under_fraud_scrutiny
		}
	}
	
	option = {
		name = "ip_republic.1.c"
		employer = { add_tyranny = 10 }
		scope:ip_republic_1_accuser = {
			#remove_party_leadership = ip_republic_1_accuser.character_party #TODO JH
			add_loyalty = loyalty_demanded_resignation
			add_prominence = prominence_huge
		}
		hidden_effect = {
			remove_variable = under_fraud_scrutiny
		}
	}
}

#tyranny results in scrutiny
ip_republic.2 = {
	type = character_event
	title = "ip_republic.2.t"
	desc = "ip_republic.2.desc"
	picture = senate_debate
	
	left_portrait = ROOT
	
	trigger = {
		employer = { is_republic = yes }
		is_ruler = yes
		employer = {
			tyranny >= 20
		}
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			factor = 2
			employer = {
				tyranny >= 40
			}
		}
	}
	
	option = {
		name = "ip_republic.2.a"
		custom_tooltip = "increased_scrutiny.tooltip"
		hidden_effect = {
			set_variable = {
				name = under_fraud_scrutiny
				value = 1
			}
		}
	}
	
	option = {
		name = "ip_republic.2.b"
		custom_tooltip = "ambitious_tooltip"
		trigger = {
			has_trait = ambitious
		}
		highlight = yes
		add_corruption = corruption_large
		employer = { 
			add_tyranny = 5
		}
	}
	
	option = {
		name = "ip_republic.2.c"
		custom_tooltip = "orator_tooltip"
		highlight = yes
		trigger = {
			has_trait = orator
		}
	}
}

ip_republic.3 = {
	type = character_event
	title = "ip_republic.3.t"
	desc = "ip_republic.3.desc"
	picture = farming
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_3_jealous_friend
	
	goto_location = scope:ip_republic_3_province_target
	
	trigger = {
		employer = { is_republic = yes }
		is_adult = yes
		NOT = {
			has_variable = ip_republic_3_inheritance
		}
		can_get_rivals = yes
		any_friend = {
			OR = {
				has_trait = selfish
				has_trait = ambitious
				has_trait = jealous
			}
			NOR = { 
				has_trait = vengeful
				has_trait = forgiving
			}
			prisoner = no
		}
		trigger_if = {
			limit = {
				employer = {
					gender_equality = no
				}
			}
			is_female = no
		}
	}
	
	immediate = {
		random_friend = {
			limit = {
				OR = {
					has_trait = selfish
					has_trait = ambitious
					has_trait = jealous
				}
				prisoner = no
			}
			weight = {
				is_prominent_modifier = yes
			}
			save_scope_as = ip_republic_3_jealous_friend
		}
		set_variable = {
			name = ip_republic_3_inheritance
			value = 1
		}
		employer = {
			random_owned_province = {
				weight = {
					modifier = {
						factor = 100
						OR = {
							trade_goods = grain
							trade_goods = vegetables
						}
					}
				}
				save_scope_as = ip_republic_3_province_target
			}
		}
	}
	
	option = {
		name = "ip_republic.3.a"
		add_gold = 200
		remove_friend = scope:ip_republic_3_jealous_friend
		add_rival = scope:ip_republic_3_jealous_friend
		ai_chance = {
			factor = 75
		}
	}
	
	option = {
		name = "ip_republic.3.b"
		add_gold = 100
		scope:ip_republic_3_jealous_friend = {
			add_gold = 100
			add_loyalty = loyalty_inheritance_split
		}
		ai_chance = {
			factor = 25
		}
	}	
	
	option = {
		name = "ip_republic.3.c"
		if = {
			limit = {
				NOT = {
					has_trait = jealous
				}
			}
			add_trait = jealous
		}
		scope:ip_republic_3_jealous_friend = {
			if = {
				limit = {
					NOT = {
						has_trait = jealous
					}
				}
				add_trait = jealous
			}
			else = {
				add_loyalty = loyalty_inheritance_confiscate
			} 
		}
		scope:ip_republic_3_province_target = {
			add_province_modifier = {
				name = state_owned_farmlands
				duration = -1
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

ip_republic.4 = {
	type = character_event
	hidden = yes
	
	trigger = {
		employer = { is_republic = yes }
		has_any_office = yes
		wealth >= 1000
		is_ruler = no
		NOT = {
			has_variable = ip_republic_4_embezzler
		}
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			factor = 2
			has_trait = gluttonous
		}
	}
	
	immediate = {
		save_scope_as = ip_republic_5_antagonist
		employer = {
			current_ruler = {
				trigger_event = {
					id = ip_republic.5
					days = 0
				}
			}
		}
		set_variable = {
			name = ip_republic_4_embezzler
			days = 3600
		}
		save_scope_as = lololol
	}
	
}

ip_republic.5 = {
	type = character_event
	title = "ip_republic.5.t"
	desc = "ip_republic.5.desc"
	picture = roman_trial
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_5_antagonist
	
	trigger = {
		scope:ip_republic_5_antagonist = {
			is_alive = yes
		}
	}
	
	option = {
		name = "ip_republic.5.a"
		add_corruption = corruption_large
		scope:ip_republic_5_antagonist = {
			add_loyalty = loyalty_embezzler_forgiven
		}
	}
	
	option = {
		name = "ip_republic.5.b"
		scope:ip_republic_5_antagonist = {
			add_gold = -100
			add_loyalty = loyalty_embezzler_fine
		}
		add_popularity = popularity_small
	}
	
	option = {
		name = "ip_republic.5.c"
		scope:ip_republic_5_antagonist = {
			remove_all_offices = yes
			add_loyalty = loyalty_embezzler_fired
		}
		add_popularity = popularity_huge
	}
	
	option = {
		name = "ip_republic.5.d"
		custom_tooltip = "just_tooltip"
		trigger = { has_trait = just }
		employer = {
			imprison = {
				target = scope:ip_republic_5_antagonist
			}
			add_tyranny = 2
		}
		if = {
			limit = { 
				employer = {
					character_democratic_party_trigger = yes
				}
			}
			employer = {
				democratic_approval_effect = {
					VALUE = party_approval_medium
				}
			}
		}
		else = {
			add_popularity = popularity_huge
		}
		ai_chance = {
			factor = 0
		}
	}
	
	option = {
		name = "ip_republic.5.e"
		custom_tooltip = "gluttonous_tooltip"
		trigger = { 
			has_trait = gluttonous
			NOT = {
				is_friend = scope:ip_republic_5_antagonist
			}
		}
		add_corruption = corruption_huge
		add_gold = 250
		add_friend = scope:ip_republic_5_antagonist
	}
	
	option = {
		name = "ip_republic.5.f"
		custom_tooltip = "option_because_friends"
		trigger = { 
			is_friend = scope:ip_republic_5_antagonist
		}
		scope:ip_republic_5_antagonist = {
			add_loyalty = loyalty_embezzler_congratulated
		}
		add_gold = 100
		add_corruption = corruption_medium
	}
	
}

ip_republic.6 = {
	type = character_event
	title = "ip_republic.6.t"
	desc = "ip_republic.6.desc"
	picture = senate_debate
	
	left_portrait = ROOT
	
	trigger = {
		is_ruler = yes
		employer = { is_republic = yes }
		NOT = {
			has_variable = republic_6_toggle
		}
	}
	
	weight_multiplier = {
		modifier = {
			factor = 2
			has_trait = lunatic
		}
	}
	
	immediate = {
		set_variable = {
			name = republic_6_toggle
			days = 1800
		}
	}
	
	option = {
		name = "ip_republic.6.a"
		trigger = {
			NOT = {
				has_trait = lunatic
			}
		}
		add_popularity = popularity_medium
		ai_chance = { factor = 50 }
	}
	
	option = {
		name = "ip_republic.6.b"
		custom_tooltip = "ip_republic.6.b.tooltip"
		trigger = {
			NOT = {
				has_trait = lunatic
			}
		}
		ai_chance = { factor = 50 }
		hidden_effect = {
			employer = {
				random_character = {
					limit = {
						OR = {
							is_rival = ROOT
							has_any_office = yes
						}
						NOT = {
							has_variable = ip_republic_6_flag
							is_friend = ROOT
						}
					}
					set_variable = {
						name = ip_republic_6_flag
						days = -1
					}
				}
			}
			trigger_event = {
				id = ip_republic.7
				days = { 60 720 }
			}
		}
	}
	
	option = {
		name = "ip_republic.6.c"
		highlight = yes
		custom_tooltip = "lunatic_bad_tooltip"
		trigger = {
			has_trait = lunatic
		}
		random_list = {
			25 = { 
				employer = {
					add_stability_effect = yes
				}
			}
			25 = {
				add_corruption = 20
			}
			25 = {
				add_gold = -100
			}
			25 = {
				trigger = {
					NOT = { has_trait = original_thinker }
				}
				add_trait = original_thinker
			}
		}
		ai_chance = { factor = 1 }
	}
	
}
	
ip_republic.7 = {
	type = character_event
	title = "ip_republic.7.t"
	desc = "ip_republic.7.desc"
	picture = roman_trial
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_7_antagonist
	
	goto_location = scope:ip_republic_7_banish.capital_scope
	
	trigger = {
		is_ruler = yes
		has_variable = republic_6_toggle
		employer = {
			any_character = {
				has_variable = ip_republic_6_flag
			}
		}
	}
	
	immediate = {
		employer = {
			random_character = {
				limit = {
					has_variable = ip_republic_6_flag
				}
				save_scope_as = ip_republic_7_antagonist
				remove_variable = ip_republic_6_flag
			}
			random_neighbour_country = {
				save_scope_as = ip_republic_7_banish
			}
		}
	}
	
	option = {
		name = "ip_republic.7.a"
		scope:ip_republic_7_antagonist = {
			add_prominence = subtract_prominence_huge
		}
	}
	
	option = {
		name = "ip_republic.7.b"
		custom_tooltip = "forgiving_tooltip"
		trigger = {
			has_trait = forgiving
		}
		if = {
			limit = {
				is_rival = scope:ip_republic_7_antagonist
			}
			remove_rival = scope:ip_republic_7_antagonist
		}
		if = {
			limit = {
				can_get_friends = yes
			}
			add_friend = scope:ip_republic_7_antagonist
		}
		else = {
			add_popularity = popularity_small
		}
	}
	
	option = {
		name = "ip_republic.7.c"
		trigger = {
			employer = {
				tyranny >= 10
			}
		}
		employer = { add_tyranny = tyranny_medium }
		scope:ip_republic_7_antagonist = {
			banish = scope:ip_republic_7_banish
		}
	}
	
	option = {
		name = "ip_republic.7.d"
		scope:ip_republic_7_antagonist = {
			add_loyalty = loyalty_befriended_traitor
		}
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = subtract_monthly_income_small
			}
		}
	}
}

ip_republic.8 = {
	type = country_event
	title = "ip_republic.8.t"
	desc = "ip_republic.8.desc"
	picture = war_chest
	
	left_portrait = root.current_ruler
	right_portrait = scope:ip_republic_8_antagonist
	
	trigger = {
		NOT = {
			has_variable = ip_republic_8_toggle
		}
		any_character = {
			is_ruler = no
			is_co_ruler = no
			char_valid_for_country_events_trigger = yes
			age >= 10
			wealth >= 100
		}
	}
	
	immediate = {
		random_character = {
			limit = {
				is_ruler = no
				is_co_ruler = no
				char_valid_for_country_events_trigger = yes
				age >= 10
				wealth >= 100
			}
			weight = {
				title_importance_modifier = yes
			}
			save_scope_as = ip_republic_8_antagonist 
			set_variable = {
				name = ip_republic_8_toggle
				days = 3600
			}
			set_variable = {
				name = death_description_random
				value = {
					integer_range = { min = 1 max = 10 }
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.8.a"
		add_treasury  = {
			value = scope:ip_republic_8_antagonist.wealth
			divide = 3
		}
		scope:ip_republic_8_antagonist = {
			add_loyalty = loyalty_offered_protection
			add_gold = {
				subtract = scope:ip_republic_8_antagonist.wealth
				divide = 3
			}
		}
	}
	
	option = {
		name = "ip_republic.8.b"
		add_stability_effect_small = yes
		scope:ip_republic_8_antagonist = {
			add_loyalty = loyalty_convinced_petitioner
		}
	}
	
	option = {
		name = "ip_republic.8.c"
		custom_tooltip = "lunatic_tooltip"
		highlight = yes
		trigger = {
			current_ruler = {
				has_trait = lunatic
			}
		}
		add_treasury  = {
			value = scope:ip_republic_8_antagonist.wealth
		}
		scope:ip_republic_8_antagonist = {
			hidden_effect = {
				add_gold = {
					subtract = scope:ip_republic_8_antagonist.wealth
				}
			}
			if = {
				limit = {
					is_alive = yes
				}
				death = {
					killer = ROOT.current_ruler
					death_reason = death_other_lunacy
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.8.c"
		custom_tooltip = "cruel_tooltip"
		trigger = {
			current_ruler = {
				has_trait = cruel
				NOT = {
					AND = {
						has_trait = lunatic
						has_trait = cruel
					}
				}
			}
		}
		highlight = yes
		add_treasury  = {
			value = scope:ip_republic_8_antagonist.wealth
		}
		scope:ip_republic_8_antagonist = {
			hidden_effect = {
				add_gold = {
					subtract = scope:ip_republic_8_antagonist.wealth
				}
			}
			death = {
				killer = root.current_ruler
				death_reason = death_other_lunacy
			}
		}
		add_tyranny = tyranny_large
	}
}

#too many friends in senate
ip_republic.9 = {
	type = character_event
	title = "ip_republic.9.t"
	desc = "ip_republic.9.desc"
	picture = senator_conversing
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_9_target
	
	trigger = {
		is_ruler = yes
		employer = {
			is_republic = yes
		}
		NOT = {
			has_variable = ip_republic_9_toggle
		}
		any_friend = {
			count >= 2
			has_any_office = yes
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_9_toggle
			value = 1
			days = 1800
		}
		random_friend = {
			limit = {
				has_any_office = yes
			}
			weight = {
				is_prominent_modifier = yes
			}
			save_scope_as = ip_republic_9_target
		}
	}
	
	option = {
		name = "ip_republic.9.a"
		remove_friend = scope:ip_republic_9_target
		scope:ip_republic_9_target = {
			remove_all_offices = yes
		}
		if = {
			limit = {
				corruption >= 5 
			}
			add_corruption = -5
		}
		else = {
			add_popularity = popularity_medium
		}
	}
	
	option = {
		name = "ip_republic.9.b"
		add_corruption = corruption_huge
	}
	
	option = {
		name = "ip_republic.9.c"
		custom_tooltip = "silver_tongued_tooltip"
		trigger = {
			has_trait = silver_tongued
		}
	}
	
}

#fire in friend's house
ip_republic.10 = {
	type = character_event
	title = "ip_republic.10.t"
	desc = "ip_republic.10.desc"
	picture = looting
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_10_target
	
	trigger = {
		is_ruler = yes
		employer = { 
			is_republic = yes
		}
		num_of_friends >= 1
		any_friend = {
			NOR = {
				has_variable = republic_10_house_fire
				has_variable = republic_11_house_fire
			}
			prisoner = no
			employer = root.employer
		}
		NOT = {
			has_variable = ip_republic_10_toggle
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_10_toggle
			value = 1
			days = 1800
		}
		random_friend = {
			limit = {
				NOR = {
					has_variable = republic_10_house_fire
					has_variable = republic_11_house_fire
				}
				prisoner = no
				employer = root.employer
			}
			weight = {
				is_prominent_modifier = yes
			}
			set_variable = {
				name = republic_10_house_fire
				value = 1
				days = -1
			}
			save_scope_as = ip_republic_10_target
		}
	}
	
	option = {
		name = "ip_republic.10.a"
		add_corruption = corruption_medium
		scope:ip_republic_10_target = {
			add_loyalty = loyalty_restored_estates
		}
		employer = {
			if = {
				limit = {
					exists = scope:ip_republic_10_target.character_party
				}
				add_party_approval = {
					party = scope:ip_republic_10_target.character_party
					value = party_approval_small
				}
			}
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = subtract_monthly_income_small
			}
		}
	}
	
	option = {
		name = "ip_republic.10.b"
		remove_friend = scope:ip_republic_10_target
	}
	
	option = {
		name = "ip_republic.10.c"
		custom_tooltip = "tyranny_tooltip"
		trigger = {
			can_get_rivals = yes
			employer = {
				tyranny >= 10
			}
		}
		remove_friend = scope:ip_republic_10_target
		add_rival = scope:ip_republic_10_target
		scope:ip_republic_10_target = {
			add_loyalty = loyalty_redistributed_estates
		}
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = add_monthly_income_large
			}
			add_tyranny = tyranny_medium
		}
	}
}

#fire in rival's house
ip_republic.11 = {
	type = character_event
	title = "ip_republic.11.t"
	desc = "ip_republic.11.desc"
	picture = looting
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_11_target
	
	goto_location = scope:ip_republic_11_province
	
	trigger = {
		is_ruler = yes
		employer = { 
			is_republic = yes
		}
		num_of_rivals >= 1
		any_rival = {
			NOR = {
				has_variable = republic_11_house_fire
				has_variable = republic_10_house_fire
			}
			employer = root.employer
			prisoner = no
		}
		NOT = {
			has_variable = republic_11_toggle
		}
		employer = {
			any_owned_province = {
				NOT = {
					has_province_modifier = state_owned_farmlands
				}
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = republic_11_toggle
			value = 1
			days = 1800
		}
		random_rival = {
			limit = {
				NOR = {
					has_variable = republic_10_house_fire
					has_variable = republic_11_house_fire
				}
				employer = root.employer
				prisoner = no
			}
			weight = {
				is_prominent_modifier = yes
			}
			save_scope_as = ip_republic_11_target
			set_variable = {
				name = republic_11_house_fire
				value = 1
				days = -1
			}
		}
		employer = {
			random_owned_province = {
				limit = {
					NOT = {
						has_province_modifier = state_owned_farmlands
					}
				}
				weight = {
					base = 1
					modifier = {
						factor = 10
						OR = {
							trade_goods = grain
							trade_goods = vegetables
							trade_goods = dates
							trade_goods = olive
						}
					}
				}
				save_scope_as = ip_republic_11_province
			}
		}
	}
	
	option = {
		name = "ip_republic.11.a"
		remove_rival = scope:ip_republic_11_target
		add_friend = scope:ip_republic_11_target
		scope:ip_republic_11_target = {
			add_loyalty = loyalty_restored_estates
		}
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = subtract_monthly_income_small
			}
		}
	}
	
	option = {
		name = "ip_republic.11.b"
		scope:ip_republic_11_target = {
			add_loyalty = loyalty_refused_help
			add_prominence = subtract_prominence_huge
		}
	}
	
	option = {
		name = "ip_republic.11.c"
		trigger = {
			exists = scope:ip_republic_11_province
		}
		add_popularity = subtract_popularity_medium
		scope:ip_republic_11_target = {
			add_loyalty = loyalty_redistributed_estates
		}
		scope:ip_republic_11_province = {
			add_province_modifier = {
				name = state_owned_farmlands
				duration = -1
			}
		}
	}
}

#Buy rival's things
ip_republic.12 = {
	type = character_event
	title = "ip_republic.12.t"
	desc = "ip_republic.12.desc"
	picture = farming
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_12_target
	
	goto_location = scope:ip_republic_12_province
	
	trigger = {
		is_ruler = yes
		num_of_rivals >= 1
		any_rival = {
			prisoner = no
			NOT = {
				has_variable = ip_republic_12_happened
			}
			employer = root.employer
		}
		NOT = {
			has_variable = republic_12_toggle
		}
		employer = {
			any_owned_province = {
				NOT = {
					has_province_modifier = state_owned_farmlands
				}
			}
			any_neighbour_country = {
				NOT = {
					war_with = root.employer
				}
			}
		}
	}
	
	immediate = {
		random_rival = {
			limit = {
				prisoner = no
				NOT = {
					has_variable = ip_republic_12_happened
				}
				employer = root.employer
			}
			set_variable = {
				name = ip_republic_12_happened
				value = 1
			}
			save_scope_as = ip_republic_12_target
		}
		employer = {
			random_neighbour_country = {
				limit = {
					NOT = {
						war_with = root.employer
					}
				}
				weight = {
					base = 1
					modifier = {
						factor = 100
						imports_from = root.employer
					}
				}
				save_scope_as = republic_12_import_target
			}
			random_owned_province = {
				limit = {
					NOT = {
						has_province_modifier = state_owned_farmlands
					}
				}
				weight = {
					base = 1
					modifier = {
						factor = 10
						OR = {
							trade_goods = grain
							trade_goods = vegetables
							trade_goods = dates
							trade_goods = olive
						}
					}
				}
				save_scope_as = ip_republic_12_province
			}
		}
		
		set_variable = {
			name = republic_12_toggle
			value = 1
			days = 1800
		}
	}
	
	option = {
		name = "ip_republic.12.a"
		trigger = {
			NOT = {
				has_trait = gluttonous
			}
		}
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = subtract_monthly_income_medium
			}
		}
		scope:ip_republic_12_province = {
			add_province_modifier = {
				name = state_owned_farmlands
				duration = -1
			}
		}
	}
	
	option = {
		name = "ip_republic.12.b"
		trigger = {
			NOT = {
				has_trait = gluttonous
			}
		}
		remove_rival = scope:ip_republic_12_target
		scope:ip_republic_12_target = {
			add_loyalty = loyalty_waived_fine
		}
		scope:republic_12_import_target = {
			add_opinion = {
				modifier = trade_contact_well_treated
				target = root.employer
			}
		}
	}
	
	option = {
		name = "ip_republic.12.c"
		custom_tooltip = "greedy_bad_tooltip"
		trigger = {
			has_trait = gluttonous
		}
		add_gold = -200
		if = {
			limit = {
				is_minor_character = no
			}
			family = {
				add_prestige = prestige_medium
			}
		}
	}
}

#Orator appears (low prominence rival)
ip_republic.13 = {
	type = character_event
	title = "ip_republic.13.t"
	desc = "ip_republic.13.desc"
	picture = senate_debate
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_13_target
	
	trigger = {
		is_ruler = yes
		NOT = { 
			has_variable = ip_republic_13_toggle
		}
		employer = {
			any_character = {
				prominence <= 20
				country = employer
				prisoner = no
				is_adult = yes
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_13_toggle
			value = 1
			days = 1800
		}
		employer = {
			random_character = {
				limit = {
					prominence <= 20
					country = employer
					prisoner = no
					is_adult = yes
				}
				weight = {
					base = 1
					title_importance_modifier = yes
					modifier = {
						factor = 0
						is_female = yes
						employer = {
							gender_equality = no
						}
					}
				}
				save_scope_as = ip_republic_13_target
			}
		}
	}
	
	option = {
		name = "ip_republic.13.a"
		scope:ip_republic_13_target = {
			if = {
				limit = {
					NOT = {
						has_trait = orator
					}
				}
				add_trait = orator
			}
			add_prominence = 50
		}
	}
	
	option = {
		name = "ip_republic.13.b"
		custom_tooltip = "orator_tooltip"
		highlight = yes
		trigger = {
			has_trait = orator
		}
		if = {
			limit = {
				is_minor_character = no
			}
			family = {
				add_prestige = prestige_medium
			}
		}
	}
	
	option = {
		name = "ip_republic.13.b"
		custom_tooltip = "silver_tongued_tooltip"
		highlight = yes
		trigger = {
			has_trait = silver_tongued
			NOT = {
				has_trait = orator
			}
		}
		if = {
			limit = {
				is_minor_character = no
			}
			family = {
				add_prestige = prestige_medium
			}
		}
	}
}

#Offered a bribe
ip_republic.14 = {
	type = character_event
	title = "ip_republic.14.t"
	desc = "ip_republic.14.desc"
	picture = war_chest
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_14_target
	
	trigger = {
		is_ruler = yes
		employer = {
			is_republic = yes
		}
		can_get_friends = yes
		NOT = {
			has_variable = ip_republic_14_toggle
		}
		employer = {
			any_character = {
				NAND = {
					is_same_party_as = ROOT
					is_rival = ROOT
				}
				is_ruler = no
				is_party_leader = yes
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_14_toggle
			value = 1
			days = 1800
		}
		employer = {
			random_character = {
				limit = {
					NAND = {
						is_same_party_as = ROOT
						is_rival = ROOT
					}
					is_ruler = no
					is_party_leader = yes
				}
				weight = {
					title_importance_modifier = yes
				}
				save_scope_as = ip_republic_14_target
			}
		}	
	}
	
	option = {
		name = "ip_republic.14.a"
		custom_tooltip = "tooltip_consequences"
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = add_monthly_income_large
			}
		}
		add_friend = scope:ip_republic_14_target
		hidden_effect = {
			taken_bribe_effect = yes
		}
	}
	
	option = {
		name = "ip_republic.14.b"
		scope:ip_republic_14_target = {
			add_loyalty = loyalty_faction_suggestion_refused
		}
	}
	
	option = {
		name = "ip_republic.14.c"
		scope:ip_republic_14_target = {
			add_loyalty = loyalty_faction_bribery_revealed
		}
		employer = {
			add_tyranny = subtract_tyranny_medium
		}
	}
}


#Taken a bribe
ip_republic.15 = {
	type = character_event
	title = "ip_republic.15.t"
	desc = "ip_republic.15.desc"
	picture = roman_trial
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_15_target
	
	trigger = {
		is_ruler = yes
		has_variable = taken_bribe
		employer = {
			is_republic = yes
			any_character = {
				has_any_office = yes
				is_ruler = no
			}
		}
		NOT = {
			has_variable = republic_15_toggle
		}
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			factor = 2
			has_variable = under_fraud_scrutiny
		}
		modifier = {
			factor = 1.2
			var:taken_bribe >= 2
		}
		modifier = {
			factor = 1.2
			var:taken_bribe >= 3
		}
		modifier = {
			factor = 1.2
			var:taken_bribe >= 4
		}
		modifier = {
			factor = 1.2
			var:taken_bribe >= 5
		}
	}
	
	immediate = {
		set_variable = {
			name = republic_15_toggle
			value = 1
			days = 1800
		}
		employer = {
			random_character = {
				limit = {
					has_any_office = yes
					is_ruler = no
				}
				weight = {
					base = 1
					modifier = {
						factor = 0.1
						is_friend = ROOT
					}
					modifier = {
						factor = 10
						is_rival = ROOT
					}
					title_importance_modifier = yes
				}
				save_scope_as = ip_republic_15_target
			}
		}
	}
	
	option = {
		name = "ip_republic.15.a"
		employer = {
			add_political_influence = subtract_influence_huge
		}
		hidden_effect = {
			remove_variable = taken_bribe
		}
	}
	
	option = {
		name = "ip_republic.15.b"
		custom_tooltip = "tooltip_consequences"
		add_corruption = corruption_large
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = subtract_monthly_income_medium
			}
		}
		hidden_effect = {
			taken_bribe_effect = yes
			if = {
				limit = {
					scope:ip_republic_15_target = {
						OR = {
							OR = {
								has_trait = just
								has_trait = pious
								has_trait = brave
								has_trait = righteous
								has_trait = devout
							}
							OR = {
								character_democratic_party_trigger = yes
							}
						}
					}
				}
				set_variable = {
					name = republic_16_target
					value = 1
				}
				trigger_event = {
					id = ip_republic.16
					days = { 180 540 }
				}
			}
		}
	}
}

ip_republic.16 = {
	type = character_event
	title = "ip_republic.16.t"
	desc = "ip_republic.16.desc"
	picture = roman_trial
	
	left_portrait = ROOT
	right_portrait = scope:ip_republic_16_target
	
	trigger = {
		is_ruler = yes
		is_alive = yes
		employer = {
			is_republic = yes
			any_character = {
				has_any_office = yes
				is_ruler = no
				NOT = {
					has_variable = republic_16_target
				}
			}
		}
	}
	
	immediate = {
		employer = {
			if = {
				limit = {
					any_character = {
						has_variable = republic_16_target
					}
				}
				random_character = {
					limit = {
						has_variable = republic_16_target
					}
					save_scope_as = ip_republic_16_target
					remove_variable = republic_16_target
				}
			}
			else = {
				random_character = {
					limit = {
						has_any_office = yes
						is_ruler = no
					}
					weight = {
						base = 1
						modifier = {
							factor = 0.1
							is_friend = ROOT
						}
						modifier = {
							factor = 10
							is_rival = ROOT
						}
					}
					save_scope_as = ip_republic_16_target
				}
			}		
		}
	}
	
	option = {
		name = "ip_republic.16.a"
		employer = {
			imprison = { 
				target = root
			}
			remove_stability_effect = yes
		}
	}
	
	option = {
		name = "ip_republic.16.b"
		add_gold = -500
		add_popularity = subtract_popularity_medium
		employer = {
			add_stability = -30
		}
	}
	
	option = {
		name = "ip_republic.16.c"
		custom_tooltip = "tooltip_consequences" 
		add_corruption = corruption_huge
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = subtract_monthly_income_huge
			}
			add_tyranny = tyranny_medium
		}
		hidden_effect = {
			taken_bribe_effect_big = yes
		}
	}
}

ip_republic.17 = {
	type = character_event
	title = "ip_republic.17.t"
	desc = "ip_republic.17.desc"
	picture = senator_conversing
	
	left_portrait = scope:ip_republic_17_officer
	right_portrait = scope:ip_republic_17_target
	
	trigger = {
		is_ruler = yes
		NOT = {
			has_variable = ip_republic_17_toggle
		}
		employer = {
			is_republic = yes
			any_character = {
				is_adult = yes
				has_any_office = no
				is_ruler = no
				martial > 8 
				prisoner = no
				trigger_if = {
					limit = {
						employer = {
							gender_equality = no
						}
					}
					is_female = no
				}
			}
			any_character = {
				OR = { #add more offices here if relevant
					has_office = office_tribune_of_the_soldiers 
				}
				martial <= 8
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_17_toggle
			value = 1
			days = 1800
		}
		
		employer = {
			random_character = {
				limit = {
					is_ruler = no
					has_office = office_tribune_of_the_soldiers
				}
				save_scope_as = ip_republic_17_officer
			}
			random_character = {
				limit = {
					is_adult = yes
					has_any_office = no
					is_ruler = no
					OR = {
						martial > 8
						is_rival = scope:ip_republic_17_officer
					}
					prisoner = no
					trigger_if = {
						limit = {
							employer = {
								gender_equality = no
							}
						}
						is_female = no
					}
				}
				weight = {
					title_importance_modifier = yes
				}
				save_scope_as = ip_republic_17_target
			}
		}
	}
	
	option = {
		name = "ip_republic.17.a"
		custom_tooltip = "tooltip_consequences"
		scope:ip_republic_17_officer = {
			if = {
				limit = {
					has_office = office_tribune_of_the_soldiers
				}
				remove_office = office_tribune_of_the_soldiers
			}
		}
		scope:ip_republic_17_target = {
			if = {
				limit = {
					has_any_office = no
				}
				give_office = office_tribune_of_the_soldiers
			}
		}
		scope:ip_republic_17_officer = {
			if = {
				limit = {
					can_get_rivals = yes
				}
				add_rival = scope:ip_republic_17_target
			}
		}
		employer = {
			add_treasury  = {
				value = root.employer.has_monthly_income
				multiply = add_monthly_income_large
			}
		
		}
		hidden_effect = {
			taken_bribe_effect = yes
		}
	}
	
	option = {
		name = "ip_republic.17.b"
		scope:ip_republic_17_target = {
			add_loyalty = loyalty_publicly_slandered
		}
		hidden_effect = {
			if = {
				limit = {
					has_variable = taken_bribe
					var:taken_bribe >= 1
				}
				change_variable = {
					name = taken_bribe
					add = -1
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.17.c"
		custom_tooltip = "just_tooltip"
		trigger = {
			has_trait = just
		}
		scope:ip_republic_17_officer = {
			add_loyalty = loyalty_kept_office
		}
		scope:ip_republic_17_target = {
			add_loyalty = loyalty_promises_made
			add_prominence = prominence_large
		}
	}
}

ip_republic.18 = { 
	type = character_event
	title = "ip_republic.18.t"
	desc = "ip_republic.18.desc"
	picture = greek_philosophers
	
	left_portrait = ROOT
	
	trigger = {
		is_ruler = no
		has_any_office = no
		prisoner = no
		employer = {
			is_republic = yes
			OR = {
				has_party_type = democratic_party
				has_party_type = populares_party
			}
		}
		current_party_conviction <= 10
		NOT = {
			has_variable = ip_republic_18_toggle
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_18_toggle
			value = 1
			days = 1800
		}
		employer = {
			random_party = {
				save_scope_as = party_scope
			}
		}
	}
	
	option = {
		name = "ip_republic.18.a"
		add_party_conviction = {
			party = scope:party_scope
			value = 60
		}
	}
}

ip_republic.19 = { 
	type = character_event
	title = "ip_republic.19.t"
	desc = "ip_republic.19.desc"
	picture = senate_debate
	
	left_portrait = ROOT
	
	trigger = {
		employer = {
			is_republic = yes
		}
		is_alive = yes
		is_ruler = no
		prisoner = no
		exists = character_party
		NOT = {
			has_variable = ip_republic_19_toggle
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_19_toggle
			value = 1
			days = 1800
		}
	}
	
	option = {
		name = "ip_republic.19.a"
		employer = {
			add_party_approval = {
				party = root.character_party
				value = party_approval_small
			}
		}
	}
}

#republic general events

ip_republic.20 = { #command restructuring
	type = country_event
	title = "ip_republic.20.t"
	desc = "ip_republic.20.desc"
	picture = romans_marching
	
	left_portrait = root.current_ruler
	right_portrait = scope:republic_20_target
	
	trigger = {
		any_character = {
			is_alive = yes
			is_general = yes
			is_mercenary = no
			is_ruler = no
			has_legion_trigger = yes
			legion = {
				any_legion_unit = {		
					unit_size >= 8
				}
			}
			num_loyal_cohorts >= army_25_svalue
		}
	}
	
	immediate = {
		random_character = {
			limit = {
				is_alive = yes
				is_general = yes
				is_mercenary = no
				is_ruler = no
				has_legion_trigger = yes	
				legion = {
					any_legion_unit = {				
						unit_size >= 8
					}
				}
				num_loyal_cohorts >= army_25_svalue
			}
			weight = {
				title_importance_modifier = yes
			}
			save_scope_as = republic_20_target
		}
	}
	
	option = {
		name = "ip_republic.20.a"
		scope:republic_20_target = {
			add_loyalty = loyalty_trusted_commander_restructure
			add_commander_ambition_effect = yes
		}
	}
	
	option = {
		name = "ip_republic.20.b"
		scope:republic_20_target = {
			add_loyalty = loyalty_restructure_commander_untrusted
			subtract_commander_ambition_effect = yes
		}
	}

	after = {
		scope:republic_20_target.legion = {
			ordered_legion_unit = {
				order_by = unit_size
				add_unit_modifier = {
					name = command_restructuring
					duration = 7300
				}
			}
		}
	}
}

ip_republic.21 = { #Adds units with personal funds
	type = country_event
	title = "ip_republic.21.t"
	desc = "ip_republic.21.desc"
	picture = army_desert
	
	left_portrait = root.current_ruler
	right_portrait = scope:republic_21_target 
	
	trigger = {
		any_character = {
			is_alive = yes
			is_general = yes
			is_mercenary = no
			is_ruler = no
			has_legion_trigger = yes
			legion = {
				any_legion_unit = {
					unit_size >= 8
				}
			}
			num_loyal_cohorts >= army_25_svalue
		}
	}
	
	immediate = {
		random_character = {
			limit = {
				is_alive = yes
				is_general = yes 
				is_mercenary = no
				is_ruler = no
				has_legion_trigger = yes
				legion = {
					any_legion_unit = {
						unit_size >= 8
					}
				}
				num_loyal_cohorts >= army_25_svalue
			}
			weight = {
				is_prominent_modifier = yes
			}
			save_scope_as = republic_21_target
		}
	}
	
	option = {
		name = "ip_republic.21.a"
		scope:republic_21_target = {
			add_commander_ambition_effect = yes
			legion = {
				ordered_legion_unit = {
					order_by = unit_size
					add_subunit = light_infantry
					add_subunit = light_infantry
					add_subunit = light_infantry
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.21.b"
		scope:republic_21_target = {
			add_loyalty = loyalty_restructure_commander_untrusted
		}
		subtract_commander_ambition_effect = yes
	}
}

ip_republic.22 = { #Units out of control
	type = country_event
	title = "ip_republic.22.t"
	desc = "ip_republic.22.desc"
	picture = revolt
	
	left_portrait = root.current_ruler
	right_portrait = scope:republic_22_target 
	
	goto_location = scope:republic_22_province
	
	trigger = {
		war = no
		any_character = {
			is_alive = yes
			is_general = yes
			is_ruler = no
			any_character_unit = {
				unit_size >= 8
				is_moving = no
				unit_location = {
					AND = {
						has_owner = yes
						owner = root
					}
					NOR = {
						is_capital = yes
						num_of_fortress_building >= 1
						area = root.capital_scope.area
					}
				}
			}
			num_loyal_cohorts >= army_25_svalue
		}
	}
	
	immediate = {
		random_character = {
			limit = {
				is_alive = yes
				is_general = yes 
				is_ruler = no
				any_character_unit = {
					unit_size >= 8
					is_moving = no
					unit_location = {
						AND = {
							has_owner = yes
							owner = root
						}
						NOR = {
							is_capital = yes
							num_of_fortress_building >= 1
							area = root.capital_scope.area
						}
					}
				}
				num_loyal_cohorts >= army_25_svalue
			}
			weight = {
				title_importance_modifier = yes
			}
			save_scope_as = republic_22_target
		}
		scope:republic_22_target = {
			add_popularity = subtract_popularity_large
			ordered_character_unit = {
				order_by = unit_size
				unit_location = {
					save_scope_as = republic_22_province
					add_city_fire_effect = yes
				}
				save_scope_as = republic_22_target_unit 
			}
		}
		scope:republic_22_province = {
			add_province_modifier = {
				name = looted_by_friends
				duration = 730
			}
		}
	}
	
	option = {
		name = "ip_republic.22.a"
		scope:republic_22_target = {
			add_loyalty = loyalty_decimated_army
		}
		add_manpower = {
			value = 0
			subtract = scope:republic_22_target_unit.unit_size
			divide = 10
		}
	}
	
	option = {
		name = "ip_republic.22.b"
		scope:republic_22_target = {
			add_commander_ambition_effect = yes
			add_loyalty = loyalty_looting_unpunished
		}
		current_ruler = {
			add_popularity = subtract_popularity_large
			add_corruption = corruption_large
		}
	}
	
}

ip_republic.23 = { 
	type = country_event
	hidden = yes
	
	trigger = {
		has_variable = dictatorship_enabled
		has_variable = ach_dictator_appointed
		var:ach_dictator_appointed = current_ruler
		war = no
	}
	
	immediate = {
		remove_variable = dictatorship_enabled
		set_ignore_senate_approval = no
		current_ruler = {
			save_scope_as = dictator_standing_down
		}
		trigger_event = {
			id = ip_republic.24
			days = { 20 60 }
		}
	}
}

ip_republic.24 = {
	type = country_event
	title = "ip_republic.24.t"
	desc = "ip_republic.24.desc"
	picture = throneroom
	
	left_portrait = scope:dictator_standing_down
	
	trigger = {
		scope:dictator_standing_down = {
			is_alive = yes
		}
	}
	
	immediate = {
		set_variable = {
			name = ach_dictator_stands_down
			value = current_ruler
		}
	}
	
	option = {
		name = "ip_republic.24.a"
		add_tyranny = -2
		if = {
			limit = { has_country_modifier = dictatorial_extension }
			remove_country_modifier = dictatorial_extension
		}
	}
	
}

ip_republic.25 = { # template for senate impact for laws
	type = country_event
	title = "ip_republic.25.t"
	desc = "ip_republic.25.desc"
	picture = proscription
	
	left_portrait = root.current_ruler
	right_portrait = scope:oligarchic_leader
	
	trigger = {
		is_republic = yes
		NOR = {
			has_variable = oligarchic_party_pleasure
			has_variable = oligarchic_party_displeasure
			current_ruler = {
				has_variable = dictatorship_enabled
			}
			current_ruler = {
				character_oligarchic_party_trigger = yes
			}
		}
	}
	
	immediate = {
		oligarchic_leader_effect = yes
	}
	
	option = {
		name = "ip_republic.25.a"
		add_treasury = {
			value = 0
			subtract = root.has_monthly_income
			multiply = 12
		}
	}
	
	option = {
		name = "ip_republic.25.b"
		custom_tooltip = "friends_with_target_ip25"
		highlight = yes
		trigger = {
			current_ruler = {
				is_friend = scope:oligarchic_leader
			}
		}
		scope:oligarchic_leader = {
			add_prominence = prominence_large
		}
	}
	
	option = {
		name = "ip_republic.25.c"
		oligarchic_approval_effect = {
			VALUE = party_disapproval_medium
		}
		set_variable = {
			name = oligarchic_party_displeasure
			days = 730
		}
	}
	
	option = {
		name = "ip_republic.25.d"
		custom_tooltip = "conqueror_tooltip"
		highlight = yes
		trigger = {
			current_ruler = {
				has_trait = conqueror
			}
		}
		oligarchic_approval_effect = {
			VALUE = party_approval_medium
		}
		set_variable = {
			name = oligarchic_party_pleasure
			days = 730
		}
	}
	
}

ip_republic.26 = { # template for senate impact for laws
	type = country_event
	title = "ip_republic.26.t"
	desc = "ip_republic.26.desc"
	picture = trade_port
	
	left_portrait = root.current_ruler
	right_portrait = scope:oligarchic_leader
	
	trigger = {
		is_republic = yes
		NOR = {
			has_variable = oligarchic_party_displeasure
			has_variable = oligarchic_party_pleasure
			current_ruler = {
				has_variable = dictatorship_enabled
			}
			current_ruler = {
				character_oligarchic_party_trigger = yes
			}
		}
	}
	
	immediate = {
		oligarchic_leader_effect = yes
	}
	
	option = {
		name = "ip_republic.26.a"
		add_manpower = {
			value = 0
			subtract = root.max_manpower
			divide = 10
		}
		oligarchic_approval_effect = {
			VALUE = party_approval_medium
		}
		set_variable = {
			name = oligarchic_party_pleasure
			days = 730
		}
	}
	
	option = {
		name = "ip_republic.26.c"
		oligarchic_approval_effect = {
			VALUE = party_disapproval_medium
		}
		set_variable = {
			name = oligarchic_party_displeasure
			days = 730
		}
	}
	
}

ip_republic.27 = { # template for senate impact for laws
	type = country_event
	title = "ip_republic.27.t"
	desc = "ip_republic.27.desc"
	picture = war_chest
	
	left_portrait = root.current_ruler
	right_portrait = scope:traditionalist_leader
	
	trigger = {
		is_republic = yes
		NOR = {
			has_variable = traditionalist_party_displeasure
			has_variable = traditionalist_party_pleasure
			current_ruler = {
				has_variable = dictatorship_enabled
			}
			current_ruler = {
				character_traditionalist_party_trigger = yes
			}
		}
	}
	
	immediate = {
		traditionalist_leader_effect = yes
	}
	
	option = {
		name = "ip_republic.27.a"
		add_country_modifier = {
			name = wealth_tax_relief
			duration = 1825
		}
		traditionalist_approval_effect = {
			VALUE = party_approval_medium
		}
		set_variable = {
			name = traditionalist_party_pleasure
			days = 730
		}
	}
	
	option = {
		name = "ip_republic.27.b"
		scope:traditionalist_leader = {
			add_loyalty = loyalty_faction_suggestion_refused
		}
	}
	
}

ip_republic.28 = { # template for senate impact for laws
	type = country_event
	title = "ip_republic.28.t"
	desc = "ip_republic.28.desc"
	picture = hellenic_temple
	
	left_portrait = root.current_ruler
	right_portrait = scope:traditionalist_leader
	
	trigger = {
		is_republic = yes
		NOR = {
			has_variable = traditionalist_party_displeasure
			has_variable = traditionalist_party_pleasure
			current_ruler = {
				has_variable = dictatorship_enabled
			}
			current_ruler = {
				character_traditionalist_party_trigger = yes
			}
		}
	}
	
	immediate = {
		traditionalist_leader_effect = yes
	}
	
	option = {
		name = "ip_republic.28.a"
		add_country_modifier = {
			name = reduced_priest_working_hours
			duration = 730
		}
		traditionalist_approval_effect = {
			VALUE = party_approval_medium
		}
		set_variable = {
			name = traditionalist_party_pleasure
			days = 730
		}
	}
	
	option = {
		name = "ip_republic.28.c"
		add_treasury = {
			value = 0
			subtract = root.has_monthly_income
			multiply = 6
		}
	}
	
	option = {
		name = "ip_republic.28.b"
		traditionalist_approval_effect = {
			VALUE = party_disapproval_medium
		}
		set_variable = {
			name = traditionalist_party_displeasure
			days = 730
		}
	}
	
}

ip_republic.29 = { # template for senate impact for laws
	type = country_event
	title = "ip_republic.29.t"
	desc = "ip_republic.29.desc"
	picture = greek_philosophers
	
	left_portrait = root.current_ruler
	right_portrait = scope:democratic_leader
	
	trigger = {
		is_republic = yes
		NOR = {
			has_variable = democratic_party_pleasure
			has_variable = democratic_party_displeasure
			current_ruler = {
				has_variable = dictatorship_enabled
			}
			current_ruler = {
				character_democratic_party_trigger = yes
			}
		}
	}
	
	immediate = {
		democratic_leader_effect = yes
	}
	
	option = {
		name = "ip_republic.29.a"
		add_country_modifier = {
			name = capital_import_ip_29
			duration = 730
		}
		democratic_approval_effect = {
			VALUE = party_approval_medium
		}
		set_variable = {
			name = democratic_party_pleasure
			days = 730
		}
	}
	
	option = {
		name = "ip_republic.29.b"
		scope:democratic_leader = {
			add_loyalty = loyalty_refused_populists
		}
		add_country_modifier = {
			name = popular_unrest_ip_29
			duration = 730
		}
	}
	
	option = {
		name = "ip_republic.29.c"
		custom_tooltip = "orator_tooltip"
		highlight = yes
		trigger = {
			current_ruler = {
				has_trait = orator
			}
		}
		democratic_approval_effect = {
			VALUE = party_approval_medium
		}
		set_variable = {
			name = democratic_party_pleasure
			days = 730
		}
	}
	
}

ip_republic.30 = { # populist anger
	type = country_event
	title = "ip_republic.30.t"
	desc = "ip_republic.30.desc"
	picture = senator_conversing
	
	left_portrait = root.current_ruler
	right_portrait = scope:democratic_leader
	
	trigger = {
		is_republic = yes
		NOR = {
			has_variable = democratic_party_displeasure
			has_variable = democratic_party_pleasure
			current_ruler = {
				has_variable = dictatorship_enabled
			}
			current_ruler = {
				character_democratic_party_trigger = yes
			}
		}
	}
	
	immediate = {
		democratic_leader_effect = yes
	}
	
	option = {
		name = "ip_republic.30.a"
		scope:democratic_leader = {
			if = {
				limit = {
					health > 20
				}
				add_health = -20
			}
			else = {
				death = {
					death_reason = death_apoplectic_rage
				}
			}
		}
		democratic_approval_effect = {
			VALUE = party_disapproval_medium
		}
		set_variable = {
			name = democratic_party_displeasure
			days = 730
		}
	}
	
}

ip_republic.32 = { # Dictator chooses not to stand down
	type = country_event
	title = "ip_republic.32.t"
	desc = "ip_republic.32.desc"
	picture = throneroom
	
	left_portrait = scope:dictator_holding_power_scope
	
	trigger = {
		has_variable = dictatorship_enabled
		has_variable = ach_dictator_appointed
		var:ach_dictator_appointed = current_ruler
		war = no
		NOT = {
			has_country_modifier = electoral_extension_mod
		}
	}
	
	weight_multiplier = {
		modifier = {
			factor = 3
			current_ruler = {
				character_democratic_party_trigger = yes
			}
		}
		modifier = {
			factor = 1.5
			current_ruler = {
				has_trait = ambitious
			}
		}
		modifier = {
			factor = 1.5
			current_ruler = {
				popularity > 80
			}
		}
		modifier = {
			factor = 1.5
			num_of_cities >= 100
		}
	}
	
	immediate = {
		hidden_effect = {
			add_country_modifier = {
				name = temp_dictator_term_length
				duration = 365
			}
			current_ruler = {
				set_variable = {
					name = dictator_holding_power
					days = 730
				}
			}
		}
		current_ruler = {
			save_scope_as = dictator_holding_power_scope
		}
		if = {
			limit = {
				is_iron_man = yes
				is_ai = no
				NOT = {
					has_variable = ach_alea_iacta_est_var
				}
			}
			set_variable = {
				name = ach_alea_iacta_est_var
			}
		}
	}
	
	option = {
		name = "ip_republic.32.a"
		custom_tooltip = "return_dictatorship_tooltip"
		hidden_effect = {
			remove_country_modifier = temp_dictator_term_length
			current_ruler = {
				set_variable = {
					name = dictator_holding_power
					days = 730
				}
			}
			if = {
				limit = {
					NOT = { has_variable = dictatorship_enabled }
				}
				set_variable = { name = dictatorship_enabled }
			}
		}
		add_country_modifier = {
			name = electoral_extension_mod
			duration = 730
		}
		remove_stability_effect = yes
	}
	
}

ip_republic.33 = { # Dictator seizing power dies
	type = character_event
	title = "ip_republic.33.t"
	desc = "ip_republic.33.desc"
	picture = senate_debate
	
	left_portrait = root
	
	trigger = {
		is_ruler = yes
		has_variable = dictator_holding_power
		employer = {
			is_republic = yes
		}
	}
	
	immediate = {
		employer = {
			if = {
				limit = {
					has_variable = dictatorship_enabled
				}
				remove_variable = dictatorship_enabled
				set_ignore_senate_approval = no
			}
		}
	}
	
	option = {
		name = "ip_republic.33.a"
		employer = {
			if = {
				limit = {
					has_country_modifier = electoral_extension_mod
				}
				remove_country_modifier = electoral_extension_mod
			}
		}
	}
}

ip_republic.34 = {
	type = country_event
	hidden = yes
	
	trigger = {
		has_variable = dictatorship_enabled
		has_variable = ach_dictator_appointed
		var:ach_dictator_appointed = current_ruler
		NOT = {
			has_country_modifier = electoral_extension_mod
		}
	}
	
	immediate = {
		remove_variable = ach_dictator_appointed
		current_ruler = {
			save_scope_as = dictator_holding_power
		}
		trigger_event = {
			on_action = dictator_power_return
		}
	}
}

ip_republic.35 = {
	type = country_event
	title = "ip_republic.35.t"
	desc = "ip_republic.35.desc"
	picture = throneroom
	
	left_portrait = root.current_ruler
	
	trigger = {
		OR = {
			has_law = leges_genuciae
			has_law = lex_antonia
			has_law = republican_election_1
			has_law = republican_election_3
		}
		NOT = {
			has_variable = ip_republic_35_toggle
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_35_toggle
			days = 3650
		}
	}
	
	option = { #bow to ruler's demands
		name = "ip_republic.35.a"
		current_ruler = {
			add_corruption = 10
		}
		if = {
			limit = {
				tag = ROM
			}
			change_law = princeps_civitatis
		}
		else = {
			change_law = republican_election_4 
		}
	}
	
	option = { #say no
		name = "ip_republic.35.b"
		custom_tooltip = "every_same_party_character_loyalty_tooltip"
		hidden_effect = {	
			every_character = {
				limit = {
					is_same_party_as = root.current_ruler
				}
				add_loyalty = loyalty_dictator_powers_refused
			}
		}
		add_stability = -30
	}
	
}

ip_republic.36 = {
	type = country_event
	hidden = yes
	
	trigger = {
		
	}
	
	immediate = {
		if = {
			limit = {
				scope:former_ruler = {
					has_variable = dictator_holding_power
				}
			}
			scope:former_ruler = {
				remove_variable = dictator_holding_power
			}
		}
		if = {
			limit = {
				has_country_modifier = electoral_extension_mod
			}
			remove_country_modifier = electoral_extension_mod
		}
		if = {
			limit = {
				has_country_modifier = dictatorial_extension
			}
			remove_country_modifier = dictatorial_extension
		}
	}
}

ip_republic.37 = {
	type = country_event
	title = "ip_republic.37.t"
	desc = "ip_republic.37.desc"
	picture = dagger_behind_back
	
	left_portrait = root.current_ruler
	right_portrait = scope:rep_37_plotter
	
	trigger = {
		NOT = {
			has_variable = ip_republic_37_toggle
		}
		any_character = {
			has_any_office = yes
			NOT = {
				is_same_party_as = root.current_ruler
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_republic_37_toggle
			days = 1825
		}
		random_character = {
			limit = {
				has_any_office = yes
				NOT = {
					is_same_party_as = root.current_ruler
				}
			}
			weight = {
				modifier = {
					factor = 10
					prominence >= 70
				}
				title_importance_modifier = yes
			}
			save_scope_as = rep_37_plotter
		}
	}
	
	option = {
		name = "ip_republic.37.a"
		hidden_effect = {
			scope:rep_37_plotter = {
				remove_all_offices = yes
			}
		}
		imprison = {
			target = scope:rep_37_plotter
		}
		remove_stability_effect = yes
	}
	
	option = {
		name = "ip_republic.37.b"
		custom_tooltip = "ip_republic.37.b.tooltip"
		hidden_effect = {
			trigger_event = {
				on_action = plot_outcome_rep_37
				days = { 180 360 }
			}
		}
	}
	
}

ip_republic.38 = { #plot successful
	type = country_event
	title = "ip_republic.38.t"
	desc = "ip_republic.38.desc"
	picture = proscription
	
	left_portrait = scope:old_ruler
	right_portrait = scope:rep_37_plotter
	
	trigger = {
		exists = scope:rep_37_plotter
		scope:rep_37_plotter = {
			is_alive = yes
			employer = root
			prisoner = no
		}
	}
	
	immediate = {
		current_ruler = {
			save_scope_as = old_ruler
		}
	}
	
	option = {
		name = "ip_republic.38.a"
		set_as_ruler = scope:rep_37_plotter
		imprison = {
			target = scope:old_ruler
		}
		if = {
			limit = {
				tag = ROM
				has_law = princeps_civitatis
			}
			change_law = leges_genuciae
		}
		else_if = {
			limit = {
				NOT = {
					tag = ROM
				}
				has_law = republican_election_4
			}
			change_law = republican_election_1
		}
	}
	
	option = {
		name = "ip_republic.38.b"
		set_as_ruler = scope:rep_37_plotter
		scope:old_ruler = {
			death = {
				death_reason = death_execution
				killer = scope:rep_37_plotter
			}
		}
		if = {
			limit = {
				tag = ROM
				has_law = princeps_civitatis
			}
			change_law = leges_genuciae
		}
		else_if = {
			limit = {
				NOT = {
					tag = ROM
				}
				has_law = republican_election_4
			}
			change_law = republican_election_1
		}
		remove_stability_effect = yes
	}
	
	option = {
		name = "ip_republic.38.c"
		custom_tooltip = "ip_republic.38.c.tooltip"
		highlight = yes
		trigger = {
			scope:rep_37_plotter = {
				OR = {
					has_trait = humble
					has_trait = pious
				}
			}
		}
		imprison = {
			target = scope:old_ruler
		}
		if = {
			limit = {
				tag = ROM
				has_law = princeps_civitatis
			}
			change_law = leges_genuciae
		}
		else_if = {
			limit = {
				NOT = {
					tag = ROM
				}
				has_law = republican_election_4
			}
			change_law = republican_election_1
		}
		add_stability_effect = yes
	}
	
	option = {
		name = "ip_republic.38.d"
		custom_tooltip = "ip_republic.38.d.tooltip"
		exclusive = yes
		highlight = yes
		trigger = {
			scope:rep_37_plotter = {
				OR = {
					has_trait = ambitious
					has_trait = zealous
				}
			}
		}
		set_as_ruler = scope:rep_37_plotter
		scope:old_ruler = {
			death = {
				death_reason = death_execution
			}
		}
		add_stability = -20
	}
	
}

ip_republic.39 = { #plot fails
	type = country_event
	title = "ip_republic.39.t"
	desc = "ip_republic.39.desc"
	picture = looting
	
	left_portrait = scope:old_ruler
	right_portrait = scope:rep_37_plotter
	
	trigger = {
		exists = scope:rep_37_plotter
		scope:rep_37_plotter = {
			is_alive = yes
			employer = root
			prisoner = no
		}
	}
	
	immediate = {
		current_ruler = {
			save_scope_as = old_ruler
		}
	}
	
	option = {
		name = "ip_republic.39.a"
		scope:rep_37_plotter = {
			death = {
				death_reason = death_execution
			}
		}
		add_tyranny = tyranny_medium
	}
	
}

### Law Changes

ip_republic.40 = { #law changes corruption
	type = country_event
	title = "ip_republic.40.t"
	desc = "ip_republic.40.desc"
	picture = senate_debate
	
	left_portrait = current_ruler
	right_portrait = scope:anticorruption_senator
	
	trigger = {
		is_republic = yes
		NOT = {
			has_variable = corruption_law_event_toggle
		}
		NOR = {
			has_law = lex_acilia_repetundarum
			has_law = republic_corruption_2
		}
		any_character = {
			is_party_leader = yes
			is_ruler = no
			corruption <= 5
			character_democratic_party_trigger = yes
			prisoner = no
			NOT = { has_character_modifier = foreign_citizen }
		}
		any_character = {
			corruption >= 10
		}
	}
	
	weight_multiplier = {
		modifier = {
			factor = 2
			current_ruler = {
				corruption >= 20
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = corruption_law_event_toggle
			days = 1825
		}
		random_character = {
			limit = {
				is_party_leader = yes
				is_ruler = no
				corruption <= 5
				character_democratic_party_trigger = yes
				prisoner = no
				NOT = { has_character_modifier = foreign_citizen }
			}
			save_scope_as = anticorruption_senator
		}
	}
	
	option = { #agree
		name = "ip_republic.40.a"
		current_ruler = {
			add_popularity = popularity_small
		}
		scope:anticorruption_senator = {
			add_loyalty = loyalty_law_approved
		}
		if = {
			limit = {
				is_republic = yes
			}
			if = {
				limit = { tag = ROM }
				change_law = lex_acilia_repetundarum
			}
			else = { change_law = republic_corruption_2 }
		}
		every_party = {
			limit = {
				NOR = {
					is_party_type = democratic_party
					is_party_type = populares_party
				}
			}
			ROOT = { 
				add_party_approval = {
					party = PREV.PREV
					value = party_disapproval_small
				}
			}
		}
	}
	
	option = { #refuse
		name = "ip_republic.40.b"
		scope:anticorruption_senator = { add_loyalty = loyalty_law_rejected } 
		add_party_approval = {
			party = scope:anticorruption_senator.character_party
			value = party_disapproval_medium
		}
	}
}

ip_republic.41 = { #law changes corruption
	type = country_event
	title = "ip_republic.41.t"
	desc = "ip_republic.41.desc"
	picture = war_chest
	
	left_portrait = current_ruler
	right_portrait = scope:corruption_senator
	
	trigger = {
		is_republic = yes
		NOT = {
			has_variable = corruption_law_event_toggle
		}
		OR = {
			has_law = lex_acilia_repetundarum
			has_law = republic_corruption_2
		}
		any_character = {
			is_party_leader = yes
			is_ruler = no
			corruption >= 10
			prisoner = no
			NOT = { has_character_modifier = foreign_citizen }
		}
	}
	
	immediate = {
		set_variable = {
			name = corruption_law_event_toggle
			days = 1825
		}
		random_character = {
			limit = {
				is_party_leader = yes
				is_ruler = no
				corruption >= 10
				prisoner = no
				NOT = { has_character_modifier = foreign_citizen }
			}
			weight = {
				modifier = {
					factor = 100
					character_traditionalist_party_trigger = yes
				}
			}
			save_scope_as = corruption_senator
		}
	}
	
	option = { #agree
		name = "ip_republic.41.a"
		scope:corruption_senator = {
			add_gold = {
				value = root.has_monthly_income
				multiply = -12
			}
		}
		current_ruler = {
			add_gold = {
				value = root.has_monthly_income
				multiply = 12
			}
		}
		scope:corruption_senator = {
			add_corruption = corruption_medium
		}
		current_ruler = {
			add_corruption = corruption_medium
		}
		if = {
			limit = {
				is_republic = yes
			}
			if = {
				limit = {
					tag = ROM
				}
				change_law = no_laws_on_corruption
			}
			else = {
				change_law = republic_corruption_1
			}
		}
		every_party = {
			limit = {
				OR = {
					is_party_type = democratic_party
					is_party_type = populares_party
				}
			}
			ROOT = { 
				add_party_approval = {
					party = PREV.PREV
					value = party_disapproval_small
				}
			}
		}
	}
	
	option = { #refuse
		name = "ip_republic.41.b"
		scope:corruption_senator = {
			add_loyalty = loyalty_law_rejected
		} 
		add_party_approval = {
			party = scope:corruption_senator.character_party
			value = party_disapproval_medium
		}
	}
	
	option = { #agree bad
		name = "ip_republic.41.c"
		custom_tooltip = "corrupt_bad_tooltip"
		trigger = {
			current_ruler = {
				has_trait = corrupt
			}
		}
		highlight = yes
		exclusive = yes
		scope:corruption_senator = {
			add_gold = {
				value = root.has_monthly_income
				multiply = -24
			}
		}
		current_ruler = {
			add_gold = {
				value = root.has_monthly_income
				multiply = 24
			}
		}
		scope:corruption_senator = {
			add_corruption = corruption_huge
		}
		current_ruler = {
			add_corruption = corruption_huge
		}
		if = {
			limit = {
				is_republic = yes
			}
			if = {
				limit = {
					tag = ROM
				}
				change_law = no_laws_on_corruption
			}
			else = {
				change_law = republic_corruption_1
			}
		}
		every_party = {
			limit = {
				OR = {
					is_party_type = democratic_party
					is_party_type = populares_party
				}
			}
			ROOT = {
				add_party_approval = {
					party = PREV.PREV
					value = party_disapproval_medium
				}
			}
		}
	}
	
}

ip_republic.42 = {
	type = character_event
	hidden = yes
	
	trigger = {
		employer = {
			has_land = yes
		}
		is_ruler = no
		is_general = no
		is_adult = yes
		wealth < 0
		employer = {
			any_character = {
				wealth >= 1000
				is_ruler = no
				is_adult = yes
				NOR = {
					is_rival = root
					has_trait = miserly
					has_trait = cruel
				}
				NOT = {
					has_variable = is_a_patron
				}
			}
		}
	}
	
	immediate = {
		employer = {
			random_character = {
				limit = {
					wealth >= 1000
					is_ruler = no
					is_adult = yes
					NOR = {
						is_rival = root
						has_trait = miserly
						has_trait = cruel
					}
					NOT = {
						has_variable = is_a_patron
					}
				}
				weight = {
					modifier = {
						factor = 5
						is_friend = root
					}
					modifier = {
						factor = 10
						has_trait = generous
					}
					modifier = {
						factor = 20
						has_trait = benefactor
					}
				}
				save_scope_as = patron_ip_42
				set_variable = {
					name = is_a_patron
					days = 720
				}
				add_gold = -500
				add_character_modifier = {
					name = patron_modifier
					duration = 720
				}
				if = {
					limit = {
						can_get_friends = yes
						root = {
							can_get_friends = yes
						}
						NOT = {
							is_friend = root
						}
					}
					add_friend = root
				}
			}
		}
		add_gold = 500
	}
}

ip_republic.43 = {
	type = country_event
	title = "ip_republic.43.t"
	desc = "ip_republic.43.desc"
	
	picture = bakery
	
	left_portrait = root.current_ruler
	right_portrait = scope:patron_family_member
	
	trigger = {
		is_republic = yes
		NOT = {
			has_country_modifier = wealthy_family_lends_senate_support
		}
		any_character = {
			exists = family
			employer = ROOT
			family = {
				prestige > 500
			}
			is_adult = yes
			employer = root
		}
	}
	
	immediate = {
		random_character = {
			limit = {
				exists = family
				employer = ROOT
				family = {
					prestige > 500
				}
				is_adult = yes
				employer = root
			}
			weight = {
				modifier = {
					factor = 100
					is_ruler = no
				}
				modifier = {
					factor = 100
					trigger_if = {
						limit = {
							employer.current_ruler = {
								is_minor_character = no
							}
						}
						from_ruler_family = no
					}
					trigger_else = { always = no }
				}
				modifier = {
					factor = 100
					loyalty >= 60
				}
				modifier = {
					factor = 40
					is_same_party_as = root.current_ruler
				}
				modifier = {
					factor = 50
					is_adult = yes
				}
				modifier = {
					factor = 100
					prisoner = no
				}
				title_importance_modifier = yes
			}
			save_scope_as = patron_family_member
		}
	}
	
	option = {
		name = "ip_republic.43.a"
		custom_tooltip = important_family_consequences
		add_country_modifier = {
			name = wealthy_family_lends_senate_support
			duration = 1825
		}
		every_character = {
			limit = {
				has_same_family = scope:patron_family_member
				employer = root
			}
			set_variable = {
				name = cannot_imprison_family_favor
				days = 1825
			}
		}
	}  
	
	option = {
		name = "ip_republic.43.b"
		custom_tooltip = subtract_5_loyalty_family
		hidden_effect = {
			every_character = {
				limit = {
					has_same_family = scope:patron_family_member
					employer = root
				}
				add_loyalty = loyalty_faction_compromise_refused
			}
		}
		scope:patron_family_member = {
			if = {
				limit = {
					is_minor_character = no
				}
				family = {
					add_prestige = -100
				}
			}
		}
	}
	
}

### Crises

ip_republic.44 = { #Crisis
	type = country_event
	title = "ip_republic.44.t"
	desc = "ip_republic.44.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:dissatisfied_party_leader
	right_portrait = scope:party_general
	
	picture = roman_trial
	
	trigger = {
		NOT = {
			has_variable = republic_44_toggle
		}
		any_character = {
			NOT = {
				has_character_modifier = foreign_citizen
			}
			OR = {
				is_ruler = no
				AND = {
					is_ruler = yes
					character_democratic_party_trigger = yes
				}
			}
			is_party_leader = yes
			loyalty <= 60
			wealth >= 600
			save_temporary_scope_as = partyleader_temp
			employer = {
				any_character = {
					NOT = {
						this = scope:partyleader_temp
					}
					is_ruler = no
					is_general = yes
					is_same_party_as = scope:partyleader_temp
				}
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = republic_44_toggle
			days = 10950
		}
		random_character = {
			limit = {
				NOT = {
					has_character_modifier = foreign_citizen
				}
				OR = {
					is_ruler = no
					AND = {
						is_ruler = yes
						character_democratic_party_trigger = yes
					}
				}
				is_party_leader = yes
				loyalty <= 60
				wealth >= 600
				save_temporary_scope_as = partyleader_temp
				employer = {
					any_character = {
						NOT = {
							this = scope:partyleader_temp
						}
						is_ruler = no
						is_general = yes
						is_same_party_as = scope:partyleader_temp
					}
				}
			}
			weight = {
				modifier = {
					factor = 10
					character_democratic_party_trigger = yes
				}
			}
			save_scope_as = dissatisfied_party_leader
		}
		random_character = {
			limit = {
				NOT = {
					this = scope:partyleader_temp
				}
				is_ruler = no
				is_general = yes
				is_same_party_as = scope:dissatisfied_party_leader
			}
			save_scope_as = party_general
		}
	}
	
	option = {
		name = "ip_republic.44.a"
		scope:dissatisfied_party_leader = {
			add_gold = {
				value = 600
				subtract = wealth
				min = -600
			}
		}
		scope:party_general = {
			add_loyalty = loyalty_decorated_general
		}
		ai_chance = {
			factor = 60
		}
	}
	
	option = {
		name = "ip_republic.44.b"
		add_tyranny = tyranny_medium
		current_ruler = {
			add_popularity = subtract_popularity_medium
		}
		add_party_approval = {
			party = scope:dissatisfied_party_leader.character_party
			value = party_approval_medium
		}
		ai_chance = {
			factor = 20
		}
	}
	
	option = {
		name = "ip_republic.44.c"
		add_tyranny = tyranny_large
		imprison = {
			target = scope:dissatisfied_party_leader
		}
		scope:party_general = {
			add_loyalty = loyalty_leader_imprisoned
		}
		
		ai_chance = {
			factor = 20
		}
	}
	
}

# Marian Reforms(?)
# Can trigger for non-republics


###Crisis
ip_republic.45 = { #marius-candidate appears
	type = country_event
	title = "ip_republic.45.t"
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:first_marian_reformer
				}
				desc = "ip_republic.45.desc_first"
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = "ip_republic.45.desc_other" 
			}
		}
	}
	
	left_portrait = current_ruler
	right_portrait = scope:military_genius
	
	picture = senate_debate
	
	trigger = {
		NOT = {
			has_variable = had_military_reforms
		}
		is_tribal = no
		OR = {
			military_tech >= 14
			any_country = {
				has_variable = had_military_reforms
				in_diplomatic_range = root
			}
			AND = {
				tag = ROM
				current_date > 520.1.1
			}
		}
	}
	
	weight_multiplier = {
		modifier = {
			factor = 2
			tag = ROM
		}
		modifier = {
			factor = 1.5
			military_tech >= 16
		}
		modifier = {
			factor = 1.5
			military_tech >= 18
		}
		modifier = {
			factor = 10
			current_date > 560.1.1
		}
		modifier = {
			factor = 10
			current_date > 600.1.1
		}
	}
	
	immediate = {
		hidden_effect = {
			set_variable = {
				name = had_military_reforms
			}
			if = {
				limit = {
					NOT = {
						any_country = {
							has_variable = first_marian_reforms
						}
					}
				}
				set_variable = {
					name = first_marian_reforms
				}
			}
			if = {
				limit = {
					any_country = {
						NOT  = {
							this = root
						}
						has_variable = first_marian_reforms
						in_diplomatic_range = root
					}
				}
				random_country = {
					limit = {
						has_variable = first_marian_reforms
					}
					save_scope_as = first_marian_reformer
				}
			}
			if = {
				limit = {
					any_character = {
						prominence >= 80
						martial >= 9
						is_ruler = no
						prisoner = no
						NOT = {
							has_character_modifier = foreign_citizen
						}
						trigger_if = {
							limit = {
								employer = {
									gender_equality = no
								}
							}
							is_female = no
						}
					}
				}
				random_character = {
					limit = {
						prominence >= 80
						martial >= 8
						is_ruler = no
						prisoner = no
						NOT = {
							has_character_modifier = foreign_citizen
						}
						trigger_if = {
							limit = {
								employer = {
									gender_equality = no
								}
							}
							is_female = no
						}
					}
					weight = {
						modifier = {
							factor = 2
							age > 40
						}
					}
					save_scope_as = military_genius
				}
			}
			else_if = {
				limit = {
					tag = ROM
				}
				create_character = {
					culture = roman
					religion = roman_pantheon
					age = 34
					first_name = "Gaius"
					add_nickname = NICKNAME_MARIUS
					force_add_trait = tactician
					force_add_trait = original_thinker
					save_scope_as = military_genius 
				}
				scope:military_genius = {
					add_martial = 3
					add_finesse = 3
					add_prominence = 80
					character_democratic_party_conviction_effect = {
						VALUE = 20
					}
				}
			}
			else = {
				create_character = {
					age = 34
					force_add_trait = tactician
					force_add_trait = original_thinker
					save_scope_as = military_genius 
				}
				scope:military_genius = {
					add_martial = 3
					add_finesse = 3
					add_prominence = 80
					character_democratic_party_conviction_effect = {
						VALUE = 20
					}
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.45.a"
		trigger = {
			is_republic = yes
		}
		if = {
			limit = {
				tag = ROM
				is_republic = yes
			}
			change_law = marian_reforms
		}
		else_if = {
			limit = {
				is_republic = yes
			}
			change_law = republican_recruitment_4
		}
		scope:military_genius = { add_loyalty = loyalty_reforms_embraced }
		if = {
			limit = {
				is_republic = yes
				exists = scope:military_genius.character_party
			}
			add_party_approval = {
				party = scope:military_genius.character_party
				value = party_approval_large
			}
		}
		add_country_modifier = {
			name = marian_reforms_modifier
			duration = 3650
		}
		add_aggressive_expansion = 5
		custom_tooltip = unlocks_marian_reform_tooltip
	}  
	   
	option = {
		name = "ip_republic.45.d"
		trigger = {
			is_republic = no
		}
		add_country_modifier = {
			name = marian_reforms_monarchy_modifier
			duration = 7300
		}
		add_political_influence = influence_gargantuan
	}
	
	option = {
		name = "ip_republic.45.b" 
		scope:military_genius = {
			add_loyalty = loyalty_reforms_refused
		}
		if = {
			limit = {
				is_republic = yes
			}
			add_country_modifier = {
				name = marian_reforms_aristocracy_happy
				duration = 3650
			}
			custom_tooltip = unlocks_marian_reform_tooltip
		}
	}
	
}

ip_republic.46 = { #Prominent Lawmaker Assassinated
	type = country_event
	title = "ip_republic.46.t"  
	desc = "ip_republic.46.desc"
	
	picture = dagger_behind_back
	
	left_portrait = root.current_ruler
	right_portrait = scope:prominent_lawmaker
	
	trigger = {
		is_republic = yes
		current_date > 500.1.1 
		has_civil_war = no
		NOR = {    
			has_variable = lawmaker_crisis_happened
		}
		any_character = {
			has_office = office_censor  
			prominence >= 25
		}
		any_country_state = {
			count >= 3
			any_state_province = {
				count >= 7
				NOT = {
					dominant_province_culture = root.culture
				}
			}
		}
		is_ai = no
	}
	
	weight_multiplier = {
		modifier = {
			factor = 2
			any_character = {
				has_office = office_censor  
				prominence >= 50
				character_democratic_party_trigger = yes
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = lawmaker_crisis_happened 
		}
		set_variable = {
			name = crisis_ongoing
			days = 3650
		}
		random_character = {
			limit = {
				has_office = office_censor
			}
			save_scope_as = prominent_lawmaker
		}
		hidden_effect = {
			scope:prominent_lawmaker = {
				death = {
					death_reason = death_internal_assassination
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.46.a"
		custom_tooltip = ip_republic_46_tooltip_a 
		show_as_tooltip = {
			random_country_state = {
				limit = {
					any_state_province = {
						count >= 7
						NOT = {
							dominant_province_culture = root.culture
						}
					}
				}
				random_state_province = {
					add_state_loyalty = -25
				}
				add_state_modifier = {
					name = prominent_lawmaker_crisis
					duration = 3650
				}
			}
		}
		hidden_effect = {
			every_country_state = {
				limit = {
					any_state_province = {
						count >= 7
						NOT = {
							dominant_province_culture = root.culture
						}
					}
				}
				random_state_province = {
					add_state_loyalty = -25
				}
				add_state_modifier = {
					name = prominent_lawmaker_crisis
					duration = 3650
				}
			}
		}
		scope:prominent_lawmaker = {
			if = {
				limit = {
					is_minor_character = no
				}
				family = {
					add_prestige = {
						value = prestige
						multiply = 0.25
						min = 50
						max = 100
					}
				}
			}
		}
	}
	  
	option = {
		name = "ip_republic.46.b"
		add_country_modifier = {
			name = ip_republic_46_rebel_pacification
			duration = -1
		}
		custom_tooltip = ip_republic_46_conservative_backlash
		hidden_effect = {
			trigger_event = {
				id = ip_republic.48
				days = { 180 360 }
			}
		}
	}
	
}

ip_republic.47 = {
	type = country_event
	title = "ip_republic.47.t"  
	desc = "ip_republic.47.desc"
	
	picture = romans_marching
	goto_location = scope:sbgnq1
	left_portrait = root.current_ruler
	right_portrait = scope:senatorial_general
	right_portrait = scope:second_senatorial_general
	right_portrait = scope:third_senatorial_general
	
	immediate = {
		hidden_effect = {
			set_variable = {
				name = total_army_size_ip_republic_47
				value = {
					value = root.num_of_cohorts
					divide = 2
					add = 10
				}
			}
			if = {
				limit = {
					any_army = {
						exists = commander
						commander = {
							is_ruler = no
							is_mercenary = no
						}
					}
				}
				random_army = {
					limit = {
						exists = commander
						commander = {
							is_ruler = no
							is_mercenary = no
						}
					}
					weight = {
						modifier = {
							factor = 100
							unit_size >= 15
						}
						modifier = {
							factor = 100
							unit_size >= 25
						}
						modifier = {
							factor = 100
							exists = commander
							commander = {
								loyalty <= 40
							}
						}
					}
					commander = {
						save_scope_as = senatorial_general
						add_loyalty = loyalty_senatorial_commander
						add_gold = 500
					}
					while = {
						limit = {
							unit_size < ip_republic_47_partial_army_svalue
						}
						add_relevant_loyal_subunit_effect = yes
					}
					save_scope_as = iter_army
				}
			}
			else_if = {
				random_character = {
					limit = {
						NOR = {
							is_ruler = yes
							is_mercenary = yes
						}
					}
					weight = {
						modifier = {
							factor = 1000
							has_any_office = yes
						}
						modifier = {
							factor = 1000
							this = scope:ultimatum_protagonist
						}
					}
					save_scope_as = senatorial_general
					add_gold = 500
					add_loyalty = loyalty_senatorial_commander
				}
				random_owned_province = {
					save_scope_as = sbgnq1
				}
				scope:senatorial_general = {
					while = {
						limit = { num_loyal_veterans < ip_republic_47_partial_army_svalue }
						add_loyal_veterans = 1
					}
				}
			}
			if = {
				limit = {
					var:total_army_size_ip_republic_47 > scope:senatorial_general.num_loyal_veterans
				}
				random_character = {
					limit = {
						NOR = {
							is_ruler = yes
							is_mercenary = yes
							this = scope:senatorial_general
						}
					}
					weight = {
						modifier = {
							factor = 1000
							has_any_office = yes
						}
						modifier = {
							factor = 1000
							this = scope:ultimatum_protagonist
						}
					}
					save_scope_as = second_senatorial_general
					add_gold = 500
					add_loyalty = loyalty_senatorial_commander
				}
				random_owned_province = {
					save_scope_as = sbgnq1
				}
				scope:second_senatorial_general = {
					while = {
						limit = { num_loyal_veterans < ip_republic_47_partial_army_svalue }
						add_loyal_veterans = 1
					}
				}
				if = {
					limit = {
						exists = scope:second_senatorial_general
						var:total_army_size_ip_republic_47 > scope:second_senatorial_general.num_loyal_veterans
					}
					random_character = {
						limit = {
							NOR = {
								is_ruler = yes
								is_mercenary = yes
								this = scope:senatorial_general
								this = scope:second_senatorial_general
							}
						}
						weight = {
							modifier = {
								factor = 1000
								has_any_office = yes
							}
							modifier = {
								factor = 1000
								this = scope:ultimatum_protagonist
							}
						}
						save_scope_as = third_senatorial_general
						add_gold = 500
						add_loyalty = loyalty_senatorial_commander
					}
					random_owned_province = {
						save_scope_as = sbgnq2
					}
					scope:third_senatorial_general = {
						while = {
							limit = { num_loyal_veterans < ip_republic_47_partial_army_svalue }
							add_loyal_veterans = 1
						}
					}
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.47.a"
		custom_tooltip = ip_r_47_tooltip_a
	}
	
}

ip_republic.48 = {
	type = country_event
	title = "ip_republic.48.t"  
	desc = "ip_republic.48.desc"
	
	left_portrait = root.current_ruler
	right_portrait = scope:ultimatum_protagonist
	
	picture = senate_debate
	
	immediate = {
		random_character = {
			limit = {
				has_any_office = yes
			}
			weight = {
				modifier = {
					factor = 20
					has_office = office_praetor
				}
			}
			save_scope_as = ultimatum_protagonist
		}
	}
	
	option = {
		name = "ip_republic.48.a"
		add_stability_effect = yes
		custom_tooltip = ip_republic_48_tt_a
		hidden_effect = {
			trigger_event = {
				id = ip_republic.47
				days = { 30 360 }
			}
		}
	}
	
	option = {
		name = "ip_republic.48.b"
		remove_country_modifier = ip_republic_46_rebel_pacification
		remove_stability_effect = yes
		add_country_modifier = {
			name = land_tithe_for_nobles
			duration = 18250
		}
		if = {
			limit = {
				has_variable = crisis_ongoing
			}
			remove_variable = crisis_ongoing 
		}
	}
	
}
	
# Populist with Co-Consul 1 
ip_republic.49 = {
	type = country_event
	title = "ip_republic.49.t"  
	desc = "ip_republic.49.desc"
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = senate_debate
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = current_co_ruler
		current_ruler = {
			character_populares_or_democratic_trigger = yes
			prisoner = no
		}
		exists = current_co_ruler
		current_co_ruler = {
			prisoner = no
			NOR = {
				character_populares_or_democratic_trigger = yes
				is_friend = root.current_ruler
			}
		}
		any_owned_province = { total_population <= 10 }
		NOT = { has_variable = co_ruler_disagreement_cooldown }
	}
	
	immediate = {
		set_variable = {
			name = co_ruler_disagreement_cooldown
			days = 7300 # 20 years
		}
		current_ruler = { save_scope_as = ip_republic_49_ruler }
		current_co_ruler = { save_scope_as = ip_republic_49_co_ruler }
	}

	option = {
		name = "ip_republic.49.a"
		custom_tooltip = ip_republic.49.at1
		current_co_ruler = { add_loyalty = loyalty_consul_disagreement }
		custom_tooltip = ip_republic.49.at2
		hidden_effect = {
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
						is_same_party_as = root.current_ruler
					}
					age >= 30
				}
				order_by = prominence
				max = 3
				check_range_bounds = no
				add_loyalty = loyalty_optimates_upset
			}
		}
		set_variable = {
			name = ip_rep_49_circumvent
			days = -1
		}
		trigger_event = {
			id = ip_republic.50
			days = { 5 10 }
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.49.b"
		custom_tooltip = ip_republic.49.bt
		current_ruler = { add_popularity = subtract_popularity_medium }
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_political_influence = influence_small
		trigger_event = {
			id = ip_republic.50
			days = { 5 10 }
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
}

# Populist with Co-Consul 2
ip_republic.50 = {
	type = country_event
	title = "ip_republic.50.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_variable = ip_rep_49_circumvent }
				}
				desc = "ip_republic.50.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.50.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = oration
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_49_ruler
		exists = scope:ip_republic_49_co_ruler
		scope:ip_republic_49_ruler = {
			is_alive = yes
			is_ruler = yes
			prisoner = no
			character_populares_or_democratic_trigger = yes
		}
		scope:ip_republic_49_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			prisoner = no
			NOT = { character_populares_or_democratic_trigger = yes }
		}
	}

	option = { # Keep going
		name = "ip_republic.50.a"
		trigger = {
			has_variable = ip_rep_49_circumvent
		}
		custom_tooltip = ip_republic.50.at1
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		custom_tooltip = ip_republic.50.at2
		hidden_effect = {
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
					}
					is_same_party_as = root.current_ruler
					age >= 20
				}
				order_by = prominence
				max = 2
				check_range_bounds = no
				add_popularity = popularity_medium
			}
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
						is_same_party_as = root.current_ruler
					}
					age >= 30
				}
				order_by = prominence
				max = 3
				check_range_bounds = no
				add_loyalty = loyalty_optimates_upset
			}
		}
		add_political_influence = influence_medium
		add_stability = -10.0
		trigger_event = {
			id = ip_republic.51
			days = { 5 10 }
		}
	}
	
	option = { # Stop
		name = "ip_republic.50.b"
		trigger = { has_variable = ip_rep_49_circumvent }
		current_ruler = { add_popularity = subtract_popularity_small }
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_2 }
		custom_tooltip = ip_republic.50.bt
		hidden_effect = {
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
					}
					is_same_party_as = root.current_ruler
					age >= 20
				}
				order_by = prominence
				max = 2
				check_range_bounds = no
				add_loyalty = loyalty_populists_upset
			}
		}
		remove_variable = ip_rep_49_circumvent
		trigger_event = {
			id = ip_republic.50
			days = { 5 10 }
		}
	}
	
	option = { # Push for more 
		name = "ip_republic.50.c"
		trigger = {
			NOT = { has_variable = ip_rep_49_circumvent }
		}
		custom_tooltip = ip_republic.50.ct1
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_2 }
		custom_tooltip = ip_republic.50.ct2
		hidden_effect = {
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
						is_same_party_as = root.current_ruler
					}
					age >= 30
				}
				order_by = prominence
				max = 3
				check_range_bounds = no
				add_loyalty = loyalty_optimates_upset
			}
		}
		add_political_influence = subtract_influence_medium
		set_variable = {
			name = ip_rep_49_refused_compromise
			days = -1
		}
		trigger_event = {
			id = ip_republic.51
			days = { 5 10 }
		}
	}
	
	option = { # Accept compromise
		name = "ip_republic.50.d"
		trigger = {
			NOT = { has_variable = ip_rep_49_circumvent }
		}
		current_ruler = { add_popularity = subtract_popularity_small }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_disapproval_medium
		}
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		random_owned_province = {
			limit = {
				NOT = { is_in_region = root.capital_scope }
				total_population <= 10
			}
			create_pop = freemen
		}
		random_owned_province = {
			limit = {
				NOT = { is_in_region = root.capital_scope }
				total_population <= 10
			}
			create_pop = freemen
		}
		add_political_influence = influence_medium
	}
}

# Populist with Co-Consul 3
ip_republic.51 = {
	type = country_event
	title = "ip_republic.51.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_variable = ip_rep_49_refused_compromise }
				desc = "ip_republic.51.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.51.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = senate_debate
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_49_ruler
		exists = scope:ip_republic_49_co_ruler
		scope:ip_republic_49_ruler = {
			is_alive = yes
			is_ruler = yes
			prisoner = no
			character_populares_or_democratic_trigger = yes
		}
		scope:ip_republic_49_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			prisoner = no
			NOT = { character_populares_or_democratic_trigger = yes }
		}
	}

	immediate = {
		hidden_effect = {
			while = {
				count = 8 
				random_owned_province = {
					limit = { total_population <= 5 }
					weight = {
						factor = 1
						modifier = {
							NOT = { is_in_region = root.capital_scope }
							factor = 10
						}
					}
					create_pop = freemen
				}
			}
		}
	}
	
	option = { # Double down
		name = "ip_republic.51.a"
		current_ruler = { add_popularity = popularity_medium }
		current_co_ruler = {
			add_rival = root.current_ruler
			add_loyalty = loyalty_publicly_humiliated
		}
		hidden_effect = {
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
						is_same_party_as = root.current_ruler
					}
					age >= 30
				}
				order_by = prominence
				max = 3
				check_range_bounds = no
				add_loyalty = loyalty_optimates_upset
			}
		}
		custom_tooltip = ip_republic.49.at2
		custom_tooltip = ip_republic.51.hh
		if = {
			limit = { has_variable = ip_rep_49_refused_compromise }
			remove_variable = ip_rep_49_refused_compromise
		}
		remove_variable = ip_rep_49_circumvent
	}
	
	option = { # Apology
		name = "ip_republic.51.b"
		current_ruler = { add_popularity = popularity_small }
		current_co_ruler = { add_loyalty = loyalty_humiliation_apology }
		add_political_influence = influence_medium
		custom_tooltip = ip_republic.51.hh
		if = {
			limit = { has_variable = ip_rep_49_refused_compromise }
			remove_variable = ip_rep_49_refused_compromise
		}
		remove_variable = ip_rep_49_circumvent
		
	}
}

# Military with Co-Consul 1 
ip_republic.52 = {
	type = country_event
	title = "ip_republic.52.t"  
	desc = "ip_republic.52.desc"
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = senate_debate
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		current_ruler = {
			character_populares_or_oligarchic_trigger = yes
			prisoner = no
		}
		exists = current_co_ruler
		current_co_ruler = {
			prisoner = no
			NOR = {
				character_populares_or_oligarchic_trigger = yes
				is_friend = root.current_ruler
			}
		}
		NOT = { has_variable = co_ruler_disagreement_cooldown }
	}
	
	immediate = {
		set_variable = {
			name = co_ruler_disagreement_cooldown
			days = 7300 # 20 years
		}
		current_ruler = { save_scope_as = ip_republic_52_ruler }
		current_co_ruler = { save_scope_as = ip_republic_52_co_ruler }
	}

	option = {
		name = "ip_republic.52.a"
		custom_tooltip = ip_republic.52.at
		current_co_ruler = { add_loyalty = loyalty_consul_disagreement }
		trigger_event = {
			id = ip_republic.53
			days = { 5 10 }
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.52.b"
		custom_tooltip = ip_republic.52.bt
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_political_influence = influence_medium
		set_variable = {
			name = ip_rep_52_project
			days = -1
		}
		trigger_event = {
			id = ip_republic.53
			days = { 5 10 }
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.52.c"
		highlight = yes
		trigger = {
			current_ruler = {
				wealth > 100
				OR = {
					corruption > 0
					has_trait = crafty
					has_trait = corrupt
				}
			}
			current_co_ruler = {
				NOR = {
					is_rival = root.current_ruler
					has_trait = pious
				}
			}
		}
		custom_tooltip = ip_republic.52.ct
		hidden_effect = {
			current_co_ruler = {
				add_loyalty = loyalty_consul_bribe
				add_gold = {
					value = root.current_ruler.wealth
					multiply = 0.25
				}
			}
		}
		current_ruler = {
			add_corruption = corruption_medium
			add_gold = {
				value = root.current_ruler.wealth
				multiply = -0.25
			}
		}
		current_co_ruler = { add_corruption = corruption_medium }
		trigger_event = {
			id = ip_republic.54
			days = { 5 10 }
		}
		set_variable = {
			name = ip_rep_52_bribe
			days = -1
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
		custom_tooltip = "line_space_tooltip"
		if = {
			limit = {
				current_ruler = { corruption > 0 }
				NOT = { 
					current_ruler = { has_trait = corrupt }
				}
			}
			custom_tooltip = "corruption_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = crafty }
			}
			custom_tooltip = "crafty_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = corrupt }
			}
			custom_tooltip = "corrupt_tooltip"
		}
	}
}

# Military with Co-Consul 2
ip_republic.53 = {
	type = country_event
	title = "ip_republic.53.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_variable = ip_rep_52_project }
				}
				desc = "ip_republic.53.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.53.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = oration
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_52_ruler
		exists = scope:ip_republic_52_co_ruler
		scope:ip_republic_52_ruler = {
			is_alive = yes
			is_ruler = yes
			prisoner = no
			character_populares_or_oligarchic_trigger = yes
		}
		scope:ip_republic_52_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			prisoner = no
			NOT = { character_populares_or_oligarchic_trigger = yes }
		}
	}

	option = { # Keep going
		name = "ip_republic.53.a"
		trigger = {
			NOT = { has_variable = ip_rep_52_project }
		}
		current_ruler = { add_corruption = corruption_medium }
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		add_stability = -10.0
		trigger_event = {
			id = ip_republic.54
			days = { 5 10 }
		}
	}
	
	option = { # Stop
		name = "ip_republic.53.b"
		trigger = {
			NOT = { has_variable = ip_rep_52_project }
		}
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_2 }
		add_treasury = {
			value = has_monthly_income
			multiply = -1.0
		}
		trigger_event = {
			id = ip_republic.54
			days = { 5 10 }
		}
	}
	
	option = { # Push for more 
		name = "ip_republic.53.c"
		trigger = { has_variable = ip_rep_52_project }
		custom_tooltip = ip_republic.53.ct
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		add_political_influence = subtract_influence_medium
		trigger_event = {
			id = ip_republic.53
			days = { 5 10 }
		}
		remove_variable = ip_rep_52_project
	}
	
	option = { # Accept compromise
		name = "ip_republic.53.d"
		trigger = {
			has_variable = ip_rep_52_project
		}
		current_ruler = { add_popularity = subtract_popularity_small }
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_disapproval_medium
		}
		add_party_approval = {
			party = root.current_co_ruler.character_party
			value = party_approval_small
		}
		hidden_effect = {
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
					}
					OR = {
						is_general = yes
						is_admiral = yes
						is_same_party_as = root.current_ruler
					}
					age >= 20
				}
				order_by = prominence
				max = 3
				check_range_bounds = no
				add_loyalty = loyalty_military_upset
			}
		}
		custom_tooltip = ip_republic.53.dt
		add_treasury = {
			value = has_monthly_income
			multiply = -1.5
		}
		add_country_modifier = {
			name = ip_rep_52_mil_small_cm
			duration = 3650 # 10 years
		}
		if = {
			limit = {
				current_co_ruler = { character_optimates_or_democratic_trigger = yes }
			}
			add_country_modifier = {
				name = ip_rep_52_civ_cm
				duration = 3650 # 10 years
			}
		}
		else_if = {
			limit = {
				current_co_ruler = { character_boni_or_traditionalist_trigger = yes }
			}
			add_country_modifier = {
				name = ip_rep_52_rel_cm
				duration = 3650 # 10 years
			}
		}
		remove_variable = ip_rep_52_project
	}
}

# Military with Co-Consul 3
ip_republic.54 = {
	type = country_event
	title = "ip_republic.54.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_variable = ip_rep_52_bribe }
				}
				desc = "ip_republic.54.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.54.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = romans_marching
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_52_ruler
		exists = scope:ip_republic_52_co_ruler
		scope:ip_republic_52_ruler = {
			is_alive = yes
			is_ruler = yes
			prisoner = no
			character_populares_or_oligarchic_trigger = yes
		}
		scope:ip_republic_52_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			prisoner = no
			NOT = { character_populares_or_oligarchic_trigger = yes }
		}
	}
	
	option = {
		name = "ip_republic.54.a"
		current_ruler = { add_popularity = popularity_medium }
		if = {
			limit = {
				NOT = { has_variable = ip_rep_52_bribe }
			}
			current_co_ruler = { add_loyalty = loyalty_consul_aggravation_2 }
		}
		else = { remove_variable = ip_rep_52_bribe }
		hidden_effect = {
			ordered_character = {
				limit = {
					NOR = {
						is_ruler = yes
						is_co_ruler = yes
						prisoner = yes
					}
					OR = {
						is_general = yes
						is_admiral = yes
						is_same_party_as = root.current_ruler
					}
					age >= 20
				}
				order_by = prominence
				max = 3
				check_range_bounds = no
				add_loyalty = loyalty_military_pleased
			}
		}
		custom_tooltip = ip_republic.54.at
		add_country_modifier = {
			name = ip_rep_52_mil_large_cm
			duration = 3650 # 10 years
		}
	}
}

# Civic with Co-Consul 1 
ip_republic.55 = {
	type = country_event
	title = "ip_republic.55.t"  
	desc = "ip_republic.55.desc"
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = senate_debate
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		current_ruler = {
			character_optimates_or_democratic_trigger = yes
			prisoner = no
		}
		exists = current_co_ruler
		current_co_ruler = {
			prisoner = no
			NOR = {
				character_optimates_or_democratic_trigger = yes
				is_friend = root.current_ruler
			}
		}
		any_owned_province = {
			has_city_status = yes
			NOT = { is_capital = yes }
		}
		NOT = { has_variable = co_ruler_disagreement_cooldown }
	}
	
	immediate = {
		set_variable = {
			name = co_ruler_disagreement_cooldown
			days = 7300 # 20 years
		}
		current_ruler = { save_scope_as = ip_republic_55_ruler }
		current_co_ruler = { save_scope_as = ip_republic_55_co_ruler }
		random_owned_province = {
			limit = {
				has_city_status = yes
				NOT = { is_capital = yes }
			}
			weight = {
				modifier = {
					factor = 5
					total_population >= 10
				}
				modifier = {
					factor = 10
					free_building_slots >= 1
				}
			}
			save_scope_as = ip_rep_55_city
		}
	}

	option = {
		name = "ip_republic.55.a"
		#custom_tooltip = ip_republic.55.at
		current_co_ruler = { add_loyalty = loyalty_consul_disagreement }
		trigger_event = {
			id = ip_republic.56
			days = { 5 10 }
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.55.b"
		#custom_tooltip = ip_republic.55.bt
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_political_influence = influence_small
		trigger_event = {
			id = ip_republic.56
			days = { 5 10 }
		}
		set_variable = {
			name = ip_rep_55_compromise
			days = -1
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.55.c"
		highlight = yes
		trigger = {
			current_ruler = {
				wealth > 100
				OR = {
					corruption > 0
					has_trait = crafty
					has_trait = corrupt
				}
			}
			current_co_ruler = {
				NOR = {
					is_rival = root.current_ruler
					has_trait = pious
				}
			}
		}
		custom_tooltip = ip_republic.55.ct
		hidden_effect = {
			current_co_ruler = {
				add_loyalty = loyalty_consul_bribe
				add_gold = {
					value = root.current_ruler.wealth
					multiply = 0.25
				}
			}
		}
		current_ruler = {
			add_corruption = corruption_medium
			add_gold = {
				value = root.current_ruler.wealth
				multiply = -0.25
			}
		}
		current_co_ruler = { add_corruption = corruption_medium }
		trigger_event = {
			id = ip_republic.57
			days = { 5 10 }
		}
		set_variable = {
			name = ip_rep_55_bribe
			days = -1
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
		custom_tooltip = "line_space_tooltip"
		if = {
			limit = {
				current_ruler = { corruption > 0 }
				NOT = { 
					current_ruler = { has_trait = corrupt }
				}
			}
			custom_tooltip = "corruption_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = crafty }
			}
			custom_tooltip = "crafty_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = corrupt }
			}
			custom_tooltip = "corrupt_tooltip"
		}
	}
}

# Civic with Co-Consul 2
ip_republic.56 = {
	type = country_event
	title = "ip_republic.56.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_variable = ip_rep_55_compromise }
				}
				desc = "ip_republic.56.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.56.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = oration
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_55_ruler
		exists = scope:ip_republic_55_co_ruler
		scope:ip_republic_55_ruler = {
			is_alive = yes
			is_ruler = yes
			prisoner = no
			character_optimates_or_democratic_trigger = yes
		}
		scope:ip_republic_55_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			prisoner = no
			NOT = { character_optimates_or_democratic_trigger = yes }
		}
	}

	option = { # Keep going
		name = "ip_republic.56.a"
		trigger = {
			NOT = { has_variable = ip_rep_55_compromise }
		}
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		set_variable = { name = ip_rep_55_rival }
		add_political_influence = subtract_influence_medium
		add_stability = -10.0
		trigger_event = {
			id = ip_republic.57
			days = { 5 10 }
		}
	}
	
	option = { # Stop
		name = "ip_republic.56.b"
		trigger = {
			NOT = { has_variable = ip_rep_55_compromise }
		}
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_2 }
		add_treasury = {
			value = has_monthly_income
			multiply = -1.2
		}
		trigger_event = {
			id = ip_republic.57
			days = { 5 10 }
		}
	}
	
	option = { # Refuse 
		name = "ip_republic.56.c"
		trigger = { has_variable = ip_rep_55_compromise }
		custom_tooltip = ip_republic.56.ct
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		add_political_influence = subtract_influence_medium
		trigger_event = {
			id = ip_republic.56
			days = { 5 10 }
		}
		remove_variable = ip_rep_55_compromise
	}
	
	option = { # Accept compromise
		name = "ip_republic.56.d"
		trigger = { has_variable = ip_rep_55_compromise }
		current_ruler = { add_popularity = subtract_popularity_small }
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_disapproval_medium
		}
		scope:ip_rep_55_city.state = {
			add_state_modifier = {
				name = ip_rep_55_city_small_sm
				duration = 3650 # 10 years
			}
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -1.2
		}
		if = {
			limit = {
				current_co_ruler = { character_optimates_or_oligarchic_trigger = yes }
			}
			add_manpower = -4
		}
		else_if = {
			limit = {
				current_co_ruler = { character_traditionalist_party_trigger = yes }
			}
			remove_stability_effect_small = yes
		}
		remove_variable = ip_rep_55_compromise
	}
}

# Civic with Co-Consul 3
ip_republic.57 = {
	type = country_event
	title = "ip_republic.57.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_variable = ip_rep_55_bribe }
				}
				desc = "ip_republic.57.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.57.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = aqueducts
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_55_ruler
		exists = scope:ip_republic_55_co_ruler
		scope:ip_republic_55_ruler = {
			is_alive = yes
			is_ruler = yes
			prisoner = no
			character_optimates_or_democratic_trigger = yes
		}
		scope:ip_republic_55_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			prisoner = no
			NOT = { character_optimates_or_democratic_trigger = yes }
		}
	}
	
	option = {
		name = "ip_republic.57.a"
		current_ruler = { add_popularity = popularity_medium }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_approval_medium
		}
		if = {
			limit = { has_variable = ip_rep_55_rival }
			current_co_ruler = { add_loyalty = loyalty_consul_aggravation_2 }
		}
		if = {
			limit = { has_variable = ip_rep_55_bribe }
			remove_variable = ip_rep_55_bribe
		}
		scope:ip_rep_55_city = {
			if = {
				limit = { can_build_building = aqueduct_building }
				add_building_level = aqueduct_building
			}
		}
		scope:ip_rep_55_city.state = {
			add_state_modifier = {
				name = ip_rep_55_city_large_sm
				duration = 3650 # 10 years
			}
		}
	}
}

# Mercantile with Co-Consul 1 
ip_republic.58 = {
	type = country_event
	title = "ip_republic.58.t"  
	desc = "ip_republic.58.desc"
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	picture = senate_debate
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		current_ruler = {
			character_optimates_or_democratic_trigger = yes
			prisoner = no
		}
		exists = current_co_ruler
		current_co_ruler = {
			prisoner = no
			NOR = {
				character_optimates_or_democratic_trigger = yes
				is_friend = root.current_ruler
			}
		}
		NOT = { has_variable = co_ruler_disagreement_cooldown }
	}
	
	immediate = {
		set_variable = {
			name = co_ruler_disagreement_cooldown
			days = 7300 # 20 years
		}
		current_ruler = { save_scope_as = ip_republic_58_ruler }
		current_co_ruler = { save_scope_as = ip_republic_58_co_ruler }
	}

	option = {
		name = "ip_republic.58.a"
		custom_tooltip = ip_republic.58.at
		current_co_ruler = { add_loyalty = loyalty_consul_disagreement }
		trigger_event = {
			id = ip_republic.59
			days = { 5 10 }
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.58.b"
		custom_tooltip = ip_republic.58.bt
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_political_influence = influence_small
		trigger_event = {
			id = ip_republic.59
			days = { 5 10 }
		}
		set_variable = {
			name = ip_rep_58_compromise
			days = -1
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.58.c"
		highlight = yes
		trigger = {
			current_ruler = {
				wealth > 100
				OR = {
					corruption > 0
					has_trait = crafty
					has_trait = corrupt
				}
			}
			current_co_ruler = {
				NOR = { is_rival = root.current_ruler }
				OR = {
					corruption <= 1
					has_trait = pious
				}
			}
		}
		custom_tooltip = ip_republic.58.ct
		hidden_effect = {
			current_co_ruler = {
				add_loyalty = loyalty_consul_bribe
				add_gold = {
					value = root.current_ruler.wealth
					multiply = 0.25
				}
			}
		}
		current_ruler = {
			add_corruption = corruption_medium
			add_gold = {
				value = root.current_ruler.wealth
				multiply = -0.25
			}
		}
		current_co_ruler = { add_corruption = corruption_medium }
		trigger_event = {
			id = ip_republic.60
			days = { 5 10 }
		}
		set_variable = {
			name = ip_rep_58_bribe
			days = -1
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
		custom_tooltip = "line_space_tooltip"
		if = {
			limit = {
				current_ruler = { corruption > 0 }
				NOT = { 
					current_ruler = { has_trait = corrupt }
				}
			}
			custom_tooltip = "corruption_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = crafty }
			}
			custom_tooltip = "crafty_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = corrupt }
			}
			custom_tooltip = "corrupt_tooltip"
		}
	}
}

# Mercantile with Co-Consul 2
ip_republic.59 = {
	type = country_event
	title = "ip_republic.59.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_variable = ip_rep_58_compromise }
				}
				desc = "ip_republic.59.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.59.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	
	picture = oration
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_58_ruler
		exists = scope:ip_republic_58_co_ruler
		scope:ip_republic_58_ruler = {
			is_alive = yes
			is_ruler = yes
			character_optimates_or_democratic_trigger = yes
			prisoner = no
		}
		scope:ip_republic_58_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			NOT = { character_optimates_or_democratic_trigger = yes }
			prisoner = no
		}
	}

	option = { # Keep going
		name = "ip_republic.59.a"
		trigger = {
			NOT = { has_variable = ip_rep_58_compromise }
		}
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		set_variable = { name = ip_rep_58_rival }
		add_manpower = -5.0
		add_stability = -10.0
		trigger_event = {
			id = ip_republic.60
			days = { 5 10 }
		}
	}
	
	option = { # Stop
		name = "ip_republic.59.b"
		trigger = {
			NOT = { has_variable = ip_rep_58_compromise }
		}
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_treasury = {
			value = has_monthly_income
			multiply = -1.2
		}
		trigger_event = {
			id = ip_republic.60
			days = { 5 10 }
		}
	}
	
	option = { # Refuse 
		name = "ip_republic.59.c"
		trigger = { has_variable = ip_rep_58_compromise }
		custom_tooltip = ip_republic.59.ct
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		add_political_influence = subtract_influence_small
		trigger_event = {
			id = ip_republic.59
			days = { 5 10 }
		}
		remove_variable = ip_rep_58_compromise
	}
	
	option = { # Accept compromise
		name = "ip_republic.59.d"
		trigger = { has_variable = ip_rep_58_compromise }
		current_ruler = { add_popularity = subtract_popularity_small }
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_disapproval_medium
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -2.4
		}
		add_country_modifier = {
			name = ip_rep_58_mer_small_cm
			duration = 5475 # 15 years
		}
		if = {
			limit = {
				current_co_ruler = { character_optimates_or_oligarchic_trigger = yes }
			}
			add_country_modifier = {
				name = ip_rep_58_mil_cm
				duration = 1825 # 5 years
			}
		}
		else_if = {
			limit = {
				current_co_ruler = { character_boni_or_traditionalist_trigger = yes }
			}
			add_country_modifier = {
				name = ip_rep_52_rel_cm
				duration = 1825 # 5 years
			}
		}
		else_if = {
			limit = {
				current_co_ruler = { character_populares_or_democratic_trigger = yes }
			}
			add_country_modifier = {
				name = ip_rep_52_pop_cm
				duration = 1825 # 5 years
			}
		}
		remove_variable = ip_rep_58_compromise
	}
}

# Mercantile with Co-Consul 3
ip_republic.60 = {
	type = country_event
	title = "ip_republic.60.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_variable = ip_rep_58_bribe }
				}
				desc = "ip_republic.60.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.60.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	
	picture = trade_port
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_58_ruler
		exists = scope:ip_republic_58_co_ruler
		scope:ip_republic_58_ruler = {
			is_alive = yes
			is_ruler = yes
			character_optimates_or_democratic_trigger = yes
			prisoner = no
		}
		scope:ip_republic_58_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			NOT = { character_optimates_or_democratic_trigger = yes }
			prisoner = no
		}
	}
	
	option = {
		name = "ip_republic.60.a"
		current_ruler = { add_popularity = popularity_medium }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_approval_medium
		}
		if = {
			limit = { has_variable = ip_rep_58_rival }
			current_co_ruler = { add_loyalty = loyalty_consul_aggravation_2 }
		}
		if = {
			limit = { has_variable = ip_rep_58_bribe }
			remove_variable = ip_rep_58_bribe
		}
		add_country_modifier = {
			name = ip_rep_58_mer_large_cm
			duration = 3650 # 10 years
		}
	}
}

# Religious with Co-Consul 1 
ip_republic.61 = {
	type = country_event
	title = "ip_republic.61.t"  
	desc = "ip_republic.61.desc"
	
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	
	picture = senate_debate
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		current_ruler = {
			prisoner = no
			character_boni_or_traditionalist_trigger = yes
		}
		exists = current_co_ruler
		current_co_ruler = {
			prisoner = no
			NOR = {
				character_boni_or_traditionalist_trigger = yes
				is_friend = root.current_ruler
			}
		}
		NOT = { has_variable = co_ruler_disagreement_cooldown }
	}
	
	immediate = {
		set_variable = {
			name = co_ruler_disagreement_cooldown
			days = 7300 # 20 years
		}
		current_ruler = { save_scope_as = ip_republic_61_ruler }
		current_co_ruler = { save_scope_as = ip_republic_61_co_ruler }
	}

	option = {
		name = "ip_republic.61.a"
		custom_tooltip = ip_republic.61.at
		current_co_ruler = { add_loyalty = loyalty_consul_disagreement }
		trigger_event = {
			id = ip_republic.62
			days = { 5 10 }
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.61.b"
		custom_tooltip = ip_republic.61.bt
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_political_influence = influence_small
		trigger_event = {
			id = ip_republic.62
			days = { 5 10 }
		}
		set_variable = {
			name = ip_rep_61_compromise
			days = -1
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
	}
	
	option = {
		name = "ip_republic.61.c"
		highlight = yes
		trigger = {
			current_ruler = {
				wealth > 100
				OR = {
					corruption > 0
					has_trait = crafty
					has_trait = corrupt
				}
			}
			current_co_ruler = {
				NOR = { is_rival = root.current_ruler }
				OR = {
					corruption <= 1
					has_trait = pious
				}
			}
		}
		custom_tooltip = ip_republic.61.ct
		hidden_effect = {
			current_co_ruler = {
				add_loyalty = loyalty_consul_bribe
				add_gold = {
					value = root.current_ruler.wealth
					multiply = 0.25
				}
			}
		}
		current_ruler = {
			add_corruption = corruption_medium
			add_gold = {
				value = root.current_ruler.wealth
				multiply = -0.25
			}
		}
		current_co_ruler = { add_corruption = corruption_medium }
		trigger_event = {
			id = ip_republic.62
			days = { 5 10 }
		}
		set_variable = {
			name = ip_rep_61_bribe
			days = -1
		}
		custom_tooltip = "ip_co_consul_chain_tooltip"
		custom_tooltip = "line_space_tooltip"
		if = {
			limit = {
				current_ruler = { corruption > 0 }
				NOT = { 
					current_ruler = { has_trait = corrupt }
				}
			}
			custom_tooltip = "corruption_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = crafty }
			}
			custom_tooltip = "crafty_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = corrupt }
			}
			custom_tooltip = "corrupt_tooltip"
		}
	}
}

# Religious with Co-Consul 2
ip_republic.62 = {
	type = country_event
	title = "ip_republic.62.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						has_variable = ip_rep_61_compromise
					}
				}
				desc = "ip_republic.62.desc_1"
			}
			triggered_desc = {
				trigger = { always = yes }
				desc = "ip_republic.62.desc_2" 
			}
		}
	}
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	
	picture = oration
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_61_ruler
		exists = scope:ip_republic_61_co_ruler
		scope:ip_republic_61_ruler = {
			is_alive = yes
			is_ruler = yes
			character_boni_or_traditionalist_trigger = yes
			prisoner = no
		}
		scope:ip_republic_61_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			NOT = { character_boni_or_traditionalist_trigger = yes }
			prisoner = no
		}
	}

	option = { # Keep going
		name = "ip_republic.62.a"
		trigger = {
			NOT = { has_variable = ip_rep_61_compromise }
		}
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		set_variable = { name = ip_rep_61_rival }
		add_tyranny = tyranny_large
		add_stability = -10.0
		trigger_event = {
			id = ip_republic.63
			days = { 5 10 }
		}
	}
	
	option = { # Stop
		name = "ip_republic.62.b"
		trigger = {
			NOT = { has_variable = ip_rep_61_compromise }
		}
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_treasury = {
			value = has_monthly_income
			multiply = -1.2
		}
		trigger_event = {
			id = ip_republic.63
			days = { 5 10 }
		}
	}
	
	
	option = { # Refuse 
		name = "ip_republic.62.c"
		trigger = {
			has_variable = ip_rep_61_compromise
		}
		custom_tooltip = ip_republic.62.ct
		current_co_ruler = { add_loyalty = loyalty_consul_aggravation_1 }
		add_political_influence = subtract_influence_small
		trigger_event = {
			id = ip_republic.62
			days = { 5 10 }
		}
		remove_variable = ip_rep_61_compromise
	}
	
	option = { # Accept compromise
		name = "ip_republic.62.d"
		trigger = { has_variable = ip_rep_61_compromise }
		current_ruler = { add_popularity = subtract_popularity_small }
		current_co_ruler = { add_loyalty = loyalty_consul_compromise_1 }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_disapproval_medium
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -2.4
		}
		add_country_modifier = {
			name = ip_rep_61_rel_small_cm
			duration = 3650 # 10 years
		}
		remove_variable = ip_rep_61_compromise
	}
}

# Religious with Co-Consul 3
ip_republic.63 = {
	type = country_event
	title = "ip_republic.63.t"  
	desc = "ip_republic.63.desc"
	left_portrait = root.current_ruler
	right_portrait = root.current_co_ruler
	
	picture = hellenic_temple
	
	trigger = {
		has_land = yes
		is_republic = yes
		has_co_ruler_government = yes
		exists = scope:ip_republic_61_ruler
		exists = scope:ip_republic_61_co_ruler
		scope:ip_republic_61_ruler = {
			is_alive = yes
			is_ruler = yes
			character_boni_or_traditionalist_trigger = yes
			prisoner = no
		}
		scope:ip_republic_61_co_ruler = {
			is_alive = yes
			is_co_ruler = yes
			NOT = { character_boni_or_traditionalist_trigger = yes }
			prisoner = no
		}
	}

	option = {
		name = "ip_republic.63.a"
		current_ruler = { add_popularity = popularity_medium }
		add_party_approval = {
			party = root.current_ruler.character_party
			value = party_approval_medium
		}
		if = {
			limit = { has_variable = ip_rep_61_rival }
			current_co_ruler = { add_loyalty = loyalty_consul_aggravation_2 }
		}
		if = {
			limit = { has_variable = ip_rep_61_bribe }
			remove_variable = ip_rep_61_bribe
		}
		add_country_modifier = {
			name = ip_rep_61_rel_large_cm
			duration = 5475 # 15 years
		}
	}
}

ip_republic.64 = {
	type = country_event
	title = "ip_republic.64.t"  
	desc = "ip_republic.64.desc"
	left_portrait = current_ruler
	
	picture = roman_trial
	
	trigger = {
		current_ruler = {
			popularity < 45
		}
	}
	
	immediate = {
	
	}
	
	option = {
		name = "ip_republic.64.a"
		if = {
			limit = {
				current_ruler = {
					NOT = {
						character_oligarchic_party_trigger = yes
					}
				}
			}
			oligarchic_approval_effect = {
				VALUE = party_disapproval_medium
			}
			set_variable = {
				name = oligarchic_party_displeasure
				days = 730
			}
		}
		if = {
			limit = {
				current_ruler = {
					NOT = {
						character_democratic_party_trigger = yes
					}
				}
			}
			democratic_approval_effect = {
				VALUE = party_disapproval_medium
			}
			set_variable = {
				name = democratic_party_displeasure
				days = 730
			}
		}
		if = {
			limit = {
				current_ruler = {
					NOT = {
						character_traditionalist_party_trigger = yes
					}
				}
			}
			traditionalist_approval_effect = {
				VALUE = party_disapproval_medium
			}
			set_variable = {
				name = traditionalist_party_displeasure
				days = 730
			}
		}
	}
	
	option = {
		name = "ip_republic.64.b"
		add_stability = -15
		add_tyranny = 5
	}
	
	option = {
		name = "ip_republic.64.b"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = crafty
					has_trait = intimidating
				}
				
			}
		}
		custom_tooltip = crafty_tooltip
		highlight = yes
		exclusive = yes
		add_political_influence = 10
	}
	
}

ip_republic.65 = {
	type = country_event
	title = "ip_republic.65.t"  
	desc = "ip_republic.65.desc"
	left_portrait = current_ruler
	
	picture = senator_conversing
	
	trigger = {
		current_ruler = {
			popularity < 45
		}
	}
	
	immediate = {
	
	}
	
	option = {
		name = "ip_republic.65.a"
		add_country_modifier = {
			name = lack_of_popular_support
			duration = 730
		}
	}
	
	option = {
		name = "ip_republic.65.b"
		add_treasury = {
			value = root.has_monthly_income
			multiply = subtract_monthly_income_medium
		}
		current_ruler = {
			add_popularity = popularity_small
		}
	}
	
	option = {
		name = "ip_republic.65.c"
		if = {
			limit = {
				current_ruler = {
					number_of_traits < max_number_of_traits_svalue
					NOT = {
						has_trait = cruel
					}
				}
			}
			current_ruler = {
				if = {
					limit = {
						has_trait = merciful
					}
					remove_trait = merciful
				}
				add_trait = cruel
			}
		}
		add_tyranny = 10
		add_political_influence = 20
	}
	
}

ip_republic.66 = {							# Oligarch Plot - Start
	type = country_event
	title = "ip_republic.66.t"  
	desc = "ip_republic.66.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	picture = senator_conversing
	
	trigger = {
		has_land = yes
		is_republic = yes
		is_subject = no
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		has_party_type = oligarchic_party
		current_ruler = {
			NOT = { party_type = oligarchic_party }
		}
		any_character = {
			is_alive = yes
			is_ruler = no
			wealth >= 200
			loyalty < 75
			OR = {
				has_trait = righteous
				has_trait = ambitious
				has_trait = crafty
				has_trait = jealous
				has_trait = selfish
				has_trait = assertive
				has_trait = confident
				has_trait = arbitrary
				has_trait = prominent
				has_trait = victorious
				has_trait = well_connected
				power_base >= 10
				is_rival = root.current_ruler
			}
			NOT = { is_friend = root.current_ruler }
			trigger_if = {
				limit = {
					employer = { gender_equality = no }
				}
				is_female = no
			}
			power_base > 0
			exists = character_party
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		NOT = { has_variable = ip_rep_66_cooldown }
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			factor = 3
			stability < 40
		}
		modifier = {
			factor = 3
			exists = scope:ip_rep_66_protagonist_temp
			current_ruler = {
				any_rival = { THIS = scope:ip_rep_66_protagonist_temp }
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_rep_66_68
			value = 0
		}
		set_variable = {
			name = ip_rep_66_69
			value = 0
		}
		set_variable = {
			name = ip_rep_66_72
			value = 0
		}
		set_variable = {
			name = ip_rep_66_80
			value = 0
		}
		set_variable = {
			name = ip_rep_66_cooldown
			days = 12775 # 35 years
		}
		set_variable = {
			name = ip_rep_66_counter_support
			value = 0
		}
		set_variable = {
			name = ip_rep_66_plot_support
			value = 0
		}
		random_character = {
			limit = {
				is_alive = yes
				is_ruler = no
				wealth >= 200
				loyalty < 75
				OR = {
					has_trait = righteous
					has_trait = ambitious
					has_trait = crafty
					has_trait = jealous
					has_trait = selfish
					has_trait = assertive
					has_trait = confident
					has_trait = arbitrary
					has_trait = prominent
					has_trait = victorious
					has_trait = well_connected
					power_base >= 10
					is_rival = root.current_ruler
				}
				NOT = { is_friend = root.current_ruler }
				trigger_if = {
					limit = {
						employer = { gender_equality = no }
					}
					is_female = no
				}
				power_base > 0
				exists = character_party
			}
			weight = {
				modifier = {
					factor = 10
					is_leader_of_party_type = oligarchic_party
				}
				modifier = {
					factor = 5
					party_type = oligarchic_party
				}
			}
			save_scope_as = ip_rep_66_protagonist
			set_variable = ip_rep_66_protagonist_flag
		}
		hidden_effect = {
			scope:ip_rep_66_protagonist = { 
				if = {
					limit = {
						is_party_leader = no
						employer = {
							NOT = { country_has_democratic_party_trigger = yes }
						}
					}
				}
				character_oligarchic_party_conviction_effect = {
					VALUE = 50
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.66.a"
		current_ruler = { add_popularity = subtract_popularity_huge }
		imprison = { target = scope:ip_rep_66_protagonist }
		add_tyranny = tyranny_huge
		add_stability = -10.0
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
	}
	
	option = {
		name = "ip_republic.66.b"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = rash
					has_trait = reckless
					has_trait = guileless
					has_trait = impatient
				}
			}
		}
		highlight = yes
		exclusive = yes
		trigger_event = {
			id = ip_republic.67
			days = { 2 5 }
		}
		custom_tooltip = ip_republic.66.bt
		if = {
			limit = {
				current_ruler = { has_trait = rash }
			}
			custom_tooltip = "rash_bad_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = reckless }
			}
			custom_tooltip = "reckless_bad_tooltip"
		}
		if = {
			limit = {
				current_ruler = { has_trait = guileless }
			}
			custom_tooltip = "guileless_bad_tooltip"
		}
	}
	
	option = {
		name = "ip_republic.66.c"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = wise
					has_trait = shrewd
					has_trait = cautious
					has_trait = intelligent
					has_trait = crafty
					has_trait = suspicious
				}
			}
		}
		highlight = yes
		if = {
			limit = {
				current_ruler = { has_trait = wise }
			}
			custom_tooltip = "wise_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = shrewd }
			}
			custom_tooltip = "shrewd_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = cautious }
			}
			custom_tooltip = "cautious_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = intelligent }
			}
			custom_tooltip = "intelligent_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = crafty }
			}
			custom_tooltip = "crafty_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = suspicious }
			}
			custom_tooltip = "suspicious_tooltip_option"
		}
		custom_tooltip = "ip_republic.66.ct"
		set_variable = ip_rep_66_tailed_flag
		set_variable = {
			name = ip_rep_66_tail_cooldown
			days = 60
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
	}
	
	option = {
		name = "ip_republic.66.d"
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "ip_republic.66.dt"
	}
}

ip_republic.67 = {							# Oligarch Plot - Reckless Confrontation
	type = country_event
	title = "ip_republic.67.t"  
	desc = {
		first_valid = {
			triggered_desc = {			# Success
				trigger = {
					has_variable = ip_rep_66_nipped_flag
				}
				desc = "ip_republic.67.desc_1"
			}
			triggered_desc = {			# Failure
				trigger = {
					NOT = { has_variable = ip_rep_66_nipped_flag }
				}
				desc = "ip_republic.67.desc_2"
			}
			triggered_desc = {			# Evidence good
				trigger = {
					has_variable = ip_rep_66_nipped_flag
					has_variable = ip_rep_66_evidence_uncovered_flag
				}
				desc = "ip_republic.67.desc_3" 
			}
			triggered_desc = {			# Evidence bad
				trigger = {
					NOT = { has_variable = ip_rep_66_nipped_flag }
					has_variable = ip_rep_66_evidence_uncovered_flag
				}
				desc = "ip_republic.67.desc_4" 
			}
		}
	}
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	picture = senator_conversing
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
	}
	
	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		hidden_effect = {
			random_list = {
				50 = {
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = dumb }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = incapable }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = guileless }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = weak_willed }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = submissive }
					}
					modifier = { 
						factor = 10 
						scope:ip_rep_66_protagonist.power_base < 10
					}
					modifier = {
						factor = 20
						root = { has_variable = ip_rep_66_evidence_uncovered_flag }
					}
					set_variable = ip_rep_66_nipped_flag
				}
				50 = {
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = crafty }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = intelligent }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = wise }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = shrewd }
					}
					modifier = {
						factor = 10
						scope:ip_rep_66_protagonist = { has_trait = kindly }
					}
					modifier = {
						factor = 5
						exists = scope:ip_rep_66_foreign_backer
						scope:ip_rep_66_foreign_backer.power_base > 10
					}
					modifier = {
						factor = 5
						exists = scope:ip_rep_66_foreign_backer
						scope:ip_rep_66_foreign_backer.power_base > 20
					}
					modifier = {
						factor = 5
						exists = scope:ip_rep_66_foreign_backer
						scope:ip_rep_66_foreign_backer.wealth > 100
					}
					modifier = {
						factor = 5
						exists = scope:ip_rep_66_foreign_backer
						scope:ip_rep_66_foreign_backer.wealth > 200
					}
					modifier = {
						factor = 5
						exists = scope:ip_rep_66_foreign_backer
						scope:ip_rep_66_foreign_backer.wealth > 400
					}
					modifier = {
						factor = 5
						exists = scope:ip_rep_66_foreign_backer
						scope:ip_rep_66_foreign_backer.wealth > 800
					}
					modifier = {
						factor = 5
						exists = scope:ip_rep_66_foreign_backer
						scope:ip_rep_66_foreign_backer.wealth > 1200
					}
				}
			}
		}
	}
	
	option = {
		name = "ip_republic.67.a"
		trigger = {
			has_variable = ip_rep_66_nipped_flag
			NOT = { has_variable = ip_rep_66_evidence_uncovered_flag }
		}
		current_ruler = { add_popularity = popularity_small }
		scope:ip_rep_66_protagonist = { 
			add_popularity = subtract_popularity_medium
			add_loyalty = loyalty_bitter_plotter
		}
		custom_tooltip = ip_republic.67.at
	}
	
	option = {
		name = "ip_republic.67.b"
		trigger = {
			NOR = { 
				has_variable = ip_rep_66_nipped_flag
				has_variable = ip_rep_66_evidence_uncovered_flag
			}
		}
		current_ruler = { add_popularity = subtract_popularity_medium }
		add_tyranny = tyranny_medium
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "ip_republic.67.bt"
	}
	
	option = {
		name = "ip_republic.67.c"
		trigger = {
			has_variable = ip_rep_66_nipped_flag
			has_variable = ip_rep_66_evidence_uncovered_flag
		}
		current_ruler = { add_popularity = subtract_popularity_small }
		imprison = { target = scope:ip_rep_66_protagonist }
		add_tyranny = tyranny_small
	}
	
	option = {
		name = "ip_republic.67.d"
		trigger = {
			NOT = { has_variable = ip_rep_66_nipped_flag }
			has_variable = ip_rep_66_evidence_uncovered_flag
		}
		current_ruler = { add_popularity = subtract_popularity_large }
		add_tyranny = tyranny_large
	}
}

ip_republic.68 = {							# Oligarch Plot - Supporter Gathered
	type = country_event
	title = "ip_republic.68.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:ip_rep_66_68 = 1
				}
				desc = "ip_republic.68.desc_1"
			}
			triggered_desc = {
				trigger = {
					var:ip_rep_66_68 = 2
				}
				desc = "ip_republic.68.desc_2" 
			}
		}
	}
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	right_portrait = scope:ip_rep_66_supporter
	picture = senator_conversing
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		any_character = {
			is_alive = yes
			is_ruler = no
			prisoner = no
			wealth >= 10
			loyalty < 80
			OR = {
				has_trait = righteous
				has_trait = ambitious
				has_trait = corrupt
				has_trait = selfish
				has_trait = weak_willed
				has_trait = arbitrary
				has_trait = submissive
				has_trait = foolish
				has_trait = proud
				has_trait = arrogant
				has_trait = jealous
				has_trait = crafty
				has_trait = two_faced
				NOR = {
					has_trait = honest
					has_trait = humble
					has_trait = content
					has_trait = lazy
					has_trait = trustworthy
				}
				is_friend = scope:ip_rep_66_protagonist_temp
				is_rival = root.current_ruler
			}
			NOR = {
				has_character_modifier = foreign_citizen
				this = scope:ip_rep_66_protagonist_temp
				is_friend = root.current_ruler		
				has_variable = ip_rep_66_supporter_flag
			}
			trigger_if = {
				limit = {
					employer = { gender_equality = no }
				}
				is_female = no
			}
		}
		var:ip_rep_66_68 < 2
		NOT = { has_variable = ip_rep_66_support_cooldown }
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}
	
	weight_multiplier = {
		base = 2
		modifier = {
			factor = -1
			any_character = {
				count = 1
				is_alive = yes
				employer = root
				has_variable = ip_rep_66_supporter_flag
			}
		}
		modifier = {
			factor = -1
			any_character = {
				count >= 2
				is_alive = yes
				employer = root
				has_variable = ip_rep_66_supporter_flag
			}
		}
	}
	
	immediate = {
		set_variable = {
			name = ip_rep_66_support_cooldown
			days = 60 # 2 months
		}
		change_variable = {
			name = ip_rep_66_68
			add = 1
		}
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		random_character = {
			limit = {
				is_alive = yes
				is_ruler = no
				wealth >= 10
				loyalty < 80
				OR = {
					has_trait = righteous
					has_trait = ambitious
					has_trait = corrupt
					has_trait = selfish
					has_trait = weak_willed
					has_trait = arbitrary
					has_trait = submissive
					has_trait = foolish
					has_trait = proud
					has_trait = arrogant
					has_trait = jealous
					has_trait = crafty
					has_trait = two_faced
					NOR = {
						has_trait = honest
						has_trait = humble
						has_trait = content
						has_trait = lazy
						has_trait = trustworthy
						is_leader_of_party_type = democratic_party
						is_leader_of_party_type = traditionalist_party
					}
					is_friend = scope:ip_rep_66_protagonist
					is_rival = root.current_ruler
				}
				NOR = { 
					this = scope:ip_rep_66_protagonist
					is_friend = root.current_ruler		
					has_variable = ip_rep_66_supporter_flag
					has_variable = ip_rep_66_supporter_cooldown
				}
				trigger_if = {
					limit = {
						employer = { gender_equality = no }
					}
					is_female = no
				}
			}
			weight = {
				title_importance_modifier = yes
				modifier = {
					factor = 10
					party_type = oligarchic_party
				}
			}
			save_scope_as = ip_rep_66_supporter
			set_variable = ip_rep_66_supporter_flag
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						scope:ip_rep_66_protagonist = {
							is_friend = scope:ip_rep_66_supporter
						}
					}
					scope:ip_rep_66_protagonist = { can_get_friends = yes }
					scope:ip_rep_66_supporter = { can_get_friends = yes }
				}
				scope:ip_rep_66_protagonist = { add_friend = scope:ip_rep_66_supporter }
			}
			scope:ip_rep_66_supporter = { 
				if = {
					limit = {
						is_party_leader = no
						employer = {
							NOT = { country_has_democratic_party_trigger = yes }
						}
					}
				}
				character_oligarchic_party_conviction_effect = {
					VALUE = 50
				}
			}
		}
	}
	
	option = {							# Seek support
		name = "ip_republic.68.a"	
		current_ruler = { add_popularity = popularity_small }
		add_treasury = {
			value = has_monthly_income
			multiply = -1.4
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_balance"
	}
	
	option = {							# Smear
		name = "ip_republic.68.b"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = crafty
					has_trait = deceitful
					has_trait = righteous
					has_trait = arbitrary
					has_trait = shrewd
					has_trait = intelligent
					has_trait = vengeful
				}
			}
			NOT = { has_variable = ip_rep_66_smear_cooldown }
		}
		highlight = yes
		scope:ip_rep_66_protagonist = {
			add_popularity = subtract_popularity_small
			add_loyalty = loyalty_smeared_plotter
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -0.9
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		set_variable = {
			name = ip_rep_66_smear_cooldown
			days = 60 # 2 months
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 2
		}
		custom_tooltip = "oligarch_plot_success_chance_balance"
		if = {
			limit = {
				current_ruler = { has_trait = crafty }
			}
			custom_tooltip = "crafty_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = deceitful }
			}
			custom_tooltip = "deceitful_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = righteous }
			}
			custom_tooltip = "righteous_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = arbitrary }
			}
			custom_tooltip = "arbitrary_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = shrewd }
			}
			custom_tooltip = "shrewd_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = intelligent }
			}
			custom_tooltip = "intelligent_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = vengeful }
			}
			custom_tooltip = "vengeful_tooltip"
		}
	}
	
	option = {							# Threaten job
		name = "ip_republic.68.c"
		trigger = {
			scope:ip_rep_66_supporter = {
				OR = {
					is_general = yes
					is_admiral = yes
					is_governor = yes
					has_any_office = yes
					has_tech_office = yes
				}
			}
		}
		highlight = yes
		custom_tooltip = "ip_republic.68.ct2"
		current_ruler = { add_popularity = subtract_popularity_small }
		scope:ip_rep_66_supporter = { 
			add_loyalty = loyalty_office_threatened 
			remove_variable = ip_rep_66_supporter_flag
			set_variable = {
				name = ip_rep_66_supporter_cooldown
				days = 60 # 2 months
			}
		}
		add_tyranny = tyranny_small
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "ip_republic.68.ct1"
		
	}
	
	option = {							# Nothing
		name = "ip_republic.68.d"
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_large"
	}
}

ip_republic.69 = {							# Oligarch Plot - Foreign Backers 1
	type = country_event
	
	hidden = yes
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		any_country = {
			in_diplomatic_range = root
			rank >= root.rank
			OR = {
				opinion = { target = root value <= 25 }
				this.current_ruler = { is_rival = root.current_ruler }
			}
			NOR = { 
				has_variable = ip_rep_66_foreign_support_scope_cooldown 
				alliance_with = root
				war_with = root
				this.current_ruler = { is_friend = root.current_ruler }
			}
		}
		NOR = {
			has_variable = ip_rep_66_foreign_support_flag
			has_variable = ip_rep_66_foreign_support_cooldown
		}
		var:ip_rep_66_69 < 2 
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}
	
	weight_multiplier = {
		base = 2
		modifier = {
			factor = -1
			var:ip_rep_66_69 >= 1
		}
	}
	
	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		set_variable = {
			name = ip_rep_66_foreign_support_cooldown
			days = 60 # 2 months
		}
		scope:ip_rep_66_protagonist = {
			trigger_event = {
				id = ip_republic.70
			}
		}
	}
}

ip_republic.70 = {							# Oligarch Plot - Foreign Backer Plotter Event
	type = character_event
	
	hidden = yes
	
	immediate = {
		random_country = {
			limit = {
				in_diplomatic_range = root.employer
				rank >= root.employer.rank
				opinion = { target = root.employer value <= 25 }
				NOT = { has_variable = ip_rep_66_foreign_support_scope_cooldown }
			}
			weight = {
				modifier = {
					factor = 5
					any_owned_province = {
						any_neighbor_province = { owner = root.employer }
					}
				}
				modifier = {
					factor = 5
					rank > root.employer.rank
				}
				modifier = {
					factor = 5
					has_truce_with = root.employer
				}
				modifier = {
					factor = 5
					war_with = root.employer
				}
			}
			save_scope_as = ip_rep_66_foreign_support_candidate
		}
		scope:ip_rep_66_foreign_support_candidate = {
			trigger_event = { id = ip_republic.71 }
		}
	}
}

ip_republic.71 = {							# Oligarch Plot - Foreign Backer Foreign Event
	type = country_event
	title = "ip_republic.71.t"  
	desc = "ip_republic.71.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	picture = council_country
	
	trigger = {
		has_land = yes
		exists = scope:ip_rep_66_protagonist
		scope:ip_rep_66_protagonist = {
			is_alive = yes
			prisoner = no
		}
	}

	immediate = {
		set_variable = {
			name = ip_rep_66_foreign_support_scope_cooldown
			days = 1825 # 5 years
		}
	}

	option = {							# Assist
		name = "ip_republic.71.a"
		save_scope_as = ip_rep_66_foreign_backer
		scope:ip_rep_66_protagonist.employer = {
			set_variable = {
				name = ip_rep_66_foreign_support_flag
				value = root
			}
			trigger_event = {
				id = ip_republic.77
				days = { 20 40 }
			}
		}
		add_treasury = {
			value = root.has_monthly_income
			multiply = -1
		}
		custom_tooltip = "ip_republic.71.at"
		ai_chance = { 
			factor = 65
			modifier = {
				factor = 15
				opinion = { target = scope:ip_rep_66_protagonist.employer value <= 0 }
			}
			modifier = {
				factor = 15
				opinion = { target = scope:ip_rep_66_protagonist.employer value <= -25 }
			}
			modifier = {
				factor = 15
				opinion = { target = scope:ip_rep_66_protagonist.employer value <= -50 }
			}
		}
	}
	
	option = {							# Refuse
		name = "ip_republic.71.b"
		scope:ip_rep_66_protagonist.employer = {
			trigger_event = {
				on_action = ip_rep_66_development_on_action
				days = { 20 40 }
			}
		}
		ai_chance = { factor = 35 }
	}
}

ip_republic.72 = {							# Oligarch Plot - City Support
	type = country_event
	title = "ip_republic.72.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:ip_rep_66_72 = 1
				}
				desc = "ip_republic.72.desc_1"
			}
			triggered_desc = {
				trigger = {
					var:ip_rep_66_72 = 2
				}
				desc = "ip_republic.72.desc_2" 
			}
		}
	}
	
	left_portrait = current_ruler
	left_portrait = scope:ip_rep_66_supporting_city.governor
	right_portrait = scope:ip_rep_66_protagonist
	picture = city_country
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		any_owned_province = {
			NOR = { 
				has_variable = ip_rep_66_city_cooldown
				has_variable = ip_rep_66_city_support
				is_in_area = root.capital_scope
			}
			is_state_capital = yes
		}
		NOT = { has_variable = ip_rep_66_city_cooldown }
		var:ip_rep_66_72 < 2
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}

	weight_multiplier = {
		base = 2
		modifier = {
			factor = -1
			var:ip_rep_66_72 >= 1
		}
	}

	immediate = {
		set_variable = {
			name = ip_rep_66_city_cooldown
			days = 60 # 2 months
		}		
		change_variable = {
			name = ip_rep_66_72
			add = 1
		}
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		ordered_owned_province = {
			limit = {
				NOR = { 
					has_variable = ip_rep_66_city_scope_cooldown
					has_variable = ip_rep_66_city_support
					is_in_area = root.capital_scope
				}
				is_state_capital = yes
			}
			order_by = {
				value = 0
				subtract = state_loyalty
			}
			save_scope_as = ip_rep_66_supporting_city
		}
		scope:ip_rep_66_supporting_city = { 
			set_variable = {
				name = ip_rep_66_city_scope_cooldown
				days = 365 # 1 year
			}
			set_variable = {
				name = ip_rep_66_city_support
			}
		}
		if = {
			limit = {
				scope:ip_rep_66_supporting_city.free_building_slots >= 1
				scope:ip_rep_66_supporting_city = {
					AND = {
						NOT = { has_building = forum_building }
						can_build_building = forum_building
					}
					AND = {
						can_build_building = library_building 
						NOT = { has_building = library_building }
					}
					AND = {
						can_build_building = town_hall_building
						NOT = { has_building = town_hall_building }
					}
					AND = {
						can_build_building = library_building
						NOT = { has_building = library_building }
					}
					AND = {
						can_build_building = aqueduct_building
						NOT = { has_building = aqueduct_building }
					}
				}
			}
			set_variable = {
				name = ip_rep_66_building_var
				value = { integer_range = { min = 1 max = 5 } }
			}
		}
	}

	option = {							# Try and mitigate the damage through governor
		name = "ip_republic.72.a"
		trigger = { 
			exists = scope:ip_rep_66_supporting_city.governor
			scope:ip_rep_66_supporting_city.governor.loyalty > 60
			NOT = { 
				scope:ip_rep_66_supporting_city.governor = { has_variable = ip_rep_66_supporter_flag }
			}
		}
		if = {
			limit = { scope:ip_rep_66_supporting_city.governor.popularity >= 1 }
			scope:ip_rep_66_supporting_city.governor = { add_popularity = subtract_popularity_medium }
		}
		if = {
			limit = {
				scope:ip_rep_66_supporting_city.governor.loyalty > 80
			}
			scope:ip_rep_66_supporting_city.governor = { add_loyalty = loyalty_governor_responsibility_1 }
		}
		else = {
			scope:ip_rep_66_supporting_city.governor = { add_loyalty = loyalty_governor_responsibility_2 }
		}
		scope:ip_rep_66_supporting_city = {
			add_province_modifier = {
				name = ip_rep_66_crackdown_pmod
				duration = 730 # 2 years
			}
		}
		if = {
			limit = {
				scope:ip_rep_66_supporting_city = { state_loyalty > 1 }
			}
			scope:ip_rep_66_supporting_city = { add_state_loyalty = -10.0 }
		}
		change_variable = {
			name = ip_rep_66_counter_support
			add = 2
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_future_small"
	}
	
	option = {							# Win them over
		name = "ip_republic.72.b"
		if = {
			limit = {
				exists = scope:ip_rep_66_supporting_city.governor
				NOT = { scope:ip_rep_66_supporting_city.governor.loyalty > 90 }
			}
			scope:ip_rep_66_supporting_city.governor = { add_loyalty = loyalty_governor_project_bestowed_2 }
		}
		if = {
			limit = {
				has_variable = ip_rep_66_building_var
			}
			if = {
				limit = {
					var:ip_rep_66_building_var = 1
				}
				scope:ip_rep_66_supporting_city = {
					add_building_level = forum_building
				}
			}
			else_if = {
				limit = {
					var:ip_rep_66_building_var = 2
				}
				scope:ip_rep_66_supporting_city = {
					add_building_level = library_building
				}
			}
			else_if = {
				limit = {
					var:ip_rep_66_building_var = 3
				}
				scope:ip_rep_66_supporting_city = {
					add_building_level = town_hall_building
				}
			}
			else_if = {
				limit = {
					var:ip_rep_66_building_var = 4
				}
				scope:ip_rep_66_supporting_city = {
					add_building_level = library_building
				}
			}
			else_if = {
				limit = {
					var:ip_rep_66_building_var = 5
				}
				scope:ip_rep_66_supporting_city = {
					add_building_level = aqueduct_building
				}
			}
			add_treasury = {
				value = { integer_range = { min = 30 max = 50 } }
				multiply = -1
			}
			remove_variable = ip_rep_66_building_var
		}
		else = {
			scope:ip_rep_66_supporting_city = {
				add_province_modifier = { 
					name = ip_rep_66_local_exemptions
					duration = 730 # 2 years
				}
			}
		}
		if = {
			limit = {
				scope:ip_rep_66_supporting_city = { state_loyalty < 100 }
			}
			scope:ip_rep_66_supporting_city = { add_state_loyalty = 5.0 }
		}
		change_variable = {
			name = ip_rep_66_counter_support
			add = 2
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_future_small"
	}
	
	option = {							# Gather the names of those most responsible
		name = "ip_republic.72.c"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = wise
					has_trait = shrewd
					has_trait = cautious
					has_trait = intelligent
					has_trait = crafty
					has_trait = suspicious
				}
			}
		}
		highlight = yes
		if = {
			limit = {
				current_ruler = { has_trait = wise }
			}
			custom_tooltip = "wise_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = shrewd }
			}
			custom_tooltip = "shrewd_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = cautious }
			}
			custom_tooltip = "cautious_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = intelligent }
			}
			custom_tooltip = "intelligent_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = crafty }
			}
			custom_tooltip = "crafty_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = suspicious }
			}
			custom_tooltip = "suspicious_tooltip_option"
		}
		change_variable = {
			name = ip_rep_66_counter_support
			add = 2
		}
		if = {
			limit = {
				scope:ip_rep_66_supporting_city = { state_loyalty > 1 }
			}
			scope:ip_rep_66_supporting_city = { add_state_loyalty = -5.0 }
		}
		add_tyranny = tyranny_small
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = oligarch_plot_success_chance_future_small
	}
	
	option = {							# Threaten the city's rights
		name = "ip_republic.72.d"
		trigger = {
			NOT = { exists = scope:ip_rep_66_supporting_city.governor }
		}
		current_ruler = { add_popularity = subtract_popularity_medium }
		if = {
			limit = {
				scope:ip_rep_66_supporting_city = { state_loyalty > 1 }
			}
			scope:ip_rep_66_supporting_city = { add_state_loyalty = -10.0 }
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_balance"
	}
	
	option = {							# Do nothing
		name = "ip_republic.72.e"
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		if = {
			limit = {
				scope:ip_rep_66_supporting_city = { state_loyalty > 1 }
			}
			scope:ip_rep_66_supporting_city = { add_state_loyalty = -20.0 }
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_large"
	}
}

ip_republic.73 = {							# Oligarch Plot - Popular Support
	type = country_event
	title = "ip_republic.73.t"
	desc = "ip_republic.73.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	picture = oration
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		NOT = { has_variable = ip_rep_66_pop_cooldown }
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}

	immediate = {
		set_variable = {
			name = ip_rep_66_pop_cooldown
			days = 365 # 1 year
		}
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
	}

	option = {							# Games
		name = "ip_republic.73.a"
		current_ruler = { add_popularity = popularity_medium }
		add_treasury = {
			value = has_monthly_income
			multiply = -3.4
		}
		democratic_approval_effect = {
			VALUE = party_approval_medium
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_balance"
	}
	
	option = {							# Defer to ruler's achievements
		name = "ip_republic.73.b"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = victorious
					has_trait = founder
					has_trait = conqueror
					has_trait = benefactor
					has_trait = scholar
					has_trait = resourceful
					has_trait = obsessive_perfectionist
					num_loyal_cohorts > 5
					wealth > 1000
				}
			}
		}
		if = {
			limit = {
				current_ruler = { has_trait = victorious }
			}
			custom_tooltip = "victorious_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = founder }
			}
			custom_tooltip = "founder_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = conqueror }
			}
			custom_tooltip = "conqueror_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = benefactor }
			}
			custom_tooltip = "benefactor_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = scholar }
			}
			custom_tooltip = "scholar_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { num_loyal_cohorts > 5 }
			}
			custom_tooltip = "ip_rep_73_cohorts_tt"
		}
		else_if = {
			limit = {
				current_ruler = { wealth > 1000 }
			}
			custom_tooltip = "ip_rep_73_wealth_tt"
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
	}
	
	option = {							# Hold forth on the value of the status quo
		name = "ip_republic.73.c"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = silver_tongued
					has_trait = orator
					charisma >= 6
				}
			}
		}
		highlight = yes
		custom_tooltip = "ip_republic.73.ct"
		if = {
			limit = {
				current_ruler = {
					OR = {
						has_trait = silver_tongued
						has_trait = orator
						charisma >= 9
					}
				}
			}
			scope:ip_rep_66_protagonist = { add_popularity = subtract_popularity_large }
			change_variable = {
				name = ip_rep_66_counter_support
				add = 5
			}
			custom_tooltip = "oligarch_plot_success_chance_future_large"
		}
		else_if = {
			limit = {
				current_ruler = {
					charisma >= 6
					charisma < 9
				}
			}
			scope:ip_rep_66_protagonist = { add_popularity = subtract_popularity_medium }
			custom_tooltip = "oligarch_plot_success_chance_balance"
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
	}
	
	option = {							# Enlist the support of local assemblies
		name = "ip_republic.73.d"
		current_ruler = { add_popularity = subtract_popularity_small }
		add_political_influence = subtract_influence_small
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 2
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_small"
	}
	
	option = {							# Nonsense
		name = "ip_republic.73.e"
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_large"
	}
}

ip_republic.74 = {							# Oligarch Plot - Tail Uncovers Evidence
	type = country_event
	title = "ip_republic.74.t"  
	desc = "ip_republic.74.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	picture = senator_conversing
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		has_variable = ip_rep_66_tailed_flag
		NOR = { 
			has_variable = ip_rep_66_tail_cooldown
			has_variable = ip_rep_66_evidence_uncovered_flag 
		}
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		set_variable = ip_rep_66_evidence_uncovered_flag
		remove_variable = ip_rep_66_tailed_flag
	}

	option = {							# We will save this for later
		name = "ip_republic.74.a"
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_future_large"
	}
	
	option = {							# Confront immediately
		name = "ip_republic.74.b"
		trigger_event = {
			id = ip_republic.67
			days = { 20 40 }
		}
		custom_tooltip = "ip_republic.66.bt"
	}
}

ip_republic.75 = {							# Oligarch Plot - Tail Discovered
	type = country_event
	title = "ip_republic.75.t"  
	desc = "ip_republic.75.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	picture = senator_conversing
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		has_variable = ip_rep_66_tailed_flag
		NOR = { 
			has_variable = ip_rep_66_evidence_uncovered_flag 
			has_variable = ip_rep_66_tail_cooldown
		}
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			factor = 2
			scope:ip_rep_66_protagonist = {
				OR = {
					has_trait = wise
					has_trait = shrewd
					has_trait = cautious
					has_trait = intelligent
					has_trait = crafty
					has_trait = suspicious
				}
			}
		}
	}
	
	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		remove_variable = ip_rep_66_tailed_flag
	}

	option = {							# Curses
		name = "ip_republic.75.a"
		current_ruler = { add_popularity = subtract_popularity_large } 
		add_tyranny = tyranny_large
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_large"
	}
}

ip_republic.76 = {							# Oligarch Plot - Close (no overall winner)
	type = country_event
	title = "ip_republic.76.t"  
	desc = "ip_republic.76.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:ip_rep_66_counter_1
	left_portrait = scope:ip_rep_66_counter_2
	right_portrait = scope:ip_rep_66_protagonist
	right_portrait = scope:ip_rep_66_supporter_1
	right_portrait = scope:ip_rep_66_supporter_2
	picture = council_country
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_counter_flag
				}
			}
			random_character = {
				limit = { has_variable = ip_rep_66_counter_flag }
				save_scope_as = ip_rep_66_counter_1
			}
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_counter_flag
					NOT = { this = scope:ip_rep_66_counter_1 }
				}
			}
			random_character = {
				limit = { 
					has_variable = ip_rep_66_counter_flag
					NOT = { this = scope:ip_rep_66_counter_1 }
				}
				save_scope_as = ip_rep_66_counter_2
			}
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_supporter_flag
				}
			}
			random_character = {
				limit = { has_variable = ip_rep_66_supporter_flag }
				save_scope_as = ip_rep_66_supporter_1
			}
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_supporter_flag
					NOT = { this = scope:ip_rep_66_supporter_1 }
				}
			}
			random_character = {
				limit = { 
					has_variable = ip_rep_66_supporter_flag
					NOT = { this = scope:ip_rep_66_supporter_1 }
				}
				save_scope_as = ip_rep_66_supporter_2
			}
		}
		if = {
			limit = { 
				has_variable = ip_rep_66_foreign_support_flag
				root.var:ip_rep_66_foreign_support_flag = { has_land = yes }
			}
			root.var:ip_rep_66_foreign_support_flag = { save_scope_as = ip_rep_66_foreign_backer }
		}
	}

	option = {							# Chance it
		name = "ip_republic.76.a"
		trigger_event = {
			id = ip_republic.82
			days = 5
		}
		custom_tooltip = "ip_republic.76.at"
	}
	
	option = {							# Back down
		name = "ip_republic.76.b"
		set_as_ruler = scope:ip_rep_66_protagonist
		hidden_effect = { change_government = oligarchic_republic }
		custom_tooltip = "ip_republic.76.bt"
		add_stability = -25
		if = {
			limit = { exists = scope:ip_rep_66_foreign_backer }
			scope:ip_rep_66_foreign_backer = {
				trigger_event = {
					id = ip_republic.85
				}
			}
		}
		if = {
			limit = {
				any_country = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						this.capital_scope.region = scope:ip_rep_66_protagonist.employer.capital_scope.region
					}
					NOR = {
						this = root
						AND = {
							exists = scope:ip_rep_66_foreign_backer
							this = scope:ip_rep_66_foreign_backer
						}
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						this.capital_scope.region = scope:ip_rep_66_protagonist.employer.capital_scope.region
					}
					NOT = { 
						this = root
						AND = {
							exists = scope:ip_rep_66_foreign_backer
							this = scope:ip_rep_66_foreign_backer
						}
					}
				}
				trigger_event = { id = ip_republic.86 }
			}
		}
	}
	
	option = {						# Try ostracise
		name = "ip_republic.76.c"
		trigger_event = {
			id = ip_republic.83
			days = 5
		}
		custom_tooltip = "ip_republic.76.ct"
	}
}

ip_republic.77 = {							# Oligarch Plot - Foreign Backers Ping
	type = country_event
	title = "ip_republic.77.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:ip_rep_66_69 = 1
				}
				desc = "ip_republic.77.desc_1"
			}
			triggered_desc = {
				trigger = {
					var:ip_rep_66_69 = 2
				}
				desc = "ip_republic.77.desc_2" 
			}
		}
	}
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	right_portrait = scope:ip_rep_66_foreign_backer.current_ruler
	picture = senator_conversing
	
	trigger = {
		has_land = yes
		exists = scope:ip_rep_66_protagonist
		scope:ip_rep_66_protagonist = {
			employer = root
			is_alive = yes
			prisoner = no
		}
		has_variable = ip_rep_66_foreign_support_flag
		root.var:ip_rep_66_foreign_support_flag = { has_land = yes }
	}

	immediate = {
		change_variable = {
			name = ip_rep_66_69
			add = 1
		}
		root.var:ip_rep_66_foreign_support_flag = { save_scope_as = ip_rep_66_foreign_backer }
		if = {
			limit = {
				any_country = {
					in_diplomatic_range = root
					in_diplomatic_range = scope:ip_rep_66_foreign_backer
					rank >= scope:ip_rep_66_foreign_backer.rank
					OR = {
						opinion = { target = scope:ip_rep_66_foreign_backer value < 50 }
						this.current_ruler = { is_rival = scope:ip_rep_66_foreign_backer.current_ruler }
					}
					NOR = { 
						alliance_with = scope:ip_rep_66_foreign_backer
						this.current_ruler = { is_friend = scope:ip_rep_66_foreign_backer.current_ruler }
						this = root
						opinion = { target = root value < 50 }
					}
				}
			}
			random_country = {
				limit = {
					in_diplomatic_range = root
					in_diplomatic_range = scope:ip_rep_66_foreign_backer
					rank >= scope:ip_rep_66_foreign_backer.rank
					OR = {
						opinion = { target = scope:ip_rep_66_foreign_backer value < 50 }
						this.current_ruler = { is_rival = scope:ip_rep_66_foreign_backer.current_ruler }
					}
					NOR = { 
						alliance_with = scope:ip_rep_66_foreign_backer
						this.current_ruler = { is_friend = scope:ip_rep_66_foreign_backer.current_ruler }
						this = root
					}
				}
				save_scope_as = ip_rep_66_counter_foreign
				set_variable = {
					name = ip_rep_66_foreign_support_scope_cooldown
					days = 1825 # 5 years
				}
			}
		}
	}

	option = {							# Insult
		name = "ip_republic.77.a"
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		scope:ip_rep_66_foreign_backer.current_ruler ={ add_popularity = subtract_popularity_small }
		reverse_add_opinion = { target = scope:ip_rep_66_foreign_backer modifier = ip_rep_66_insulted_ruler } 
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		if = {
			limit = { 
				any_owned_province = {
					any_neighbor_province = {
						owner = scope:ip_rep_66_foreign_backer
					}
				}
			}
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owner = scope:ip_rep_66_foreign_backer
					}
				}
				add_claim = scope:ip_rep_66_foreign_backer
			}
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_small"
	}
	
	option = {							# Patrols
		name = "ip_republic.77.b"
		add_political_influence = subtract_influence_small
		add_country_modifier = {
			name = ip_rep_66_patrols_cmod
			duration = 730
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			subtract = 2
		}
		custom_tooltip = "oligarch_plot_success_chance_future_small"
	}
	
	option = {							# Enemy of my enemy
		name = "ip_republic.77.c"
		trigger = {
			exists = scope:ip_rep_66_counter_foreign
		}
		highlight = yes
		add_treasury = {
			value = has_monthly_income
			multiply = -4
		}
		reverse_add_opinion = { target = scope:ip_rep_66_counter_foreign modifier = ip_rep_66_counter_support } 
		remove_variable = ip_rep_66_foreign_support_flag
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_balance"
		custom_tooltip = "ip_republic.77.ct"
	}
	
	option = {							# Pah
		name = "ip_republic.77.d"
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_large"
	}
}

ip_republic.78 = {							# Oligarch Plot - Military Support
	type = country_event
	title = "ip_republic.78.t"  
	desc = "ip_republic.78.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	picture = romans_marching
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		OR = {
			AND = {
				root.current_ruler.martial <= 6
				scope:ip_rep_66_protagonist_temp.martial > root.current_ruler.martial
			}
			AND = {
				scope:ip_rep_66_protagonist_temp = {
					OR = {
						has_trait = victorious
						has_trait = brave
						has_trait = conqueror
					}
				}
				root.current_ruler = {
					NOR = {
						has_trait = victorious
						has_trait = brave
						has_trait = conqueror
					}
				}
			}
			root.current_ruler = { has_trait = coward }
		}
		NOT = { has_variable = ip_rep_66_mil_cooldown }
		any_army = { exists = this }
		get_oligarch_plot_success_chance >= 15
		get_oligarch_plot_success_chance < 75
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		set_variable = {
			name = ip_rep_66_mil_cooldown
			days = 365 # 1 year
		}
	}

	option = {							# Secure loyalty
		name = "ip_republic.78.a"
		trigger = {
			current_ruler = {
				OR = {
					has_trait = victorious
					has_trait = conqueror
					martial >= 6
				}
			}
		}
		current_ruler = { add_popularity = subtract_popularity_medium }
		if = {
			limit = {
				current_ruler = {
					OR = {
						has_trait = victorious
						has_trait = conqueror
						martial >= 9
					}
				}
			}
			change_variable = {
				name = ip_rep_66_counter_support
				add = 5
			}
			custom_tooltip = "oligarch_plot_success_chance_future_small"
		}
		else_if = {
			limit = {
				current_ruler = {
					martial >= 6
					martial < 9
				}
			}
			change_variable = {
				name = ip_rep_66_counter_support
				add = 2
			}
			custom_tooltip = "oligarch_plot_success_chance_future_large"
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "ip_republic.78.at"
	}
	
	option = {							# Everyone knows we have the army's support
		name = "ip_republic.78.b"
		trigger = {
			current_ruler.num_loyal_cohorts > scope:ip_rep_66_protagonist.num_loyal_cohorts
		}
		change_variable = {
			name = ip_rep_66_counter_support
			add = 2
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "ip_republic.78.bt"
		custom_tooltip = "oligarch_plot_success_chance_future_small"
	}
	
	option = {							# Settle veterans
		name = "ip_republic.78.c"
		trigger = {
			military_experience >= 10
			OR = {
				current_ruler.num_loyal_cohorts < scope:ip_rep_66_protagonist.num_loyal_cohorts
				current_ruler.num_loyal_cohorts < 1
			}
		}
		add_military_experience = -10.0
		if = {
			limit = {
				any_owned_province = { has_province_modifier = state_owned_farmlands }
			}
			random_owned_province = {
				limit = {
					has_province_modifier = state_owned_farmlands
				}
				remove_province_modifier = state_owned_farmlands
			}
		}
		else = {
			add_country_modifier = {
				name = ip_rep_66_veteran_grants_cmod
				duration = 1825 # 5 years
			}
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_balance"
	}
	
	option = {							# Raise more troops
		name = "ip_republic.78.d"
		add_treasury = {
			value = root.has_monthly_income
			multiply = -3.5
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_balance"
	}
	
	option = {							# Do nothing
		name = "ip_republic.78.e"
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_large"
	}
}

ip_republic.79 = {							# Oligarch Plot - Close (plot dissipates)
	type = country_event
	title = "ip_republic.79.t"  
	desc = "ip_republic.79.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist

	picture = senator_conversing
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		OR = {
			NOT = {
				any_character = {
					has_variable = ip_rep_66_protagonist_flag
					employer = root
					is_alive = yes
					prisoner = no
					save_temporary_scope_as = ip_rep_66_protagonist_temp
				}
			}
			get_oligarch_plot_success_chance >= 75
		}
		trigger_if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_protagonist_flag
					OR = {
						is_alive = no
						prisoner = yes
					}
				}
			}
			any_character = {
				has_variable = ip_rep_66_protagonist_flag
				OR = {
					is_alive = no
					prisoner = yes
				}
				save_temporary_scope_as = ip_rep_66_protagonist_temp
			}
		}
		olig_plot_temp_scope_trigger = yes
	}
	
	immediate = {
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_protagonist_flag
					employer = root
					OR = {
						is_alive = no
						prisoner = yes
					}
				}
			}
			random_character = {
				limit = {
					has_variable = ip_rep_66_protagonist_flag
					employer = root
					OR = {
						is_alive = no
						prisoner = yes
					}
				}
				save_scope_as =  ip_rep_66_protagonist
			}
		}
		if = {
			limit = {
				has_variable = ip_rep_66_foreign_support_flag
				root.var:ip_rep_66_foreign_support_flag = { has_land = yes }
			}
			root.var:ip_rep_66_foreign_support_flag = {
				save_scope_as = ip_rep_66_foreign_backer
				trigger_event = { id = ip_republic.85 }
			}
		}
		ip_rep_66_variable_effect = yes
	}

	option = {							# Phew
		name = "ip_republic.79.a"
		current_ruler = { add_popularity = popularity_medium }
	}
	
	option = {							# Jibes
		name = "ip_republic.79.b"
		trigger = {
			exists = scope:ip_rep_66_protagonist
			scope:ip_rep_66_protagonist = { is_alive = yes }
			current_ruler = { can_get_rivals = yes }
			scope:ip_rep_66_protagonist = { can_get_rivals = yes }
		}
		current_ruler = { add_popularity = subtract_popularity_small }
		scope:ip_rep_66_protagonist = { add_rival = root.current_ruler }
	}
	
	option = {							# Assassinate
		name = "ip_republic.79.c"
		trigger = { 
			exists = scope:ip_rep_66_protagonist
			scope:ip_rep_66_protagonist = { is_alive = yes }
		}
		current_ruler = { add_popularity = subtract_popularity_large }
		scope:ip_rep_66_protagonist = {
			death = { 
				killer = root.current_ruler 
				death_reason = death_execution 
			}
		}
		add_tyranny = tyranny_large
	}
	
	option = {							# Ostracise
		name = "ip_republic.79.d"
		trigger = {
			exists = scope:ip_rep_66_protagonist
			scope:ip_rep_66_protagonist = { is_alive = yes }
			OR = {
				exists = scope:ip_rep_66_foreign_backer
				any_country = { in_diplomatic_range = root }
			}
		}
		current_ruler = { add_popularity = popularity_small }
		if = {
			limit = { 
				NOT = { exists = scope:ip_rep_66_foreign_backer }
			}
			random_country = {
				limit = {
					in_diplomatic_range = root
					NOT = { alliance_with = root }
				}
				weight = {
					modifier = {
						factor = 5
						any_owned_province = {
							any_neighbor_province = {
								owner = root
							}
						}
					}
					modifier = {
						factor = 5
						war_with = root
					}
				}
				save_scope_as = ip_rep_66_foreign_backer
			}
		}
		scope:ip_rep_66_protagonist = { banish = scope:ip_rep_66_foreign_backer }
		add_tyranny = tyranny_small
	}

	after = {
		if = {
			limit = { 
				any_character = { has_variable = ip_rep_66_protagonist_flag }
			}
			random_character = { 
				limit = { has_variable = ip_rep_66_protagonist_flag }
				remove_Variable = ip_rep_66_protagonist_flag
			}
		}
	}
}

ip_republic.80 = {							# Oligarch Plot - Counter Support Gathered
	type = country_event
	title = "ip_republic.80.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					var:ip_rep_66_80 = 1
				}
				desc = "ip_republic.80.desc_1"
			}
			triggered_desc = {
				trigger = {
					var:ip_rep_66_80 = 2
				}
				desc = "ip_republic.80.desc_2" 
			}
		}
	}
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_counter

	picture = senator_conversing
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		exists = scope:ip_rep_66_protagonist
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		any_character = {
			is_alive = yes
			is_ruler = no
			prisoner = no
			power_base > 5
			NOR = {
				has_character_modifier = foreign_citizen
				has_variable = ip_rep_66_protagonist_flag
				has_variable = ip_rep_66_counter_flag
				has_variable = ip_rep_66_counter_char_cooldown
				has_variable = ip_rep_66_supporter_flag
				is_rival = root.current_ruler
			}
			OR = {
				OR = {
					wealth > 50
					has_tech_office = yes
					has_any_office = yes
					is_general = yes
					is_admiral = yes
				}
				AND = {
					is_friend = root.current_ruler
					wealth > 50
				}
			}
			trigger_if = {
				limit = {
					employer = { gender_equality = no }
				}
				is_female = no
			}
		}
		any_character = { has_variable = ip_rep_66_supporter_flag }
		NOT = { has_variable = ip_rep_66_counter_cooldown }
		var:ip_rep_66_80 < 2
	}

	immediate = {
		set_variable = {
			name = ip_rep_66_counter_cooldown
			days = 60 # 2 months 
		}
		change_variable = {
			name = ip_rep_66_80
			add = 1
		}
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		random_character = {
			limit = {
				is_alive = yes
				is_ruler = no
				prisoner = no
				power_base > 5
				NOR = {
					has_character_modifier = foreign_citizen
					has_variable = ip_rep_66_protagonist_flag
					has_variable = ip_rep_66_counter_flag
					has_variable = ip_rep_66_counter_char_cooldown
					has_variable = ip_rep_66_supporter_flag
					is_rival = root.current_ruler
				}
				OR = {
					OR = {
						wealth > 50
						has_tech_office = yes
						has_any_office = yes
						is_general = yes
						is_admiral = yes
					}
					AND = {
						is_friend = root.current_ruler
						wealth > 50
					}
				}
				trigger_if = {
					limit = {
						employer = { gender_equality = no }
					}
					is_female = no
				}
			}
			weight = { title_importance_modifier = yes }
			save_scope_as = ip_rep_66_counter
		}
	}

	option = {							# Bribe
		name = "ip_republic.80.a"
		trigger = {
			NOT = { 
				scope:ip_rep_66_counter = { is_friend = root.current_ruler }
			}
			scope:ip_rep_66_counter.corruption > 10
		}
		current_ruler = { add_popularity = subtract_popularity_medium }
		current_ruler = { add_corruption = corruption_medium }
		scope:ip_rep_66_counter = {
			add_gold = {
				value = root.has_monthly_income
				multiply = 2.4
			}
			add_loyalty = loyalty_support_accepted_1
			set_variable = ip_rep_66_counter_flag
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -2.4
		}
		if = {
			limit = {
				scope:ip_rep_66_counter = {
					OR = {
						power_base > 10
						wealth > 500
						is_governor = yes
						is_general = yes
						is_admiral = yes
					}
				}
			}
			change_variable = {
				name = ip_rep_66_counter_support
				add = 5
			}
			custom_tooltip = "oligarch_plot_success_chance_future_large"
		}
		else = {
			change_variable = {
				name = ip_rep_66_counter_support
				add = 2
			}
			custom_tooltip = "oligarch_plot_success_chance_future_small"
		}
	}
	
	option = {							# Pledge
		name = "ip_republic.80.b"
		trigger = {
			NOT = {
				scope:ip_rep_66_counter = { is_friend = root.current_ruler }
			}
			scope:ip_rep_66_counter.corruption < 5
		}
		current_ruler = { add_popularity = subtract_popularity_medium }
		scope:ip_rep_66_counter = {
			set_variable = ip_rep_66_counter_flag
			if = {
				limit = { loyalty < 95 }
				add_loyalty = loyalty_support_accepted_2
			}
		}
		custom_tooltip = "ip_republic.80.bt1"
		if = {
			limit = {
				scope:ip_rep_66_counter = {
					OR = {
						power_base > 10
						wealth > 500
						is_governor = yes
						is_general = yes
						is_admiral = yes
					}
				}
			}
			change_variable = {
				name = ip_rep_66_counter_support
				add = 5
			}
			custom_tooltip = "oligarch_plot_success_chance_future_large"
		}
		else = {
			change_variable = {
				name = ip_rep_66_counter_support
				add = 2
			}
			custom_tooltip = "oligarch_plot_success_chance_future_small"
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "ip_republic.80.bt2"
	}
	
	option = {							# Friend
		name = "ip_republic.80.c"
		trigger = {
			scope:ip_rep_66_counter = { is_friend = root.current_ruler }
		}
		current_ruler = { add_popularity = subtract_popularity_medium }
		scope:ip_rep_66_counter = { set_variable = ip_rep_66_counter_flag }
		if = {
			limit = {
				scope:ip_rep_66_counter = {
					OR = {
						power_base > 10
						wealth > 500
						is_governor = yes
						is_general = yes
						is_admiral = yes
					}
				}
			}
			change_variable = {
				name = ip_rep_66_counter_support
				add = 5
			}
			custom_tooltip = "oligarch_plot_success_chance_future_large"
		}
		else = {
			change_variable = {
				name = ip_rep_66_counter_support
				add = 2
			}
			custom_tooltip = "oligarch_plot_success_chance_future_small"
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
	}
	
	option = {							# No use
		name = "ip_republic.80.d"
		trigger = {
			OR = {
				NOT = { 
					scope:ip_rep_66_counter = { is_friend = root.current_ruler }
				}
				scope:ip_rep_66_counter.loyalty < 80
			}
		}
		current_ruler = { add_popularity = popularity_medium }
		scope:ip_rep_66_counter = {
			add_loyalty = loyalty_support_refused
			set_variable = {
				name = ip_rep_66_counter_char_cooldown
				days = 365 # 1 year
			}
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 2
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_small"
	}
}

ip_republic.81 = {							# Oligarch Plot - Support Auction 
	type = country_event
	title = "ip_republic.81.t"  
	desc = "ip_republic.81.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_auction
	picture = romans_marching
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		any_character = {
			is_alive = yes
			is_ruler = no
			prisoner = no
			power_base > 10
			OR = { 
				is_general = yes
				is_admiral = yes
				is_governor = yes
			}
			loyalty < 80
			trigger_if = {
				limit = {
					employer = { gender_equality = no }
				}
				is_female = no
			}
			NOR = {
				has_character_modifier = foreign_citizen
				has_variable = ip_rep_66_protagonist_flag
				has_variable = ip_rep_66_counter_flag
				has_variable = ip_rep_66_supporter_flag
				is_friend = root.current_ruler
				is_rival = root.current_ruler
			}
		}
		NOT = { has_variable = ip_rep_66_auction_cooldown }
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		random_character = {
			limit = {
				is_alive = yes
				is_ruler = no
				prisoner = no
				power_base > 10
				OR = { 
					is_general = yes
					is_admiral = yes
					is_governor = yes
				}
				loyalty < 80
				trigger_if = {
					limit = {
						employer = { gender_equality = no }
					}
					is_female = no
				}
				NOR = {
					has_character_modifier = foreign_citizen
					has_variable = ip_rep_66_counter_flag
					has_variable = ip_rep_66_supporter_flag
					is_friend = root.current_ruler
					is_rival = root.current_ruler
				}
			}
			save_scope_as = ip_rep_66_auction
		}
		set_variable = {
			name = ip_rep_66_auction_cooldown
			days = 365 # 1 year
		}
	}

	option = {							# Buy loyalty
		name = "ip_republic.81.a"
		current_ruler = { add_corruption = corruption_large }
		scope:ip_rep_66_auction = {
			add_loyalty = loyalty_bought_support
			add_corruption = corruption_large
			set_variable = ip_rep_66_counter_flag
			add_gold = {
				value = root.has_monthly_income
				multiply = 3
			}
		}
		add_treasury = {
			value = has_monthly_income
			multiply = -3
		}
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_counter_support
			add = 5
		}
		custom_tooltip = "oligarch_plot_success_chance_future_large"
	}
	
	option = {							# Relieve them
		name = "ip_republic.81.b"
		trigger = {
			scope:ip_rep_66_auction = {
				OR = {
					has_any_office = yes
					has_tech_office = yes
				}
			}
		}
		highlight = yes
		current_ruler = { add_popularity = popularity_medium }
		scope:ip_rep_66_auction = {
			remove_all_offices = yes
			add_loyalty = loyalty_removed_office
		}
		add_tyranny = tyranny_medium
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 2
		}
		custom_tooltip = "ip_republic.81.bt"
		custom_tooltip = "oligarch_plot_success_chance_subtract_small"
	}
	
	option = {							# Nothing
		name = "ip_republic.81.c"
		trigger_event = {
			on_action = ip_rep_66_development_on_action
			days = { 20 40 }
		}
		change_variable = {
			name = ip_rep_66_plot_support
			add = 5
		}
		custom_tooltip = "oligarch_plot_success_chance_subtract_large"
	}
}

ip_republic.82 = {							# Oligarch Plot - Confront Outcome 
	type = country_event
	title = "ip_republic.82.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					local_var:plot_outcome = 0
					NAND = {
						scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
						OR = {
							AND = {
								has_variable = ip_rep_66_foreign_support_flag
								root.var:ip_rep_66_foreign_support_flag = { has_land = yes }
							}
							any_country = { in_diplomatic_range = yes }
						}
					}
				}
				desc = "ip_republic.82.desc_1"
			}
			triggered_desc = {
				trigger = {
					AND = {
						scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
						OR = {
							AND = {
								has_variable = ip_rep_66_foreign_support_flag
								root.var:ip_rep_66_foreign_support_flag = { has_land = yes }
							}
							any_country = { in_diplomatic_range = yes }
						}
					}
				}
				desc = "ip_republic.82.desc_2" 
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = "ip_republic.82.desc_3" 
			}
		}
	}
	
	left_portrait = current_ruler
	left_portrait = scope:ip_rep_66_civil_war_general
	right_portrait = scope:ip_rep_66_protagonist
	
	picture = trial_govtype
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		set_local_variable = {
			name = ip_rep_66_outcome
			value = { integer_range = { min = 1 max = 100 } }
		}
		if = {
			limit = { local_var:ip_rep_66_outcome <= get_oligarch_plot_success_chance }
			set_local_variable = {
				name = plot_outcome
				value = 0
			}
		}
		else = {
			set_local_variable = {
				name = plot_outcome
				value = 1
			}
		}
		if = {
			limit = {
				has_variable = ip_rep_66_foreign_support_flag
				root.var:ip_rep_66_foreign_support_flag = { has_land = yes }
			}
			root.var:ip_rep_66_foreign_support_flag = { save_scope_as = ip_rep_66_foreign_backer }
		}
		if = {
			limit = { 
				NOT = { exists = scope:ip_rep_66_foreign_backer }
				any_country = { in_diplomatic_range = yes }
			}
			random_country = {
				limit = { in_diplomatic_range = yes }
				save_scope_as = ip_rep_66_foreign_backer
			}
		}
		if = {
			limit = {
				local_var:plot_outcome = 0
			}
			random_list = {
				30 = {
					trigger = {
						exists = scope:ip_rep_66_protagonist
					}
					modifier = {
						factor = 5
						scope:ip_rep_66_protagonist.power_base > 10
					}
					modifier = {
						factor = 5
						scope:ip_rep_66_protagonist.power_base > 20
					}
					modifier = {
						factor = 5
						scope:ip_rep_66_protagonist.wealth > 100
					}
					modifier = {
						factor = 5
						scope:ip_rep_66_protagonist.wealth > 200
					}
					modifier = {
						factor = 5
						scope:ip_rep_66_protagonist.wealth > 400
					}
					modifier = {
						factor = 5
						scope:ip_rep_66_protagonist.wealth > 800
					}
					modifier = {
						factor = 5
						scope:ip_rep_66_protagonist.wealth > 1200
					}
					scope:ip_rep_66_protagonist = { set_variable = ip_rep_66_fled }
				}
				70 = {

				}
			}
		}
		if = {
			limit = {
				local_var:plot_outcome = 1
				any_character = {
					NOT = { has_variable = ip_rep_66_supporter_flag }
					OR = {
						loyalty >= 60
						has_variable = ip_rep_66_counter_flag
					}
					martial > root.current_ruler.martial
					martial >= 8
					trigger_if = {
						limit = {
							employer = {
								gender_equality = no
							}
						}
						is_female = no
					}
				}
			}
			ordered_character = {
				limit = {
					NOT = { has_variable = ip_rep_66_supporter_flag }
					OR = {
						loyalty >= 60
						has_variable = ip_rep_66_counter_flag
					}
					martial > root.current_ruler.martial
					martial >= 8
					trigger_if = {
						limit = {
							employer = {
								gender_equality = no
							}
						}
						is_female = no
					}
				}
				order_by = martial
				save_scope_as = ip_rep_66_civil_war_general
			}
		}
	}

	option = {							# Execute
		name = "ip_republic.82.a"
		trigger = {
			local_var:plot_outcome = 0
			NAND = {
				scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
				OR = {
					exists = scope:ip_rep_66_foreign_backer
					any_country = { in_diplomatic_range = yes }
				}
			}
		}
		scope:ip_rep_66_protagonist = {
			death = { killer = root.current_ruler death_reason = death_execution }
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_supporter_flag
				}
			}
			every_character = {
				limit = {
					has_variable = ip_rep_66_supporter_flag
				}
				death = { killer = root.current_ruler death_reason = death_execution } 
			}
		}
		add_tyranny = tyranny_large
		ip_rep_66_variable_effect = yes
	}
	
	option = {							# Banish
		name = "ip_republic.82.b"
		trigger = {
			local_var:plot_outcome = 0
			NAND = {
				scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
				OR = {
					exists = scope:ip_rep_66_foreign_backer
					any_country = { in_diplomatic_range = yes }
				}
			}
			exists = scope:ip_rep_66_foreign_backer
		}
		scope:ip_rep_66_protagonist = { banish = scope:ip_rep_66_foreign_backer }
		if = {
			limit = {
				any_character = { has_variable = ip_rep_66_supporter_flag }
			}
			every_character = {
				limit = { has_variable = ip_rep_66_supporter_flag }
				banish = scope:ip_rep_66_foreign_backer 
			}
		}
		add_tyranny = tyranny_small
		ip_rep_66_variable_effect = yes
	}
	
	option = {							# Imprison
		name = "ip_republic.82.c"
		trigger = {
			local_var:plot_outcome = 0
			NAND = {
				scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
				OR = {
					exists = scope:ip_rep_66_foreign_backer
					any_country = { in_diplomatic_range = yes }
				}
			}
		}
		imprison = { target = scope:ip_rep_66_protagonist }
		if = {
			limit = {
				exists = scope:ip_rep_66_supporter_1
				scope:ip_rep_66_supporter_1 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			imprison = { target = scope:ip_rep_66_supporter_1 }
		}
		if = {
			limit = {
				exists = scope:ip_rep_66_supporter_2
				scope:ip_rep_66_supporter_2 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			imprison = { target = scope:ip_rep_66_supporter_2 }
		}
		ip_rep_66_variable_effect = yes
	}
	
	option = {							# Pardon
		name = "ip_republic.82.d"
		trigger = {
			local_var:plot_outcome = 0
			NAND = {
				scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
				OR = {
					exists = scope:ip_rep_66_foreign_backer
					any_country = { in_diplomatic_range = yes }
				}
			}
			current_ruler = { 
				OR = {
					has_trait = merciful 
					has_trait = forgiving
				}
			}
		}
		highlight = yes
		current_ruler = { add_popularity = popularity_huge }
		scope:ip_rep_66_protagonist = { add_loyalty = loyalty_plot_laughed_off }
		if = {
			limit = {
				any_character = { has_variable = ip_rep_66_supporter_flag }
			}
			every_character = {
				limit = { has_variable = ip_rep_66_supporter_flag }
				add_loyalty = loyalty_plot_laughed_off
			}
		}
		if = {
			limit = {
				current_ruler = { has_trait = merciful }
			}
			custom_tooltip = "merciful_tooltip"
		}
		else_if = {
			limit = {
				current_ruler = { has_trait = forgiving }
			}
			custom_tooltip = "forgiving_tooltip"
		}
		ip_rep_66_variable_effect = yes
	}
	
	option = {							# Fled
		name = "ip_republic.82.e"
		trigger = {
			local_var:plot_outcome = 0
			scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
			exists = scope:ip_rep_66_foreign_backer
		}
		scope:ip_rep_66_protagonist = { banish = scope:ip_rep_66_foreign_backer }
		if = {
			limit = {
				any_character = { has_variable = ip_rep_66_supporter_flag }
			}
			every_character = {
				limit = { has_variable = ip_rep_66_supporter_flag }
				banish = scope:ip_rep_66_foreign_backer 
			}
		}
		scope:ip_rep_66_foreign_backer = {
			trigger_event = {
				id = ip_republic.85
			}
		}
		custom_tooltip = ip_republic.82.et
		ip_rep_66_variable_effect = yes
	}
	
	option = {							# Civil war
		name = "ip_republic.82.f"
		trigger = {
			local_var:plot_outcome = 1
		}
		current_ruler = { save_scope_as = ip_rep_66_civil_war_general }
		set_variable = ip_rep_66_civil_war_defender
		start_civil_war = scope:ip_rep_66_protagonist
		scope:ip_rep_66_protagonist.employer = { set_variable = ip_rep_66_civil_war_attacker }
		hidden_effect = {
			if = {
				limit = {
					any_character = {
						has_variable = ip_rep_66_supporter_flag
						prisoner = no
					}
				}
				every_character = {
					limit = {
						has_variable = ip_rep_66_supporter_flag
						prisoner = no
					}
					move_country = scope:ip_rep_66_protagonist.employer
					set_as_minor_character = this
				}
			}
		}
		if = {
			limit = {
				has_variable = ip_rep_66_foreign_support_flag
				exists = scope:ip_rep_66_foreign_backer
			}
			scope:ip_rep_66_foreign_backer = {
				trigger_event = { id = ip_republic.85 }
			}
		}
		if = {
			limit = {
				any_country = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						capital_scope.region = scope:ip_rep_66_civil_war_general.employer.capital_scope.region
					}
					NOR = { 
						this = root
						this = scope:ip_rep_66_foreign_backer	
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						capital_scope.region = scope:ip_rep_66_civil_war_general.employer.capital_scope.region
					}
					NOR = { 
						this = root
						this = scope:ip_rep_66_foreign_backer	
					}
				}
				trigger_event = { id = ip_republic.86 }
			}
		}
		ip_rep_66_variable_effect = yes
	}
	
	option = {							# Civil war replace leader
		name = "ip_republic.82.g"
		trigger = {
			local_var:plot_outcome = 1
			exists = scope:ip_rep_66_civil_war_general
		}
		set_variable = ip_rep_66_civil_war_defender
		set_as_ruler = scope:ip_rep_66_civil_war_general
		add_stability = -5
		start_civil_war = scope:ip_rep_66_protagonist
		scope:ip_rep_66_protagonist.employer = { set_variable = ip_rep_66_civil_war_attacker }
		hidden_effect = {
			if = {
				limit = {
					any_character = {
						has_variable = ip_rep_66_supporter_flag
						prisoner = no
					}
				}
				every_character = {
					limit = {
						has_variable = ip_rep_66_supporter_flag
						prisoner = no
					}
					move_country = scope:ip_rep_66_protagonist.employer
					set_as_minor_character = this
				}
			}
		}
		if = {
			limit = {
				has_variable = ip_rep_66_foreign_support_flag
				exists = scope:ip_rep_66_foreign_backer
			}
			scope:ip_rep_66_foreign_backer = {
				trigger_event = { id = ip_republic.85 }
			}
		}
		if = {
			limit = {
				any_country = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						capital_scope.region = scope:ip_rep_66_civil_war_general.employer.capital_scope.region
					}
					NOR = { 
						this = root
						this = scope:ip_rep_66_foreign_backer	
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						capital_scope.region = scope:ip_rep_66_civil_war_general.employer.capital_scope.region
					}
					NOR = { 
						this = root
						this = scope:ip_rep_66_foreign_backer	
					}
				}
				trigger_event = { id = ip_republic.86 }
			}
		}
		ip_rep_66_variable_effect = yes
	}
}

ip_republic.83 = {							# Oligarch Plot - Ostracise Attempt 
	type = country_event
	title = "ip_republic.83.t"  
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					local_var:ostracise_outcome = 1
				}
				desc = "ip_republic.83.desc_1"
			}
			triggered_desc = {
				trigger = {
					local_var:ostracise_outcome = 2
				}
				desc = "ip_republic.83.desc_2" 
			}
			triggered_desc = {
				trigger = {
					local_var:ostracise_outcome = 3
				}
				desc = "ip_republic.83.desc_2" 
			}
		}
	}
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	
	picture = trial_govtype
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
	}

	immediate = {
		if = {
			limit = {
				has_variable = ip_rep_66_foreign_support_flag
				root.var:ip_rep_66_foreign_support_flag = { has_land = yes }
			}
			root.var:ip_rep_66_foreign_support_flag = { save_scope_as = ip_rep_66_foreign_backer }
		}
		else_if = {
			limit = { 
				NOT = { exists = scope:ip_rep_66_foreign_backer }
				any_country = { in_diplomatic_range = yes }
			}
			random_country = {
				limit = { in_diplomatic_range = yes }
				save_scope_as = ip_rep_66_foreign_backer
			}
		}
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		if = {
			limit = {
				root.current_ruler.popularity > get_ostracise_popularity_2
			}
			set_local_variable = {
				name = ostracise_outcome
				value = 1
			}
		}
		else_if = {
			limit = {
				scope:ip_rep_66_protagonist.popularity > get_ostracise_popularity_1
			}
			set_local_variable = {
				name = ostracise_outcome
				value = 3
			}
		}
		else = {
			set_local_variable = {
				name = ostracise_chance
				value = { integer_range = { min = 1 max = 100 } }
			}
			if = {
				limit = { 
					AND = {
						local_var:ostracise_chance <= root.current_ruler.popularity
						local_var:ostracise_chance <= scope:ip_rep_66_protagonist.popularity
					}
					any_character = {
						is_alive = yes
						trigger_if = {
							limit = {
								employer = {
									gender_equality = no
								}
							}
							is_female = no
						}
						NOR = {
							this = root.current_ruler
							this = scope:ip_rep_66_protagonist
							has_variable = ip_rep_66_supporter_flag
							has_variable = ip_rep_66_counter_flag
						}
					}
				}
				ordered_character = {
					limit = {
						is_alive = yes
						trigger_if = {
							limit = {
								employer = {
									gender_equality = no
								}
							}
							is_female = no
						}
						NOR = {
							this = root.current_ruler
							this = scope:ip_rep_66_protagonist
							has_variable = ip_rep_66_supporter_flag
							has_variable = ip_rep_66_counter_flag
						}
					}
					order_by = {
						value = 0 # For clarity
						subtract = popularity
					}
					save_scope_as = ip_rep_66_scapegoat
				}
				set_local_variable = {
					name = ostracise_outcome
					value = 2
				}
			}
			else = {
				random_list = {
					5 = {
						set_local_variable = {
							name = ostracise_outcome
							value = 1
						}
					}
					5 = {
						set_local_variable = {
							name = ostracise_outcome
							value = 3
						}
					}
				}
			}
		}
	}
	
	option = {
		name = ip_republic.83.a
		trigger = {
			NOT = { local_var:ostracise_outcome = 1 }
		}
		current_ruler = { save_scope_as = ip_rep_66_overthrown_ruler }
		set_as_ruler = scope:ip_rep_66_protagonist
		if = {
			limit = {
				any_country = {
					OR = {
						any_owned_province = {
							any_neighbor_province = {
								owner = root
							}
						}
						in_diplomatic_range = yes
					}
				}
			}
			random_country = {
				limit = {
					OR = {
						any_owned_province = {
							any_neighbor_province = {
								owner = root
							}
						}
						in_diplomatic_range = yes
					}
				}
				save_scope_as = ip_rep_84_banish
			}
			scope:ip_rep_66_overthrown_ruler = { banish = scope:ip_rep_84_banish }
		}
		else = { 
			hidden_effect = {
				scope:ip_rep_66_overthrown_ruler = {
					death = {
						killer = scope:ip_rep_66_protagonist
						death_reason = death_obscurity
					}
				}
			}
		}
		change_government = oligarchic_republic
		custom_tooltip = "ip_republic.76.bt"
		add_stability = -25
		ip_rep_66_variable_effect = yes
	}
	
	option = {
		name = ip_republic.83.b
		trigger = {
			NOT = { local_var:ostracise_outcome = 1 }
		}
		current_ruler = { save_scope_as = ip_rep_66_civil_war_general }
		set_variable = ip_rep_66_civil_war_defender
		start_civil_war = scope:ip_rep_66_protagonist
		scope:ip_rep_66_protagonist.employer = { set_variable = ip_rep_66_civil_war_attacker }
		ip_rep_66_variable_effect = yes
	}
	
	option = {
		name = ip_republic.83.c
		trigger = {
			current_ruler = { 
				NOT = { has_trait = lunatic }
			}
			local_var:ostracise_outcome = 1
		}
		if = {
			limit = { exists = scope:ip_rep_66_foreign_backer }
			scope:ip_rep_66_protagonist = { banish = scope:ip_rep_66_foreign_backer }
		}
		else = {
			scope:ip_rep_66_protagonist = {
				death = { death_reason = death_obscurity }
			}
		}
		custom_tooltip = ip_republic.83.ct
		ip_rep_66_variable_effect = yes
		add_stability = 5.0
	}
	
	option = {
		name = ip_republic.83.d
		highlight = yes
		trigger = {
			current_ruler = { has_trait = lunatic }
			local_var:ostracise_outcome = 1
		}
		custom_tooltip = lunatic_tooltip
		current_ruler = { add_popularity = subtract_popularity_small }
		if = {
			limit = { 
				NOT = { exists = scope:ip_rep_66_foreign_backer }
				any_country = { in_diplomatic_range = yes }
			}
			random_country = {
				limit = { in_diplomatic_range = yes }
				save_scope_as = ip_rep_66_foreign_backer
			}
		}
		scope:ip_rep_66_protagonist = { banish = scope:ip_rep_66_foreign_backer }
		custom_tooltip = ip_republic.83.ct
		ip_rep_66_variable_effect = yes
		add_stability = 5.0
	}
}

ip_republic.84 = {							# Oligarch Plot - Close (oligarchs seize power)
	type = country_event
	title = "ip_republic.84.t"  
	desc = "ip_republic.84.desc"
	
	left_portrait = scope:ip_rep_66_protagonist
	left_portrait = scope:ip_rep_66_supporter_1
	left_portrait = scope:ip_rep_66_supporter_2
	right_portrait = scope:ip_rep_66_overthrown_ruler
	right_portrait = scope:ip_rep_66_counter_1
	right_portrait = scope:ip_rep_66_counter_2
	picture = assassination
	
	trigger = {
		has_land = yes
		is_republic = yes
		NOR = {
			has_co_ruler_government = yes
			government = oligarchic_republic
		}
		any_character = {
			has_variable = ip_rep_66_protagonist_flag
			employer = root
			is_alive = yes
			prisoner = no
			save_temporary_scope_as = ip_rep_66_protagonist_temp
		}
		olig_plot_temp_scope_trigger = yes
		get_oligarch_plot_success_chance < 15
	}

	immediate = {
		current_ruler = {
			save_scope_as = ip_rep_66_overthrown_ruler
		}
		random_character = {
			limit = {
				has_variable = ip_rep_66_protagonist_flag
				employer = root
				is_alive = yes
				prisoner = no
			}
			save_scope_as = ip_rep_66_protagonist
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_counter_flag
				}
			}
			random_character = {
				limit = { has_variable = ip_rep_66_counter_flag }
				save_scope_as = ip_rep_66_counter_1
			}
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_counter_flag
					NOT = { this = scope:ip_rep_66_counter_1 }
				}
			}
			random_character = {
				limit = { 
					has_variable = ip_rep_66_counter_flag
					NOT = { this = scope:ip_rep_66_counter_1 }
				}
				save_scope_as = ip_rep_66_counter_2
			}
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_supporter_flag
				}
			}
			random_character = {
				limit = { has_variable = ip_rep_66_supporter_flag }
				save_scope_as = ip_rep_66_supporter_1
			}
		}
		if = {
			limit = {
				any_character = {
					has_variable = ip_rep_66_supporter_flag
					NOT = { this = scope:ip_rep_66_supporter_1 }
				}
			}
			random_character = {
				limit = { 
					has_variable = ip_rep_66_supporter_flag
					NOT = { this = scope:ip_rep_66_supporter_1 }
				}
				save_scope_as = ip_rep_66_supporter_2
			}
		}
		set_as_ruler = scope:ip_rep_66_protagonist
		change_government = oligarchic_republic
		add_stability = -25
		if = {
			limit = {
				scope:ip_rep_66_overthrown_ruler = {
					OR = {
						has_trait = wise
						has_trait = shrewd
						has_trait = cautious
						has_trait = intelligent
						has_trait = crafty
						has_trait = suspicious
					}
				}
				any_country = {
					OR = {
						any_owned_province = {
							any_neighbor_province = {
								owner = root
							}
						}
						in_diplomatic_range = yes
					}
				}
			}
			random = {
				chance = 50
				scope:ip_rep_66_overthrown_ruler = {
					set_variable = {
						name = ip_rep_84_escape_flag
					} 
				}
			}
			random_country = {
				limit = {
					OR = {
						any_owned_province = {
							any_neighbor_province = {
								owner = root
							}
						}
						in_diplomatic_range = yes
					}
				}
				save_scope_as = ip_rep_84_banish
			}
		}
		else_if = {
			limit = {
				scope:ip_rep_66_overthrown_ruler = {
					OR = {
						has_trait = wise
						has_trait = shrewd
						has_trait = cautious
						has_trait = intelligent
						has_trait = crafty
						has_trait = suspicious
					}
				}
			}
			random = {
				chance = 50
				scope:ip_rep_66_overthrown_ruler = {
					set_variable = {
						name = ip_rep_84_escape_flag
					} 
					hidden_effect = {
						death = {
							killer = scope:ip_rep_66_protagonist
							death_reason = death_obscurity
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_variable = ip_rep_66_foreign_support_flag
				exists = scope:ip_rep_66_foreign_backer
			}
			scope:ip_rep_66_foreign_backer = {
				trigger_event = { id = ip_republic.85 }
			}
		}
		if = {
			limit = {
				any_country = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						this.capital_scope.region = scope:ip_rep_66_protagonist.employer.capital_scope.region
					}
					NOR = { 
						this = root
						AND ={
							exists = scope:ip_rep_66_foreign_backer
							this = scope:ip_rep_66_foreign_backer
						}	
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
						this.capital_scope.region = scope:ip_rep_66_protagonist.employer.capital_scope.region
					}
					NOR = { 
						this = root
						AND ={
							exists = scope:ip_rep_66_foreign_backer
							this = scope:ip_rep_66_foreign_backer
						}	
					}
				}
				trigger_event = { id = ip_republic.86 }
			}
		}
		ip_rep_66_variable_effect = yes
	}

	option = {							# Merciful overthrow
		name = "ip_republic.84.a"
		trigger = {
			scope:ip_rep_66_overthrown_ruler = {
				NOR = {
					has_variable = ip_rep_84_escape_flag
					has_trait = wise
					has_trait = shrewd
					has_trait = cautious
					has_trait = intelligent
					has_trait = crafty
					has_trait = suspicious
				}
			}
			scope:ip_rep_66_protagonist = {
				OR = {
					has_trait = merciful
					has_trait = forgiving
					has_trait = kindly
					has_trait = easygoing
				}
			}
		}
		highlight = yes
		scope:ip_rep_66_overthrown_ruler = { add_loyalty = loyalty_merciful_oligarch }
		custom_tooltip = "ip_republic.84.at"
	}
	
	option = {							# Overthrow
		name = "ip_republic.84.b"
		trigger = {
			scope:ip_rep_66_overthrown_ruler = {
				NOT = { has_variable = ip_rep_84_escape_flag }
			}
		}
		imprison = { target = scope:ip_rep_66_overthrown_ruler }
		if = {
			limit = {
				exists = scope:ip_rep_66_counter_1
				scope:ip_rep_66_counter_1 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			imprison = { target = scope:ip_rep_66_counter_1 }
		}
		if = {
			limit = {
				exists = scope:ip_rep_66_counter_2
				scope:ip_rep_66_counter_2 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			imprison = { target = scope:ip_rep_66_counter_2 }
		}
		add_tyranny = tyranny_large
	}
	
	option = {						# Harsh overthrow
		name = "ip_republic.84.c"
		trigger = {
			scope:ip_rep_66_overthrown_ruler = {
				NOT = { has_variable = ip_rep_84_escape_flag }
			}
			scope:ip_rep_66_protagonist = {
				OR = {
					has_trait = harsh
					has_trait = arbitrary
					has_trait = vengeful
					has_trait = cruel
				}
			}
		}
		highlight = yes
		scope:ip_rep_66_overthrown_ruler = {
			death = { 
				killer = scope:ip_rep_66_protagonist
				death_reason = death_execution
			}
		}
		if = {
			limit = {
				exists = scope:ip_rep_66_counter_1
				scope:ip_rep_66_counter_1 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			scope:ip_rep_66_counter_1 = {
				death = { 
					killer = scope:ip_rep_66_protagonist
					death_reason = death_execution
				}
			}
		}
		if = {
			limit = {
				exists = scope:ip_rep_66_counter_2
				scope:ip_rep_66_counter_2 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			scope:ip_rep_66_counter_2 = {
				death = {
					killer = scope:ip_rep_66_protagonist
					death_reason = death_execution
				}
			}
		}
		add_tyranny = tyranny_huge
		custom_tooltip = "ip_republic.84.ct"
	}
	
	option = {						# Escape
		name = "ip_republic.84.d"
		trigger = {
			scope:ip_rep_66_overthrown_ruler = { has_variable = ip_rep_84_escape_flag }
			exists = scope:ip_rep_84_banish
		}
		scope:ip_rep_66_overthrown_ruler = {
			banish = scope:ip_rep_84_banish
		}
		if = {
			limit = {
				exists = scope:ip_rep_66_counter_1
				scope:ip_rep_66_counter_1 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			scope:ip_rep_66_counter_1 = {
				banish = scope:ip_rep_84_banish
			}
		}
		if = {
			limit = {
				exists = scope:ip_rep_66_counter_2
				scope:ip_rep_66_counter_2 = {
					is_alive = yes
					prisoner = no
					employer = root
				}
			}
			scope:ip_rep_66_counter_2 = {
				banish = scope:ip_rep_84_banish
			}
		}
		scope:ip_rep_66_overthrown_ruler = { 
			remove_variable = ip_rep_84_escape_flag 
		}
	}

	after = {
		if = {
			limit = { 
				any_character = { has_variable = ip_rep_66_protagonist_flag }
			}
			random_character = { 
				limit = { has_variable = ip_rep_66_protagonist_flag }
				remove_Variable = ip_rep_66_protagonist_flag
			}
		}
	}
}

ip_republic.85 = {							# Foreign backer update
	type = country_event
	title = "ip_republic.85.t"  
	desc = {
		first_valid = {
			triggered_desc = {		# Successful coup
				trigger = {
					scope:ip_rep_66_protagonist.employer = {
						current_ruler = scope:ip_rep_66_protagonist
					}
				}
				desc = "ip_republic.85.desc_1"
			}
			triggered_desc = {		# Unsuccessful coup
				trigger = {
					NOT = {
						scope:ip_rep_66_protagonist.employer = {
							current_ruler = scope:ip_rep_66_protagonist
						}
					}
				}
				desc = "ip_republic.85.desc_2" 
			}
			triggered_desc = {		# Fled
				trigger = {
					NOT = {
						scope:ip_rep_66_protagonist.employer = {
							current_ruler = scope:ip_rep_66_protagonist
						}
					}
					scope:ip_rep_66_protagonist = { has_variable = ip_rep_66_fled }
				}
				desc = "ip_republic.85.desc_3" 
			}
			triggered_desc = {		# Civil war
				trigger = {
					scope:ip_rep_66_protagonist.employer = {
						OR = {
							has_variable = ip_rep_66_civil_war_defender
							has_variable = ip_rep_66_civil_war_attacker
						}
					}
				}
				desc = "ip_republic.85.desc_4" 
			}
		}
	}
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_protagonist
	right_portrait = scope:ip_rep_66_overthrown_ruler
	
	picture = council_country
	
	trigger = {
		has_land = yes
		exists = scope:ip_rep_66_protagonist
	}
	
	immediate = {
		if = {
			limit = {
				scope:ip_rep_66_protagonist.employer = {
					current_ruler = scope:ip_rep_66_protagonist
					NOR = {
						has_variable = ip_rep_66_civil_war_defender
						has_variable = ip_rep_66_civil_war_attacker
					}
				}
			}
			reverse_add_opinion = { target = scope:ip_rep_66_protagonist.employer modifier = ip_rep_66_successful_support }
			add_opinion = { target = scope:ip_rep_66_protagonist.employer modifier = ip_rep_66_successful_support }
			add_truce = {
				target = scope:ip_rep_66_protagonist.employer
				duration = 5475
			}
			scope:ip_rep_66_protagonist.employer = {
				add_truce = {
					target = root
					duration = 5475
				} 
			}
		}
	}
	
	option = {						# Excellent
		name = "ip_republic.85.a"
		trigger = {
			scope:ip_rep_66_protagonist.employer = {
				current_ruler = scope:ip_rep_66_protagonist
			}
		}
	}
	
	option = {						# Darn
		name = "ip_republic.85.b"
		trigger = {
			NOT = {
				scope:ip_rep_66_protagonist.employer = {
					current_ruler = scope:ip_rep_66_protagonist
				}
			}
		}
	}
	
	option = {						# Nice
		name = "ip_republic.85.c"
		trigger = {
			OR = {
				has_variable = ip_rep_66_civil_war_defender
				has_variable = ip_rep_66_civil_war_attacker
			}
		}
	}
}

ip_republic.86 = {							# Local update
	type = country_event
	title = "ip_republic.86.t"
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:ip_rep_66_protagonist.employer = {
						NOR = {
							has_variable = ip_rep_66_civil_war_defender
							has_variable = ip_rep_66_civil_war_attacker
						}
					}
				}
				desc = "ip_republic.86.desc_1"
			}
			triggered_desc = {
				trigger = {
					scope:ip_rep_66_protagonist.employer = {
						OR = {
							has_variable = ip_rep_66_civil_war_defender
							has_variable = ip_rep_66_civil_war_attacker
						}
					}
				}
				desc = "ip_republic.86.desc_2" 
			}
		}
	}
	
	left_portrait = current_ruler
	right_portrait = scope:ip_rep_66_civil_war_general
	right_portrait = scope:ip_rep_66_protagonist
	right_portrait = scope:ip_rep_66_overthrown_ruler
	
	picture = council_country
	
	trigger = {
		has_land = yes
		exists = scope:ip_rep_66_civil_war_general
	}
	
	option = {
		name = ip_republic.86.a
		trigger = { 
			government = oligarchic_republic
			scope:ip_rep_66_civil_war_general.employer = { has_civil_war = no }
		}
	}
	
	option = {
		name = ip_republic.86.c
		trigger = {
			NOT = { government = oligarchic_republic }
			scope:ip_rep_66_civil_war_general.employer = { has_civil_war = no }
		}
	}
	
	option = {
		name = ip_republic.86.b
		trigger = {
			scope:ip_rep_66_civil_war_general.employer = { has_civil_war = yes }
		}
	}
}

ip_republic.87 = {					# Victory event for defender in civil war
	type = country_event
	title = "civil_war.5.t"
	desc = "civil_war.5.desc"
	
	left_portrait = root.current_ruler
	right_portrait = scope:target
	
	picture = city_siege
	
	trigger = {
		has_variable = ip_rep_66_civil_war_defender
	}
	
	immediate = {
		remove_variable = ip_rep_66_civil_war_defender
		current_ruler = { save_scope_as = ip_rep_66_overthrown_ruler }
		scope:target = { save_scope_as = ip_rep_66_protagonist }
	}
	
	option = {
		name = "ip_republic.87.a"
		if = {
			limit = {
				scope:target = { is_alive = yes }
			}
			scope:target = {
				death = {
					death_reason = death_crucified
				}
			}
		} 
	}
	
	option = {
		name = "ip_republic.87.b"
		trigger = {
			scope:target = { is_alive = yes }
		}
		current_ruler = { add_popularity = popularity_small }
		if = {
			limit = {
				scope:target = { is_alive = yes }
			}
			hidden_effect = {
				scope:target = { move_country = root }
				scope:target = { 
					remove_character_modifier = foreign_citizen 
					set_as_minor_character = this
				} 
				
			}
			imprison = { target = scope:target }
		}
	}
	
}

ip_republic.88 = {						# Victory event for attacker in civil war
	type = country_event
	title = "civil_war.6.t"
	desc = "civil_war.6.desc"
	
	left_portrait = root.current_ruler
	right_portrait = scope:target
	
	picture = city_siege
	
	trigger = {
		has_variable = ip_rep_66_civil_war_attacker
	}
	
	immediate = {
		remove_variable = ip_rep_66_civil_war_attacker
		scope:target = { save_scope_as = ip_rep_66_overthrown_ruler }
		current_ruler = { save_scope_as = ip_rep_66_protagonist }
		hidden_effect = {
			scope:target = {
				move_country = root
				remove_character_modifier = foreign_citizen
				set_as_minor_character = this
			}
		}
	}
	
	option = {
		name = "ip_republic.88.a"
		scope:target = {
			if = {
				limit = {
					is_alive = yes
				}
				death = {
					death_reason = death_crucified
				}
			}
		}
		add_tyranny = tyranny_small
	}
	
	option = {
		name = "ip_republic.87.b"
		current_ruler = { add_popularity = popularity_medium }
		trigger = {
			scope:target = { is_alive = yes }
		}
		if = {
			limit = {
				scope:target = { is_alive = yes }
			}
			imprison = { target = scope:target }
		}
	}
}

#
ip_republic.100 = {
	type = country_event
	
	hidden = yes
	
	trigger = {
		is_ai = yes
		has_land = yes
		is_republic = yes
		NOT = { has_law = marian_reforms }
		NOT = { has_law = republican_recruitment_4 }
		NOT = { has_law = punic_reforms }
		NOT = { has_law = republican_recruitment_2 }
		invention = global_cohort_recruit_speed_inv
	}
	
	immediate = {
		pay_price = enact_law
		if = {
			limit = { tag = ROM }
			change_law = punic_reforms
		}
		else = {
			change_law = republican_recruitment_2
		}
	}
}

ip_republic.101 = {
	type = country_event
	
	hidden = yes
	
	trigger = {
		is_ai = yes
		has_land = yes
		is_republic = yes
		NOT = { has_law = marian_reforms }
		NOT = { has_law = republican_recruitment_4 }
		invention = discipline_inv_5
	}
	
	immediate = {
		pay_price = enact_law
		if = {
			limit = {
				tag = ROM
			}
			change_law = marian_reforms
		}
		else = {
			change_law = republican_recruitment_4
		}
	}
}
