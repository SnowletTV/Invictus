namespace = me_antigonid_1_vision

me_antigonid_1_vision.1 = {                          # Antigonos' Vision - START
    type = country_event
    title = me_antigonid_1_vision.1.t
    desc = me_antigonid_1_vision.1.desc
    picture = successors
    left_portrait= current_ruler
    left_portrait = primary_heir
    right_portrait = c:EGY.current_ruler
    right_portrait = c:SEL.current_ruler
    right_portrait = c:MAC.current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.1.a
        add_country_modifier = {
            name = me_ant_1_cmod
            duration = 3650 # 10 years
        }
    }
}

me_antigonid_1_vision.2 = {                          # Antigonos' Vision - END
    type = country_event
    title = me_antigonid_1_vision.2.t
    desc = me_antigonid_1_vision.2.desc
    picture = diadochi_coronation

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.2.a
        custom_tooltip = me_antigonid_1_vision.2.at
        add_country_modifier = {
            name = me_ant_1_end_cmod
            duration = 7300 # 20 years
        }
    }
}

me_antigonid_1_vision.11 = {                            # Eastern Capital - START
    type = country_event
    title = me_antigonid_1_vision.11.t
    desc = me_antigonid_1_vision.11.desc
    picture = diadochi_new_city_founded
    goto_location = p:790
    left_portrait = current_ruler
    right_portrait = primary_heir

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        add_treasury = -250
    }

    option = {
        name = me_antigonid_1_vision.11.a
        custom_tooltip = me_antigonid_1_vision.11.at
    }
}

me_antigonid_1_vision.12 = {                            # Eastern Capital - END
    type = country_event
    title = me_antigonid_1_vision.12.t
    desc = me_antigonid_1_vision.12.desc
    picture = greek_city_market
    left_portrait = current_ruler
    right_portrait = primary_heir

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.12.tt
    }

    option = {
        name = me_antigonid_1_vision.12.a
        current_ruler = {
            add_popularity = popularity_medium
            if = {
                limit = { number_of_traits <= 5 }
                add_trait = founder
            }
        }
        p:790 = {
            add_province_modifier = {
                name = ant_01_1_pmod
                duration = -1
            }
        }
    }
}

me_antigonid_1_vision.13 = {                            # Antigonid Capital - WAR CHOICE
    type = country_event
    title = me_antigonid_1_vision.13.t
    desc = me_antigonid_1_vision.13.desc
    picture = diadochi_seleucus_elephant
    fire_only_once = yes

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        OR = {
            war_with = c:TRE
            war_with = c:MAC
            war_with = c:SEL
            war_with = c:EGY
        }
    }

    option = {
        name = me_antigonid_1_vision.13.a
        add_treasury = 150
        custom_tooltip = me_antigonid_1_vision.13.at
        set_variable = antigonid_01_vision_1_bypass
    }

    option = {
        name = me_antigonid_1_vision.13.b
        custom_tooltip = no_effect_tooltip
    }
}

me_antigonid_1_vision.14 = {                            # Antigonid Capital - BYPASS
    type = country_event
    title = me_antigonid_1_vision.14.t
    desc = me_antigonid_1_vision.14.desc
    picture = greek_siege
    left_portrait = current_ruler
    right_portrait = primary_heir
    goto_location = p:790

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.14.tt
        current_ruler = { add_popularity = subtract_popularity_medium }
        add_treasury = 100
    }

    option = {
        name = me_antigonid_1_vision.14.a
    }

    option = {
        name = me_antigonid_1_vision.14.b
        trigger = {
            owns = 1936
            NOT = { capital_scope = p:1936 }
        }
        set_capital = 1936
    }
}

me_antigonid_1_vision.21 = {                            # Antigoneia's Port - START
    type = country_event
    title = me_antigonid_1_vision.21.t
    desc = me_antigonid_1_vision.21.desc
    picture = diadochi_new_city_founded
    left_portrait = current_ruler
    goto_location = p:790

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        set_variable = {
            name = ant_01_2_tracker_flag
            value = 0
            days = 730
        }
    }

    option = {
        name = me_antigonid_1_vision.21.a
        add_treasury = -100
        custom_tooltip = me_antigonid_1_vision.21.at
        show_as_tooltip = {
            p:795 = {
                change_province_name = "Alexandreia Issos"
                add_province_modifier = {
                    name = ant_01_2_1_pmod
                    duration = 18250 # 50 years
                }
            }
        }
        change_variable = {
            name = ant_01_2_tracker_flag
            add = 1
        }
    }

    option = {
        name = me_antigonid_1_vision.21.b
        add_treasury = -150
        custom_tooltip = me_antigonid_1_vision.21.at
        show_as_tooltip = {
            p:789 = {
                change_province_name = "Antigoneia Pierias"
                add_province_modifier = {
                    name = ant_01_2_1_pmod
                    duration = 18250 # 50 years
                }
                if = {
                    limit = {
                        NOT = { has_road_towards = p:790 }
                    }
                    add_road_towards = p:790
                }
            }
        }
        change_variable = {
            name = ant_01_2_tracker_flag
            add = 2
        }
    }

    option = {
        name = me_antigonid_1_vision.21.c
        add_treasury = -75
        custom_tooltip = me_antigonid_1_vision.21.at
        show_as_tooltip = {
            p:795 = {
                add_province_modifier = {
                    name = ant_01_2_2_pmod
                    duration = 18250 # 50 years
                }
            }
            custom_tooltip = me_antigonid_1_vision.21.ct
        }
        change_variable = {
            name = ant_01_2_tracker_flag
            add = 3
        }
    }
}

me_antigonid_1_vision.22 = {                            # Antigoneia's Port - END
    type = country_event
    title = me_antigonid_1_vision.22.t
    desc = {
        desc = me_antigonid_1_vision.22.desc
        first_valid = {
            triggered_desc = {
                trigger = { var:ant_01_2_tracker_flag = 1 }
                desc = me_antigonid_1_vision.22.desc_1
            }
            triggered_desc = {
                trigger = { var:ant_01_2_tracker_flag = 2 }
                desc = me_antigonid_1_vision.22.desc_2
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_antigonid_1_vision.22.desc_3
            }
        }
    }
    picture = trade_port
    left_portrait = current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.22.tt
    }

    option = {
        name = me_antigonid_1_vision.22.a
        if = {
            limit = { var:ant_01_2_tracker_flag = 1 }
            p:795 = {
                if = {
                    limit = {
                        NOT = { has_city_status = yes }
                    }
                    set_city_status = city
                }
                add_province_modifier = {
                    name = ant_01_2_1_pmod
                    duration = 18250 # 50 years
                }
                change_province_name = "Alexandreia Issos"
                if = {
                    limit = { free_building_slots > 0 }
                    add_building_level = port_building
                }
            }
        }
        else_if = {
            limit = { var:ant_01_2_tracker_flag = 2 }
            p:789 = {
                if = {
                    limit = {
                        NOT = { has_city_status = yes }
                    }
                    set_city_status = city
                }
                if = {
                    limit = {
                        NOT = { has_road_towards = p:790 }
                    }
                    add_road_towards = p:790
                }
                add_province_modifier = {
                    name = ant_01_2_1_pmod
                    duration = 18250 # 50 years
                }
                change_province_name = "Antigoneia Pierias"
                if = {
                    limit = { free_building_slots > 0 }
                    add_building_level = port_building
                }
            }
        }
        else_if = {
            limit = { var:ant_01_2_tracker_flag = 3 }
            p:795 = {
                add_province_modifier = {
                    name = ant_01_2_2_pmod
                    duration = 18250 # 50 years
                }
            }
            custom_tooltip = me_antigonid_1_vision.21.ct
            hidden_effect = {
                p:789 = {
                    add_province_modifier = {
                        name = ant_01_2_2_pmod
                        duration = 18250 # 50 years
                    }
                }
            }
        }
    }

    after = {
        remove_variable = ant_01_2_tracker_flag
    }
}

me_antigonid_1_vision.23 = {                            # Antigoneia's Port - BYPASS
    type = country_event
    title = me_antigonid_1_vision.23.t
    desc = me_antigonid_1_vision.23.desc
    picture = throneroom

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        if = {
            limit = { has_variable = ant_01_2_tracker_flag }
            if = {
                limit = { var:ant_01_2_tracker_flag = 1 }
                add_treasury = 75
            }
            else_if = {
                limit = { var:ant_01_2_tracker_flag = 2 }
                add_treasury = 50
            }
            else_if = {
                limit = { var:ant_01_2_tracker_flag = 3 }
                add_treasury = 37.5
            }
            remove_variable = ant_01_2_tracker_flag
        }
    }

    option = {
        name = me_antigonid_1_vision.23.a
        custom_tooltip = me_antigonid_1_vision.23.at
    }
}

me_antigonid_1_vision.31 = {                            # Phoenician Timber - START
    type = country_event
    title = me_antigonid_1_vision.31.t
    desc = me_antigonid_1_vision.31.desc
    picture = grand_ship

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        add_political_influence = subtract_influence_medium
    }

    option = {
        name = me_antigonid_1_vision.31.a
        custom_tooltip = me_antigonid_1_vision.31.at
    }
}

me_antigonid_1_vision.32 = {                            # Phoenician Timber - END
    type = country_event
    title = me_antigonid_1_vision.32.t
    desc = me_antigonid_1_vision.32.desc
    picture = diadochi_demetrius_navy
    left_portrait = current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {

    }

    option = {
        name = me_antigonid_1_vision.32.a
        custom_tooltip = me_antigonid_1_vision.32.at
    }
}

me_antigonid_1_vision.33 = {                            # Phoenician Timber - BYPASS
    type = country_event
    title = me_antigonid_1_vision.33.t
    desc = me_antigonid_1_vision.33.desc
    picture = throneroom

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.33.tt
    }

    option = {
        name = me_antigonid_1_vision.33.a

    }
}

me_antigonid_1_vision.34 = {                            # Phoenician Timber - PHILOKLES
    type = country_event
    title = me_antigonid_1_vision.34.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    OR = {
                        tag = PRY
                        has_variable = me_ant_start_flag
                    }
                    owns_or_subject_owns = 747
                }
                desc = me_antigonid_1_vision.34.desc_1
            }
            triggered_desc = {
                trigger = {
                    OR = {
                        tag = PRY
                        has_variable = me_ant_start_flag
                    }
                    NOT = { owns_or_subject_owns = 747 }
                }
                desc = me_antigonid_1_vision.34.desc_2
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_antigonid_1_vision.34.desc_3
            }
        }
    }
    picture = tyre_city
    left_portrait = current_ruler
    right_portrait = scope:philokles_of_sidun
    goto_location = p:747
    fire_only_once = yes

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        char:253 = {
            is_alive = yes
            employer = ROOT
            is_ruler = no
            prisoner = no
        }
    }

    immediate = {
        char:253 = { save_scope_as = philokles_of_sidun }
        save_scope_as = philokles_sender
        if = {
            limit = {
                c:EGY = {
                    has_land = yes
                    num_of_cities >= 100
                    num_of_ports >= 3
                }
            }
            c:EGY = { save_scope_as = philokles_fallback_scope }
        }
        else_if = {
            limit = {
                any_country = {
                    OR = {
                        tag = EGY
                        tag = MAC
                        tag = SEL
                        tag = TRE
                        primary_culture = macedonian
                    }
                    num_of_ports >= 3
                    NOT = { THIS = ROOT }
                }
            }
            ordered_country = {
                limit = {
                    OR = {
                        tag = EGY
                        tag = MAC
                        tag = SEL
                        tag = TRE
                        primary_culture = macedonian
                    }
                }
                order_by = num_of_ports
                save_scope_as = philokles_fallback_scope
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.34.a
        trigger = { owns_or_subject_owns = 747 }
        if = {
            limit = { p:747.owner = c:SID } # Sidun exists
            c:SID = {
                if = { # Sidun is a player
                    limit = { is_ai = no }
                    trigger_event = {
                        id = me_antigonid_1_vision.35
                        days = 10
                    }
                    custom_tooltip = me_antigonid_1_vision.34_await_tt
                    show_as_tooltip = {
                        set_as_ruler = scope:philokles_of_sidun
                        if = {
                            limit = {
                                ROOT = {
                                    OR = {
                                        tag = PRY
                                        has_variable = me_ant_start_flag
                                    }
                                }
                            }
                            ROOT = {
                                add_country_modifier = {
                                    name = ant_01_3_ant_cmod
                                    duration = 7300 # 20 years
                                }
                            }
                        }
                        else = {
                            ROOT = {
                                add_country_modifier = {
                                    name = ant_01_3_egy_cmod
                                    duration = 7300 # 20 years
                                }
                            }
                        }
                    }
                    custom_tooltip = me_antigonid_1_vision.34_else_tt
                    show_as_tooltip = {
                        c:SID = {
                            imprison = { target = scope:philokles_of_sidun }
                        }
                    }
                }
                else = { # Sidun is AI
                    hidden_effect = {
                        current_ruler = { add_loyalty = ant_01_3_usurped_throne }
                        add_stability = -10
                    }
                    char:253 = {
                        move_country_with_close_family_effect = { COUNTRY = c:SID }
                    }
                    c:SID = { set_as_ruler = scope:philokles_of_sidun }
                    add_country_modifier = {
                        name = ant_01_3_sid_cmod
                        duration = 7300 # 20 years
                    }
                    if = {
                        limit = {
                            ROOT = {
                                OR = {
                                    tag = PRY
                                    has_variable = me_ant_start_flag
                                }
                            }
                        }
                        ROOT = {
                            add_country_modifier = {
                                name = ant_01_3_ant_cmod
                                duration = 7300 # 20 years
                            }
                        }
                    }
                    else = {
                        ROOT = {
                            add_country_modifier = {
                                name = ant_01_3_egy_cmod
                                duration = 7300 # 20 years
                            }
                        }
                    }
                }
            }
        }
        else_if = { # Sidun is owned or owned by a subject who is not Sidun
            limit = {
                p:747 = {
                    owner = {
                        OR = {
                            this = ROOT
                            is_subject_of = ROOT
                        }
                    }
                }
                c:SID = { has_land = no }
            }
            if = { # Sidun is owned by a non AI subject
                limit = {
                    p:747.owner = {
                        is_subject_of = ROOT
                        is_ai = no
                    }
                }
                trigger_event = {
                    id = me_antigonid_1_vision.35
                    days = 10
                }
                custom_tooltip = me_antigonid_1_vision.34_await_tt
                show_as_tooltip = {
                    p:747 = { set_owned_by = c:SID }
                    char:253 = {
                        move_country_with_close_family_effect = { COUNTRY = c:SID }
                    }
                    c:SID = { set_as_ruler = char:253 }
                    if = {
                        limit = {
                            ROOT = {
                                OR = {
                                    tag = PRY
                                    has_variable = me_ant_start_flag
                                }
                            }
                        }
                        ROOT = {
                            add_country_modifier = {
                                name = ant_01_3_ant_cmod
                                duration = 7300 # 20 years
                            }
                        }
                    }
                    else = {
                        ROOT = {
                            add_country_modifier = {
                                name = ant_01_3_egy_cmod
                                duration = 7300 # 20 years
                            }
                        }
                    }
                }
                custom_tooltip = me_antigonid_1_vision.34_else_tt
                show_as_tooltip = {
                    p:747.owner = {
                        declare_war_with_wargoal = {
                            war_goal = raiding_wargoal
                            target = ROOT
                        }
                    }
                }
            }
            else = { # Sidun is owned by an AI subject
                p:747 = { set_owned_by = c:SID }
                char:253 = {
                    move_country_with_close_family_effect = { COUNTRY = c:SID }
                }
                c:SID = { set_as_ruler = char:253 }
                hidden_effect = {
                    if = {
                        limit = {
                            c:SID = { is_subject = yes }
                        }
                        c:SID.overlord = { release_subject = c:SID }
                    }
                }
                make_subject = {
                    target = c:SID
                    type = tributary
                }
                c:SID = {
                    hidden_effect = {
                        add_political_influence = 150
                        add_treasury = 150
                    }
                }
                if = {
                    limit = {
                        ROOT = {
                            OR = {
                                tag = PRY
                                has_variable = me_ant_start_flag
                            }
                        }
                    }
                    ROOT = {
                        add_country_modifier = {
                            name = ant_01_3_ant_cmod
                            duration = 7300 # 20 years
                        }
                    }
                }
                else = {
                    ROOT = {
                        add_country_modifier = {
                            name = ant_01_3_egy_cmod
                            duration = 7300 # 20 years
                        }
                    }
                }
            }
        }
        ai_chance = { factor = 20 }
    }

    option = {
        name = me_antigonid_1_vision.34.b
        trigger = {
            exists = scope:philokles_fallback_scope
            THIS = scope:me_antigonids_scope
        }
        char:253 = {
            move_country_with_close_family_effect = { COUNTRY = scope:philokles_fallback_scope }
        }
        scope:philokles_fallback_scope = {
            trigger_event = { id = me_antigonid_1_vision.37 }
        }
        ai_chance = { factor = 80 }
    }

    option = {
        name = me_antigonid_1_vision.34.b
        trigger = {
            NOT = { exists = scope:philokles_fallback_scope }
            THIS = scope:me_antigonids_scope
        }
        char:253 = { add_loyalty = ant_01_3_philokles_denied_loyalty }
        ai_chance = { factor = 80 }
    }
}

me_antigonid_1_vision.35 = {                            # Phoenician Timber - PHILOKLES DEMAND
    type = country_event
    title = me_antigonid_1_vision.34.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = { tag = SID }
                desc = me_antigonid_1_vision.35.desc_1
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_antigonid_1_vision.35.desc_2
            }
        }
    }
    picture = tyre_city
    left_portrait = current_ruler
    right_portrait = char:253
    right_portrait = scope:philokles_sender.current_ruler
    goto_location = scope:philokles_sender.capital_scope

    immediate = {
        char:253 = {
            move_country_with_close_family_effect = { COUNTRY = p:747.owner }
        }
    }

    option = {
        name = me_antigonid_1_vision.35.a
        trigger = { tag = SID }
        current_ruler = { add_loyalty = ant_01_3_usurped_throne }
        set_as_ruler = scope:philokles_of_sidun
        add_treasury = 50
        add_political_influence = 50
        add_country_modifier = {
            name = ant_01_3_sid_cmod
            duration = 7300 # 20 years
        }
        ai_chance = { factor = 4 }
    }

    option = {
        name = me_antigonid_1_vision.35.b
        trigger = {
            NOT = { tag = SID }
        }
        p:747 = {
            create_country = { save_scope_as = sidun_scope }
        }
        scope:sidun_scope = {
            change_country_name = SID
            hidden_effect = {
                change_country_adjective = SID_ADJ
                add_treasury = 100
                add_political_influence = 100
                add_country_modifier = {
                    name = ant_01_3_sid_cmod
                    duration = 7300 # 20 years
                }
            }
            set_as_ruler = scope:philokles_of_sidun
        }
        scope:philokles_sender = {
            make_subject = {
                target = scope:sidun_scope
                type = tributary
            }
        }
        ai_chance = { factor = 4 }
    }

    option = {
        name = me_antigonid_1_vision.35.b
        imprison = { target = scope:philokles_of_sidun }
        scope:philokles_of_sidun = { add_loyalty = imprisoned_l }
        reverse_add_opinion = { target = scope:philokles_sender modifier = ant_01_3_opmod }
        ai_chance = { factor = 2 }
    }

    after = {
        scope:philokles_sender = {
            trigger_event = {
                id = me_antigonid_1_vision.36
                days = 10
            }
        }
    }
}

me_antigonid_1_vision.36 = {                            # Phoenician Timber - PHILOKLES PING
    type = country_event
    title = me_antigonid_1_vision.34.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    scope:philokles_of_sidun = { # Rejected by Sidon
                        prisoner = yes
                        employer = c:SID
                    }
                }
                desc = me_antigonid_1_vision.36.desc_1
            }
            triggered_desc = {
                trigger = {
                    scope:philokles_of_sidun = { is_ruler = no } # Rejected by subject
                }
                desc = me_antigonid_1_vision.36.desc_2
            }
            triggered_desc = {
                trigger = { always = yes } # Accepted
                desc = me_antigonid_1_vision.36.desc_3
            }
        }
    }
    picture = tyre_city
    left_portrait = current_ruler
    left_portrait = char:253
    right_portrait = p:747.owner.current_ruler
    goto_location = p:747

    immediate = {
        show_as_tooltip = {
            char:253 = {
                move_country_with_close_family_effect = { COUNTRY = p:747.owner }
            }
        }
        if = {
            limit = {
                scope:philokles_of_sidun = {
                    prisoner = yes
                    employer = c:SID
                }
            }
            show_as_tooltip = {
                c:SID = {
                    imprison = { target = scope:philokles_of_sidun }
                }
            }
        }
        else_if = {
            limit = {
                scope:philokles_of_sidun = { is_ruler = no }
            }
            show_as_tooltip = {
                p:747.owner = {
                    declare_war_with_wargoal = {
                        war_goal = raiding_wargoal
                        target = ROOT
                    }
                }
            }
        }
        else = {
            show_as_tooltip = {
                c:SID = { set_as_ruler = scope:philokles_of_sidun }
            }
            add_country_modifier = {
                name = ant_01_3_ant_cmod
                duration = 7300 # 20 years
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.36.a
        trigger = {
            scope:philokles_of_sidun = { # Rejected by Sidon
                prisoner = yes
                employer = c:SID
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.36.b
        trigger = {
            scope:philokles_of_sidun = { # Accepted by Sidon
                OR = {
                    NAND = {
                        prisoner = yes
                        employer = c:SID
                    }
                    is_ruler = yes
                }
            }
        }
    }
}

me_antigonid_1_vision.37 = {                            # Phoenician Timber - PHILOKLES PING
    type = country_event
    title = me_antigonid_1_vision.34.t
    desc = me_antigonid_1_vision.37.desc
    picture = tyre_city
    left_portrait = current_ruler
    left_portrait = char:253
    right_portrait = scope:me_antigonids_scope.current_ruler
    goto_location = p:747

    immediate = {
        set_variable = {
            name = ant_01_3_egy_flag
            days = 29200 # 80 years
        }
        show_as_tooltip = {
            char:253 = {
                move_country_with_close_family_effect = { COUNTRY = scope:philokles_fallback_scope }
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.37.a
        custom_tooltip = me_antigonid_1_vision.37.at
    }
}

me_antigonid_1_vision.38 = {                            # Phoenician Timber - HARDY ADMIRAL
    type = country_event
    title = me_antigonid_1_vision.38.t
    desc = me_antigonid_1_vision.38.desc
    picture = grand_ship
    left_portrait = current_ruler
    right_portrait = scope:phoenician_admiral
    fire_only_once = yes

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        hidden_effect = {
            create_character = {
                culture = phoenician
                religion = carthaginian_pantheon
                age = 51
                female = no
                no_traits = yes
                add_trait = seadog
                no_stats = yes
                add_martial = 8
                add_finesse = 6
                add_charisma = 7
                add_zeal = 3
                save_scope_as = phoenician_admiral
            }
        }
        every_character = {
            limit = {
                trigger_if = {
                    limit = {
                        ROOT = {
                            any_character = { is_admiral = yes }
                        }
                    }
                    is_admiral = yes
                }
                trigger_else = { is_general = yes }
            }
            add_to_list = me_antigonid_1_vision_admiral_list
        }
    }

    option = {
        name = me_antigonid_1_vision.38.a
        custom_tooltip = me_antigonid_1_vision.38.at
        add_treasury = -25
        every_in_list = {
            list = me_antigonid_1_vision_admiral_list
            add_loyalty = loyalty_snubbed
        }
    }

    option = {
        name = me_antigonid_1_vision.38.b
        custom_tooltip = me_antigonid_1_vision.38.bt
        hidden_effect = {
            scope:phoenician_admiral = {
                death = { death_reason = death_obscurity }
            }
        }
    }
}

me_antigonid_1_vision.39 = {                            # Phoenician Timber - SHIPS offer
    type = country_event
    title = me_antigonid_1_vision.39.t
    desc = me_antigonid_1_vision.39.desc
    picture = grand_ship
    left_portrait = current_ruler
    right_portrait = scope:sidun_scope.current_ruler
    fire_only_once = yes

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        OR = {
            c:SID = {
                has_land = yes
                any_owned_province = { is_port = yes }
            }
            c:ARA = {
                has_land = yes
                any_owned_province = { is_port = yes }
            }
            c:BYB = {
                has_land = yes
                any_owned_province = { is_port = yes }
            }
        }
        any_owned_province = { is_port = yes }
    }

    immediate = {
        ordered_country = {
            limit = {
                OR = {
                    THIS = c:SID
                    THIS = c:BYB
                    THIS = c:ARA
                }
                any_owned_province = { is_port = yes }
            }
            order_by = country_population
            save_scope_as = sidun_scope
        }
    }

    option = {
        name = me_antigonid_1_vision.39.a
        add_treasury = -150
        custom_tooltip = me_antigonid_1_vision.39.at
        trigger_event = {
            id = me_antigonid_1_vision.40
            days = 50
        }
    }

    option = {
        name = me_antigonid_1_vision.39.b
        custom_tooltip = no_effect_tooltip
    }
}

me_antigonid_1_vision.40 = {                            # Phoenician Timber - SHIPS ping
    type = country_event
    title = me_antigonid_1_vision.40.t
    desc = me_antigonid_1_vision.40.desc
    picture = grand_ship
    left_portrait = current_ruler
    right_portrait = scope:sidun_scope.current_ruler
    goto_location = scope:port_ship_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        ordered_owned_province = {
            limit = { is_port = yes }
            order_by = total_population
            save_scope_as = port_ship_scope
        }
        hidden_effect = {
            create_unit = {
                location = scope:port_ship_scope
                navy = yes
                sub_unit = octere
                add_subunit = octere
                add_subunit = octere
                add_subunit = octere
                add_subunit = octere
                add_subunit = octere
                add_subunit = octere
                add_subunit = octere
                add_subunit = octere
                add_subunit = octere
                save_scope_as = octere_express
            }
        }
        custom_tooltip = me_antigonid_1_vision.40.tt
    }

    option = {
        name = me_antigonid_1_vision.40.a
    }
}

me_antigonid_1_vision.41 = {                            # Demetrios' Playground - END
    type = country_event
    title = me_antigonid_1_vision.41.t
    desc = me_antigonid_1_vision.41.desc
    picture = city_siege
    left_portrait = current_ruler
    left_portrait = primary_heir
    right_portrait = c:MAC.current_ruler
    goto_location = p:418

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        p:418 = { ant_fortress_effect = yes }
        add_country_modifier = {
            name = ant_01_4_cmod
            duration = 1825 # 5 years
        }
        custom_tooltip = me_antigonid_1_vision.41.tt
    }

    option = {
        name = me_antigonid_1_vision.41.a
        show_as_tooltip = {
            ordered_country = {
                limit = {
                    capital_scope = {
                        is_in_region = greece_region
                        NOR = {
                            is_in_area = crete_area
                            is_in_area = epirus_area
                        }
                    }
                }
                order_by = country_population
                add_opinion = { target = ROOT modifier = ant_01_5_korinth_opmod }
            }
        }
        custom_tooltip = antigonid_01_vision_4_op_tt
        hidden_effect = {
            every_country = {
                limit = {
                    capital_scope = {
                        is_in_region = greece_region
                        NOR = {
                            is_in_area = crete_area
                            is_in_area = epirus_area
                        }
                    }
                    NOR = {
                        tag = TRE
                        tag = MAC
                        tag = SEL
                        tag = EGY
                    }
                }
                add_opinion = { target = ROOT modifier = ant_01_5_korinth_opmod }
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.41.b
        custom_tooltip = me_antigonid_1_vision.41.bt
        hidden_effect = {
            if = {
                limit = {
                    p:418 = {
                        has_owner = yes
                        NOT = { owner = ROOT }
                        controller = ROOT
                    }
                }
                p:418 = { set_conquered_by = ROOT }
            }
            p:418 = {
                create_country = {
                    save_scope_as = korinthos_scope
                    name = {
                        name = "CORINTH_NAME"
                        adjective = "CORINTH_ADJECTIVE"
                    }
                    change_country_tag = KOR
                    change_country_flag = CORINTH_FLAG
                    change_country_color = ocean_blue
                    if = {
						limit = {
							NOT = {
								primary_culture = p:418.dominant_province_culture
							}
						}
						set_primary_culture_cleanup_effect = {
							NEW_PRIMARY_CULTURE = p:418.dominant_province_culture
							MAKE_OLD_CULTURE_INTEGRATED = yes
						}
					}
                    set_country_religion = roman_pantheon
                    set_country_heritage = corinthian_heritage
                    change_government = democratic_republic
                }
            }
            make_subject = {
                type = feudatory
                target = scope:korinthos_scope
            }
        }
    }
}

me_antigonid_1_vision.51 = {                            # Reiterate Tyre Proclamation - START
    type = country_event
    title = me_antigonid_1_vision.51.t
    desc = me_antigonid_1_vision.51.desc
    picture = successors
    left_portrait = current_ruler
    right_portrait = char:42

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.51.a
        custom_tooltip = me_antigonid_1_vision.51.at
    }
}

me_antigonid_1_vision.52 = {                            # Reiterate Tyre Proclamation - END
    type = country_event
    title = me_antigonid_1_vision.52.t
    desc = me_antigonid_1_vision.52.desc
    picture = greek_philosophers
    goto_location = p:418
    left_portrait = current_ruler
    right_portrait = scope:ant_5_end_scope.current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.52.tt
        hidden_effect = {
            every_country = {
                limit = {
                    country_culture_group = hellenic
                    NOT = { primary_culture = macedonian }
                    capital_scope = {
                        OR = {
                            is_in_region = greece_region
                            is_in_region = asia_region
                        }
                    }
                    NOT = { is_subject_of = c:PRY }
                    NOR = {
                        tag = MAC
                        tag = TRE
                        tag = SEL
                        tag = EGY
                    }
                }
                add_opinion = { target = ROOT modifier = ant_01_tyre_proc_opmod }
            }
        }
        if ={
            limit = {
                any_subject = {
                    country_culture_group = hellenic
                    NOT = { primary_culture = macedonian }
                    capital_scope = {
                        OR = {
                            is_in_region = greece_region
                            is_in_region = asia_region
                        }
                    }
                }
            }
            every_subject = {
                limit = {
                    country_culture_group = hellenic
                    NOT = { primary_culture = macedonian }
                }
                add_to_list = ant_01_5_list
            }
            ordered_in_list = {
                list = ant_01_5_list
                order_by = country_population
                save_scope_as = ant_5_end_scope
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.52.a
        custom_tooltip = antigonid_01_vision_5_country_num_tt
        if = {
            limit = {
                list_size = {
                    name = ant_01_5_list
                    value > 1
                }
            }
            ordered_in_list = {
                list = ant_01_5_list
                order_by = country_population
                add_country_modifier = {
                    name = ant_01_5_cmod
                    duration = 7300 # 20 years
                }
            }
            hidden_effect = {
                every_in_list = {
                    list = ant_01_5_list
                    limit = {
                        NOT = { has_country_modifier = ant_01_5_cmod }
                    }
                    add_country_modifier = {
                        name = ant_01_5_cmod
                        duration = 7300 # 20 years
                    }
                }
            }
            custom_tooltip = antigonid_01_vision_5_subject_num_tt
        }
        custom_tooltip = antigonid_01_vision_5_claims_tt
    }
}

me_antigonid_1_vision.53 = {                            # Reiterate Tyre Proclamation - SYNOIKISM
    type = country_event
    title = me_antigonid_1_vision.53.t
    desc = me_antigonid_1_vision.53.desc
    picture = throneroom
    left_portrait = current_ruler
    right_portrait = scope:ant_1_5_synoikism_scope.current_ruler
    goto_location = scope:ant_1_5_synoikism_province_scope
    fire_only_once = yes

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        any_subject = {
            is_ai = yes
            country_culture_group = hellenic
            NOR = {
                is_subject_type = tributary
                is_subject_type = vassal_tribe
                has_variable = ant_1_5_cooldown
            }
            num_of_cities >= 3
            any_owned_province = {
                ant_1_5_synoikism_trigger = yes # Not a city or a historical past synoikism
                any_neighbor_province = {
                    count >= 2
                    has_owner = yes
                    owner = PREV.owner
                    total_population > 2
                    total_population < PREV.total_population
                    ant_1_5_synoikism_trigger = yes
                }
            }
        }
    }

    immediate = {
        random_subject = {
            limit = {
                is_ai = yes
                country_culture_group = hellenic
                NOR = {
                    is_subject_type = tributary
                    is_subject_type = vassal_tribe
                    has_variable = ant_1_5_cooldown
                }
                num_of_cities >= 3
                any_owned_province = {
                    ant_1_5_synoikism_trigger = yes
                    any_neighbor_province = {
                        count >= 2
                        has_owner = yes
                        owner = PREV.owner
                        total_population > 2
                        total_population < PREV.total_population
                        ant_1_5_synoikism_trigger = yes
                    }
                }
            }
            weight = {
                modifier = {
                    factor = 100
                    OR = {
                        primary_culture = aeolian
                        primary_culture = ionian
                    }
                }
                modifier = {
                    factor = 100
                    NOT = { tag = DEL }
                }
            }
            save_scope_as = ant_1_5_synoikism_scope
            set_variable = {
                name = ant_1_5_cooldown
                days = 365
            }
        }
        scope:ant_1_5_synoikism_scope = {
            random_owned_province = {
                limit = {
                    ant_1_5_synoikism_trigger = yes
                    any_neighbor_province = {
                        count >= 2
                        has_owner = yes
                        owner = PREV.owner
                        total_population > 2
                        total_population < PREV.total_population
                        ant_1_5_synoikism_trigger = yes
                    }
                }
                weight = {
                    modifier = {
                        factor = 100
                        is_port = yes
                    }
                    modifier = {
                        factor = 50
                        is_coastal = yes
                    }
                }
                save_scope_as = ant_1_5_synoikism_province_scope
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.53.a
        add_treasury = -75
        add_manpower = -5
        custom_tooltip = me_antigonid_1_vision.53.at
        add_country_modifier = {
            name = ant_01_5_synoikism_cmod
            duration = 7300 # 20 years
        }
    }

    option = {
        name = me_antigonid_1_vision.53.b
        scope:ant_1_5_synoikism_scope = {
            add_country_modifier = {
                name = ant_01_5_refused_synoikism_cmod
                duration = 7300 # 20 years
            }
        }
    }

    after = {
        trigger_event = {
            id = me_antigonid_1_vision.54
            days = 365
        }
    }
}

me_antigonid_1_vision.54 = {                            # Reiterate Tyre Proclamation - SYNOIKISM END
    type = country_event
    title = me_antigonid_1_vision.53.t
    desc = me_antigonid_1_vision.54.desc
    picture = diadochi_new_city_founded
    left_portrait = current_ruler
    right_portrait = scope:ant_1_5_synoikism_scope.current_ruler
    goto_location = scope:ant_1_5_synoikism_province_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        exists = scope:ant_1_5_synoikism_province_scope
        scope:ant_1_5_synoikism_province_scope = {
            has_city_status = no
            has_owner = yes
            owner = scope:ant_1_5_synoikism_scope
            any_neighbor_province = {
                has_owner = yes
                owner = scope:ant_1_5_synoikism_scope
            }
        }
    }

    immediate = {
        set_variable = {
            name = ant_1_5_synoik_count
            value = 0
        }
        hidden_effect = {
            while = {
                count = 2
                scope:ant_1_5_synoikism_province_scope = {
                    random_neighbor_province = {
                        limit = {
                            NOT = { has_variable = ant_1_5_synoik_cooldown }
                            has_owner = yes
                            owner = scope:ant_1_5_synoikism_scope
                            any_neighbor_province = {
                                has_owner = yes
                                owner = scope:ant_1_5_synoikism_scope
                            }
                        }
                        save_scope_as = ant_1_5_synoikism_mover_scope
                        set_variable = {
                            name = ant_1_5_synoikism_mover_counter
                            value = ant_1_5_synoik_mover_value
                        }
                        while = {
                            limit = { scope:ant_1_5_synoikism_mover_scope.var:ant_1_5_synoikism_mover_counter > 0 }
                            random_pops_in_province = {
                                weight = {
                                    modifier = {
                                        pop_type = freemen
                                        factor = 10
                                    }
                                    modifier = {
                                        pop_type = citizen
                                        factor = 5
                                    }
                                    modifier = {
                                        pop_type = tribesmen
                                        factor = 0.1
                                    }
                                    modifier = {
                                        NOT = { culture = scope:ant_1_5_synoikism_province_scope.owner.culture }
                                        factor = 0.1
                                    }
                                }
                                move_pop = scope:ant_1_5_synoikism_province_scope
                            }
                            scope:ant_1_5_synoikism_mover_scope = {
                                change_variable = {
                                    name = ant_1_5_synoikism_mover_counter
                                    subtract = 1
                                }
                            }
                            ROOT = {
                                change_variable = {
                                    name = ant_1_5_synoik_count
                                    add = 1
                                }
                            }
                        }
                        remove_variable = ant_1_5_synoikism_mover_counter
                        if = {
                            limit = {
                                NOT = { has_variable = ant_1_5_synoik_cooldown }
                            }
                            set_variable = {
                                name = ant_1_5_synoik_cooldown
                                days = 30
                            }
                        }
                    }
                }
            }
        }
        custom_tooltip = me_antigonid_1_vision.54.tt
        scope:ant_1_5_synoikism_province_scope = { set_city_status = city }
    }

    option = {
        name = me_antigonid_1_vision.54.a
        scope:ant_1_5_synoikism_scope = {
            add_opinion = { target = ROOT modifier = ant_01_5_synoikism_opmod }
        }
    }

    after = { remove_variable = ant_1_5_synoik_count }
}

me_antigonid_1_vision.56 = {                            # Reiterate Tyre Proclamation - DISPUTE
    type = country_event
    title = me_antigonid_1_vision.56.t
    desc = {
        desc = me_antigonid_1_vision.56.desc
        first_valid = {
            triggered_desc = {
                trigger = { exists = scope:ant_1_5_dispute_subject_2 }
                desc = me_antigonid_1_vision.56.desc_1
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_antigonid_1_vision.56.desc_2
            }
        }
    }
    picture = throneroom
    left_portrait = current_ruler
    right_portrait = scope:ant_1_5_dispute_subject_1.current_ruler
    right_portrait = scope:ant_1_5_dispute_subject_2.current_ruler
    goto_location = scope:ant_1_5_dispute_territory_1
    fire_only_once = yes

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        OR = {
            any_subject = {
                ant_1_5_tyre_trigger = yes
                any_owned_province = {
                    is_capital = no
                    any_neighbor_province = {
                        has_owner = yes
                        owner = PREV.owner
                        is_capital = no
                    }
                }
            }
            any_subject = {
                ant_1_5_tyre_trigger = yes
                any_neighbour_country = {
                    is_subject_of = ROOT
                    ant_1_5_tyre_trigger = yes
                }
            }
        }
    }

    immediate = {
        hidden_effect = {
            random_list = {
                2 = {
                    trigger = {
                        any_subject = {
                            ant_1_5_tyre_trigger = yes
                            any_owned_province = {
                                is_capital = no
                                any_neighbor_province = {
                                    has_owner = yes
                                    owner = PREV.owner
                                    is_capital = no
                                }
                            }
                        }
                    }
                    random_subject = {
                        limit = {
                            ant_1_5_tyre_trigger = yes
                            any_owned_province = {
                                is_capital = no
                                any_neighbor_province = {
                                    has_owner = yes
                                    owner = PREV.owner
                                    is_capital = no
                                }
                            }
                        }
                        save_scope_as = ant_1_5_dispute_subject_1
                        set_variable = {
                            name = ant_1_5_cooldown
                            days = 365
                        }
                        random_owned_province = {
                            limit = {
                                is_capital = no
                                any_neighbor_province = {
                                    has_owner = yes
                                    owner = scope:ant_1_5_dispute_subject_1
                                    is_capital = no
                                }
                            }
                            save_scope_as = ant_1_5_dispute_territory_1
                            random_neighbor_province = {
                                limit = {
                                    has_owner = yes
                                    owner = scope:ant_1_5_dispute_subject_1
                                    is_capital = no
                                }
                                save_scope_as = ant_1_5_dispute_territory_2
                            }
                        }
                    }
                }
                2 = {
                    trigger = {
                        any_subject = {
                            ant_1_5_tyre_trigger = yes
                            any_neighbour_country = {
                                is_subject_of = ROOT
                                ant_1_5_tyre_trigger = yes
                            }
                        }
                    }
                    random_subject = {
                        limit = {
                            ant_1_5_tyre_trigger = yes
                            any_neighbour_country = {
                                is_subject_of = ROOT
                                ant_1_5_tyre_trigger = yes
                            }
                        }
                        save_scope_as = ant_1_5_dispute_subject_1
                        set_variable = {
                            name = ant_1_5_cooldown
                            days = 365
                        }
                        random_neighbour_country = {
                            limit = {
                                is_subject_of = ROOT
                                ant_1_5_tyre_trigger = yes
                            }
                            save_scope_as = ant_1_5_dispute_subject_2
                            set_variable = {
                                name = ant_1_5_cooldown
                                days = 365
                            }
                        }
                    }
                    scope:ant_1_5_dispute_subject_1 = {
                        random_owned_province = {
                            limit = {
                                any_neighbor_province = { owner = scope:ant_1_5_dispute_subject_2 }
                            }
                            save_scope_as = ant_1_5_dispute_territory_1
                            random_neighbor_province = {
                                limit = { owner = scope:ant_1_5_dispute_subject_2 }
                                save_scope_as = ant_1_5_dispute_territory_2
                            }
                        }
                    }
                }
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.56.a
        add_political_influence = subtract_influence_medium
        add_treasury = -25
    }

    option = {
        name = me_antigonid_1_vision.56.b
        trigger = { exists = scope:ant_1_5_dispute_subject_2 }
        scope:ant_1_5_dispute_territory_1 = { set_owned_by = scope:ant_1_5_dispute_subject_2 }
        scope:ant_1_5_dispute_subject_2.current_ruler = { add_popularity = popularity_medium }
        scope:ant_1_5_dispute_subject_1 = {
            add_opinion = { target = ROOT modifier = ant_01_5_dispute_opmod }
        }
    }

    option = {
        name = me_antigonid_1_vision.56.c
        trigger = { exists = scope:ant_1_5_dispute_subject_2 }
        scope:ant_1_5_dispute_territory_2 = { set_owned_by = scope:ant_1_5_dispute_subject_1 }
        scope:ant_1_5_dispute_subject_1.current_ruler = { add_popularity = popularity_medium }
        scope:ant_1_5_dispute_subject_2 = {
            add_opinion = { target = ROOT modifier = ant_01_5_dispute_opmod }
        }
    }

    option = {
        name = me_antigonid_1_vision.56.d
        trigger = {
            NOT = { exists = scope:ant_1_5_dispute_subject_2 }
        }
        scope:ant_1_5_dispute_subject_1 = {
            add_opinion = { target = ROOT modifier = ant_01_5_dispute_opmod }
        }
    }
}

me_antigonid_1_vision.61 = {                            # Formalize Divinity - START
    type = country_event
    title = me_antigonid_1_vision.61.t
    desc = me_antigonid_1_vision.61.desc
    picture =  successors
    left_portrait = current_ruler
    right_portrait = char:37

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.61.a
        custom_tooltip = me_antigonid_1_vision.61.at
    }
}

me_antigonid_1_vision.62 = {                            # Formalize Divinity - END
    type = country_event
    title = me_antigonid_1_vision.62.t
    desc = me_antigonid_1_vision.62.desc
    picture = greek_religious_rite
    left_portrait = current_ruler
    right_portrait = scope:antigonos_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.62.tt
        if = {
            limit = {
                NOT = { current_ruler = char:37 }
            }
            char:37 = { save_scope_as = antigonos_scope }
        }
        current_ruler = { save_scope_as = divinely_scope }
    }

    option = {
        name = me_antigonid_1_vision.62.a
        if = {
            limit = {
                char:37 = { is_deified = no }
            }
            char:37 = {
                deify_character = {
                    deity = deity:omen_zeus
                    country = ROOT
                }
            }
        }
        else = {
            current_ruler = {
                deify_character = {
                    deity = deity:omen_zeus
                    country = ROOT
                }
            }
        }
        current_ruler = {
            add_popularity = popularity_large
            family = { add_prestige = prestige_huge }
        }
        add_country_modifier = {
            name = ant_01_6_cmod
            duration = 1825 # 5 years
        }
    }
}

me_antigonid_1_vision.71 = {                            # Secure Frontier - START
    type = country_event
    title = me_antigonid_1_vision.71.t
    desc = me_antigonid_1_vision.71.desc
    picture = greek_siege

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        if = { # EGY/subject border
            limit = {
                c:EGY = { ant_01_frontier_trigger = yes }
            }
            ordered_country_state = {
                limit = {
                    ant_01_frontier_meta_scope_trigger = { OWNER = c:EGY }
                }
                save_scope_as = ant_01_frontier_egy_scope
            }
        }
        if = { # SEL/subject border
            limit = {
                c:SEL = { ant_01_frontier_trigger = yes }
            }
            ordered_country_state = {
                limit = {
                    ant_01_frontier_meta_scope_trigger = { OWNER = c:SEL }
                }
                save_scope_as = ant_01_frontier_sel_scope
            }
        }
        if = { # TRE/subject border
            limit = {
                c:TRE = { ant_01_frontier_trigger = yes }
            }
            ordered_country_state = {
                limit = {
                    ant_01_frontier_meta_scope_trigger = { OWNER = c:TRE }
                }
                save_scope_as = ant_01_frontier_tre_scope
            }
        }
        else_if = { # Bosporos fallback
            limit = {
                any_owned_province = {
                    OR = {
                        is_in_area = mysia_area
                        is_in_area = bithynia_area
                    }
                }
            }
            if = {
                limit = {
                    any_owned_province = { is_in_area = mysia_area }
                }
                random_country_state = {
                    limit = {
                        any_state_province = { is_in_area = mysia_area }
                    }
                    save_scope_as = ant_01_frontier_tre_scope
                }
            }
            else_if = {
                limit = {
                    any_owned_province = { is_in_area = bithynia_area }
                }
                random_country_state = {
                    limit = {
                        any_state_province = { is_in_area = bithynia_area }
                    }
                    save_scope_as = ant_01_frontier_tre_scope
                }
            }
        }
        if = { # MAC/subject border
            limit = {
                c:MAC = { ant_01_frontier_trigger = yes }
            }
            ordered_country_state = {
                limit = {
                    ant_01_frontier_meta_scope_trigger = { OWNER = c:MAC }
                }
                save_scope_as = ant_01_frontier_mac_scope
            }
        }
        else_if = { # Greece fallback
            limit = {
                any_owned_province = {
                    is_in_region = greece_region
                }
            }
            ordered_owned_province = {
                limit = { is_in_region = greece_region }
                order_by = total_population
                state = { save_scope_as = ant_01_frontier_mac_scope }
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.71.a
        trigger = { exists = scope:ant_01_frontier_egy_scope }
        custom_tooltip = me_antigonid_1_vision.71.at
        scope:ant_01_frontier_egy_scope = {
            ant_01_frontier_meta_scope_effect = { OWNER = c:EGY }
        }
    }

    option = {
        name = me_antigonid_1_vision.71.b
        trigger = {  exists = scope:ant_01_frontier_sel_scope }
        custom_tooltip = me_antigonid_1_vision.71.at
        scope:ant_01_frontier_sel_scope = {
            ant_01_frontier_meta_scope_effect = { OWNER = c:SEL }
        }
    }

    option = {
        name = me_antigonid_1_vision.71.c
        trigger = { exists = scope:ant_01_frontier_tre_scope }
        custom_tooltip = me_antigonid_1_vision.71.at
        scope:ant_01_frontier_tre_scope = {
            ant_01_frontier_meta_scope_effect = { OWNER = c:TRE }
        }
    }

    option = {
        name = me_antigonid_1_vision.71.d
        trigger = { exists = scope:ant_01_frontier_mac_scope }
        custom_tooltip = me_antigonid_1_vision.71.at
        scope:ant_01_frontier_mac_scope = {
            ant_01_frontier_meta_scope_effect = { OWNER = c:MAC }
        }
    }

    after = { set_variable = ant_1_7_bypass_flag }
}

me_antigonid_1_vision.72 = {                            # Secure Frontier - END
    type = country_event
    title = me_antigonid_1_vision.72.t
    desc = me_antigonid_1_vision.72.desc
    picture = greek_siege
    goto_location = scope:ant_01_frontier_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        var:ant_01_frontier_flag = { save_scope_as = ant_01_frontier_scope }
        var:ant_01_frontier_owner_flag = { save_scope_as = ant_01_frontier_owner_scope }
        custom_tooltip = me_antigonid_1_vision.72.tt
    }

    option = {
        name = me_antigonid_1_vision.72.a
        scope:ant_01_frontier_scope = {
            if = {
                limit = { free_building_slots < 1 }
                destroy_building_effect = yes
            }
            add_building_level = fortress_building
            add_province_modifier = {
                name = ant_01_7_pmod
                duration = 7300
            }
        }
    }

    after = {
        remove_variable = ant_01_frontier_flag
        remove_variable = ant_01_frontier_owner_flag
    }
}

me_antigonid_1_vision.73 = {                            # Secure Frontier - BYPASS
    type = country_event
    title = me_antigonid_1_vision.73.t
    desc = me_antigonid_1_vision.73.desc
    picture = greek_siege
    left_portrait = current_ruler
    right_portrait = scope:ant_01_frontier_owner_scope.current_ruler
    goto_location = scope:ant_01_frontier_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        var:ant_01_frontier_flag = { save_scope_as = ant_01_frontier_scope }
        var:ant_01_frontier_owner_flag = { save_scope_as = ant_01_frontier_owner_scope }
    }

    option = {
        name = me_antigonid_1_vision.73.a
        add_treasury >= 37.5
        add_manpower >= 2.5
    }

    after = {
        remove_variable = ant_01_frontier_flag
        remove_variable = ant_01_frontier_owner_flag
    }
}

me_antigonid_1_vision.81 = {                             # Resettle Laranda - START
    type = country_event
    title = me_antigonid_1_vision.81.t
    desc = me_antigonid_1_vision.81.desc
    picture = road_construction

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.81.a
        custom_tooltip = me_antigonid_1_vision.81.at
    }
}

me_antigonid_1_vision.82 = {                            # Resettle Laranda - END
    type = country_event
    title = me_antigonid_1_vision.82.t
    desc = me_antigonid_1_vision.82.desc
    picture = city_construction

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_antigonid_1_vision.82.tt }

    option = {
        name = me_antigonid_1_vision.82.a
        current_ruler = { add_popularity = popularity_small }
        if = {
            limit = { legitimacy < 100 }
            add_legitimacy = legitimacy_medium
        }
        p:169 = {
            set_city_status = city
            change_province_name = "Antigoneia Lykaonias"
        }
        if = {
            limit = {
                any_country_culture = { is_culture = isaurian }
            }
            random_country_culture = {
                limit = { is_culture = isaurian }
                add_country_culture_modifier = {
                     name = ant_01_8_culmod
                     duration = 10950 # 30 years
                }
                save_scope_as = isaurian_culture
            }
        }
        if = {
            limit = {
                exists = scope:isaurian_culture
                any_country_culture = {
                    NOT = { is_culture = isaurian }
                    THIS.culture.culture_group = scope:isaurian_culture.culture.culture_group
                }
            }
            every_country_culture = {
                limit = {
                    NOT = { is_culture = isaurian }
                    THIS.culture.culture_group = scope:isaurian_culture.culture.culture_group
                }
                custom = antigonid_01_vision_8_culture_tt
                add_country_culture_modifier = {
                     name = ant_01_8_general_culmod
                     duration = 10950 # 30 years
                }
            }
        }
    }
}

me_antigonid_1_vision.83 = {                            # Resettle Laranda - BYPASS
    type = country_event
    title = me_antigonid_1_vision.83.t
    desc = me_antigonid_1_vision.83.desc
    picture = throneroom

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.83.a
        custom_tooltip = me_antigonid_1_vision.83.at
    }
}

me_antigonid_1_vision.91 = {                            # Attract Greek Colonists - START
    type = country_event
    title = me_antigonid_1_vision.91.t
    desc = me_antigonid_1_vision.91.desc
    picture = throneroom

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.91.a
        custom_tooltip = me_antigonid_1_vision.91.at
    }
}

me_antigonid_1_vision.92 = {                            # Attract Greek Colonists - END
    type = country_event
    title = me_antigonid_1_vision.92.t
    desc = me_antigonid_1_vision.92.desc
    picture = diadochi_new_city_founded
    left_portrait = current_ruler
    goto_location = scope:ant_01_9_dest_1_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.92.tt
        if = { # Ping for non-AI subjects losing pops
            limit = {
                any_subject = {
                    has_variable = me_ant_01_9_sub_pop_contributor
                    is_ai = no
                }
            }
            every_subject = {
                limit = {
                    has_variable = me_ant_01_9_sub_pop_contributor
                    is_ai = no
                }
                trigger_event = { id = me_antigonid_1_vision.94 }
            }
        }
        hidden_effect = {
            while = {
                count = 4
                random_owned_province = {
                    limit = {
                        ant_01_9_dest_trigger = yes
                        NOT = { is_in_list = ant_01_9_dest_list }
                    }
                    weight = {
                        modifier = {
                            factor = 10
                            has_city_status = no
                        }
                        modifier = {
                            factor = 5
                            is_port = yes
                        }
                        modifier = {
                            factor = 5
                            total_population <= 10
                        }
                        modifier = {
                            factor = 0.1
                            any_in_list = {
                                list = ant_01_9_dest_list
                                area = PREV.area
                            }
                        }
                    }
                    add_to_list = ant_01_9_dest_list
                }
            }
        }
        ant_01_9_dest_scope_effect = yes
    }

    option = {
        name = me_antigonid_1_vision.92.a
        scope:ant_01_9_dest_1_scope = { ant_01_9_dest_effect = yes }
    }

    option = {
        name = me_antigonid_1_vision.92.b
        trigger = { exists = scope:ant_01_9_dest_2_scope }
        scope:ant_01_9_dest_2_scope = { ant_01_9_dest_effect = yes }
    }

    option = {
        name = me_antigonid_1_vision.92.c
        trigger = { exists = scope:ant_01_9_dest_3_scope }
        scope:ant_01_9_dest_3_scope = { ant_01_9_dest_effect = yes }
    }

    option = {
        name = me_antigonid_1_vision.92.d
        trigger = { exists = scope:ant_01_9_dest_4_scope }
        scope:ant_01_9_dest_4_scope = { ant_01_9_dest_effect = yes }
    }
}

me_antigonid_1_vision.93 = {                            # Attract Greek Colonists - BYPASS
    type = country_event
    title = me_antigonid_1_vision.93.t
    desc = me_antigonid_1_vision.93.desc
    picture = throneroom

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_antigonid_1_vision.93.tt }

    option = { name = me_antigonid_1_vision.93.a }
}

me_antigonid_1_vision.94 = {                            # Attract Greek Colonists - PING
    type = country_event
    title = me_antigonid_1_vision.94.t
    desc = me_antigonid_1_vision.94.desc
    picture = throneroom
    left_portrait = current_ruler
    right_portrait = overlord.current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.94.tt
    }

    option = {
        name = me_antigonid_1_vision.94.a
    }

    after = { remove_variable = me_ant_01_9_sub_pop_contributor }
}

me_antigonid_1_vision.95 = {                            # Attract Greek Colonists - SUB
    type = country_event
    title = me_antigonid_1_vision.95.t
    desc = me_antigonid_1_vision.95.desc
    picture = greek_city_market
    left_portrait = current_ruler
    right_portrait = scope:me_ant_01_9_sub_scope.current_ruler
    goto_location = scope:me_ant_01_9_sub_scope.capital_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        NOT = { has_variable = ant_01_9_sub_cooldown }
    }

    immediate = {
        set_variable = {
            name = ant_01_9_sub_cooldown
            days = 35
        }
        random_subject = {
            limit = {
                ant_01_9_sub_trigger = yes
                NOT = { has_variable = me_ant_01_9_sub_pop_contributor }
            }
            weight = {
                modifier = {
                    country_population >= 100
                    factor = 10
                }
            }
            save_scope_as = me_ant_01_9_sub_scope
            set_variable = {
                name = me_ant_01_9_sub_pop_contributor
                value = 0
                days = 730
            }
        }
        scope:me_ant_01_9_sub_scope = {
            change_variable = {
                name = me_ant_01_9_sub_pop_contributor
                add = antigonid_01_vision_9_sub_pop_proportion
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.95.a
        custom_tooltip = me_antigonid_1_vision.95.at
    }
}

me_antigonid_1_vision.96 = {                            # Attract Greek Colonists - TER
    type = country_event
    title = me_antigonid_1_vision.96.t
    desc = me_antigonid_1_vision.96.desc
    picture = greek_city
    left_portrait = current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        any_owned_province = { ant_01_9_ter_trigger = yes }
        NOT = { has_variable = ant_01_9_ter_cooldown }
    }

    immediate = {
        set_variable = {
            name = ant_01_9_ter_cooldown
            days = 35
        }
        random_owned_province = {
            limit = { ant_01_9_ter_trigger = yes }
            set_variable = {
                name = me_ant_01_9_ter_pop_contributor
                value = 0
                days = 730
            }
            save_scope_as = me_ant_01_9_ter_scope
        }
    }

    option = {
        name = me_antigonid_1_vision.96.a
        scope:me_ant_01_9_ter_scope = { me_ant_01_9_ter_effect = yes }
    }
}

me_antigonid_1_vision.111 = {                            # Rhodian Closure - END
    type = country_event
    title = me_antigonid_1_vision.111.t
    desc = {
        desc = me_antigonid_1_vision.111.desc
        first_valid = {
            triggered_desc = {
                trigger = {
                    p:266 = { is_model_shown = "wonder_colossus" }
                }
                desc = me_antigonid_1_vision.111.desc_1
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_antigonid_1_vision.111.desc_2
            }
        }
    }
    picture = rhodian_acropolis
    left_portrait = current_ruler
    right_portrait = c:EGY.current_ruler
    right_portrait = c:RHO.current_ruler
    goto_location = p:266

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.111.tt
        if = {
            limit = { c:EGY.current_ruler = char:42 }
            custom_tooltip = antigonid_01_vision_11_soter_tt
        }
    }

    option = {
        name = me_antigonid_1_vision.111.b
        p:266 = {
            add_province_modifier = {
                name = ant_01_11_1_pmod
                duration = 7300 # 20 years
            }
        }
    }
}

me_antigonid_1_vision.121 = {                            # Hellenic Liberator - START
    type = country_event
    title = me_antigonid_1_vision.121.t
    desc = me_antigonid_1_vision.121.desc
    picture = greek_city

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.121.tt
    }

    option = {
        name = me_antigonid_1_vision.121.a
        if = {
            limit = {
                any_country_culture = { is_culture = macedonian }
            }
            random_country_culture = {
                limit = { is_culture = macedonian }
                save_scope_as = macedonian_culture
            }
        }
        if = {
            limit = {
                exists = scope:macedonian_culture
                any_country_culture = {
                    NOT = { is_culture = macedonian }
                    THIS.culture.culture_group = scope:macedonian_culture.culture.culture_group
                }
            }
            show_as_tooltip = {
                random_country_culture = {
                    limit = {
                        NOT = { is_culture = macedonian }
                        THIS.culture.culture_group = scope:macedonian_culture.culture.culture_group
                    }
                    add_country_culture_modifier = {
                         name = ant_01_12_culmod
                         duration = 7300 # 20 years
                    }
                }
            }
            custom_tooltip = antigonid_01_vision_12_culture_tt
            hidden_effect = {
                every_country_culture = {
                    limit = {
                        NOT = { is_culture = macedonian }
                        THIS.culture.culture_group = scope:macedonian_culture.culture.culture_group
                    }
                    custom = antigonid_01_vision_12_culture_tt
                    add_country_culture_modifier = {
                         name = ant_01_12_culmod
                         duration = 7300 # 20 years
                    }
                }
            }
        }
    }
}

me_antigonid_1_vision.131 = {                            # League of Korinthos - START
    type = country_event
    title = me_antigonid_1_vision.131.t
    desc = me_antigonid_1_vision.131.desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    right_portrait = scope:ant_01_13_subject_1.current_ruler
    right_portrait = scope:ant_01_13_subject_2.current_ruler
    goto_location = p:418

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        add_political_influence = -100
        if = {
            limit = {
                any_subject = {
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                }
            }
            every_subject = {
                limit = {
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                }
                if = {
                    limit = { is_ai = no }
                    trigger_event = { id = me_antigonid_1_vision.134 }
                }
                add_to_list = ant_01_13_subject_list
                if = {
                    limit = {
                        any_in_list = { list = ant_01_13_subject_list }
                    }
                    ordered_in_list = {
                        list = ant_01_13_subject_list
                        position = 0
                        save_scope_as = ant_01_13_subject_1
                    }
                    if = {
                        limit = {
                            any_in_list = {
                                list = ant_01_13_subject_list
                                count > 1
                            }
                        }
                        ordered_in_list = {
                            list = ant_01_13_subject_list
                            position = 1
                            save_scope_as = ant_01_13_subject_2
                        }
                    }
                }
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.131.a
        custom_tooltip = me_antigonid_1_vision.131.at
    }
}

me_antigonid_1_vision.132 = {                            # League of Korinthos - END
    type = country_event
    title = me_antigonid_1_vision.132.t
    desc = me_antigonid_1_vision.132.desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    right_portrait = scope:ant_01_13_corinth_scope.current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.132.tt
        if = {
            limit = {
                any_subject = {
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                }
            }
            every_subject = {
                limit = {
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                }
                add_to_list = ant_01_13_subject_list
            }
        }
        else = {
            if = {
                limit = {
                    NOT = { p:418.owner = ROOT }
                }
                p:418.owner = { save_scope_as = ant_01_13_corinth_scope }
            }
            else = {
                p:418 = {
                    create_country = {
                        set_country_religion = roman_pantheon
                        if = {
                            limit = {
                                NOT = {
                                    primary_culture = p:418.culture
                                }
                            }
                            set_primary_culture_cleanup_effect = {
                                NEW_PRIMARY_CULTURE = p:418.culture
                                MAKE_OLD_CULTURE_INTEGRATED = yes
                            }
                        }
                        save_scope_as = ant_01_13_corinth_scope
                    }
                }
                ROOT = {
                    make_subject = {
                        target = scope:ant_01_13_corinth_scope
                        type = feudatory
                    }
                }
            }
        }
        if = {
            limit = {
                any_in_list = {
                    list = ant_01_13_subject_list
                    is_subject_of = ROOT
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                    is_ai = no
                }
            }
            random_in_list = {
                list = ant_01_13_subject_list
                limit = {
                    is_subject_of = ROOT
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                    is_ai = no
                }
                save_scope_as = ant_01_13_corinth_scope
            }
        }
        else = {
            if = {
                limit = {
                    any_subject = {
                        country_culture_group = hellenic
                        capital_scope = {
                            OR = {
                                is_in_area = boeotia_area
                                is_in_area = euboea_area
                                is_in_area = central_greece_area
                                is_in_area = achaea_area
                                is_in_area = arcadia_area
                                is_in_area = south_peleponnesos_area
                            }
                        }
                        owns = 418
                    }
                }
                p:418.owner = { save_scope_as = ant_01_13_corinth_scope }
            }
            else = {
                ordered_in_list = {
                    list = ant_01_13_subject_list
                    limit = {
                        is_subject_of = ROOT
                        country_culture_group = hellenic
                        capital_scope = {
                            OR = {
                                is_in_area = boeotia_area
                                is_in_area = euboea_area
                                is_in_area = central_greece_area
                                is_in_area = achaea_area
                                is_in_area = arcadia_area
                                is_in_area = south_peleponnesos_area
                            }
                        }
                    }
                    order_by = country_population
                    save_scope_as = ant_01_13_corinth_scope
                }
            }
        }
        every_in_list = {
            list = ant_01_13_subject_list
            every_country_treasure = { add_to_list = ant_01_13_subject_treasure_list }
        }
    }

    option = {
        name = me_antigonid_1_vision.132.a
        custom_tooltip = me_antigonid_1_vision.132.at
        every_owned_province = {
            limit = {
                OR = {
                    is_in_area = boeotia_area
                    is_in_area = euboea_area
                    is_in_area = central_greece_area
                    is_in_area = achaea_area
                    is_in_area = arcadia_area
                    is_in_area = south_peleponnesos_area
                }
            }
            hidden_effect = { set_owned_by = scope:ant_01_13_corinth_scope }
        }
        every_in_list = {
            list = ant_01_13_subject_treasure_list
            limit = {
                NOT = { treasure_owner = scope:ant_01_13_corinth_scope }
            }
            transfer_treasure_to_country = scope:ant_01_13_corinth_scope
        }
        every_in_list = {
            list = ant_01_13_subject_list
            limit = {
                is_subject_of = ROOT
                country_culture_group = hellenic
                capital_scope = {
                    OR = {
                        is_in_area = boeotia_area
                        is_in_area = euboea_area
                        is_in_area = central_greece_area
                        is_in_area = achaea_area
                        is_in_area = arcadia_area
                        is_in_area = south_peleponnesos_area
                    }
                }
                NOT = { THIS = scope:ant_01_13_corinth_scope }
            }
            hidden_effect = {
                every_owned_province = { set_owned_by = scope:ant_01_13_corinth_scope }
            }
        }
        scope:ant_01_13_corinth_scope = {
            show_as_tooltip = {
                set_capital = p:418
                if = {
                    limit = {
                        NOT = { is_subject_type = feudatory }
                    }
                    overlord = {
                        make_subject = {
                            type = feudatory
                            target = scope:ant_01_13_corinth_scope
                        }
                    }
                }
                hidden_effect = {
                    change_country_adjective = COT_ADJ
                    change_country_flag = CORINTH_FLAG
                    add_treasury = 100
                    add_manpower = 5
                    add_political_influence = 50
                }
                add_country_modifier = {
                    name = ant_01_13_cmod
                    duration = 7300 # 20 years
                }
                change_country_name = LEAGUE_OF_KORINTHOS
            }
            trigger_event = { id = me_antigonid_1_vision.136 }
        }
    }
}

me_antigonid_1_vision.133 = {                            # League of Korinthos - BYPASS
    type = country_event
    title = me_antigonid_1_vision.133.t
    desc = me_antigonid_1_vision.133.desc
    picture = greek_political_discussion

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {

    }

    option = {
        name = me_antigonid_1_vision.133.a
        custom_tooltip = me_antigonid_1_vision.133.at
    }
}

me_antigonid_1_vision.134 = {                            # League of Korinthos - PLAYER START PING
    type = country_event
    title = me_antigonid_1_vision.131.t
    desc = me_antigonid_1_vision.133.desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    right_portrait = scope:me_antigonids_scope.current_ruler
    goto_location = scope:me_antigonids_scope.capital_scope

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.134.a
        trigger = {
            any_in_list = {
                list = ant_01_13_subject_list
                count <= 1
                is_ai = no
            }
        }
        custom_tooltip = me_antigonid_1_vision.134.at
    }

    option = {
        name = me_antigonid_1_vision.134.b
        save_scope_as = ant_01_14_scope
        overlord = {
            show_as_tooltip = { release_subject = ROOT }
            trigger_event = { id = me_antigonid_1_vision.135 }
        }
    }
}

me_antigonid_1_vision.135 = {                            # League of Korinthos - ANT REJECTED PING
    type = country_event
    title = me_antigonid_1_vision.135.t
    desc = me_antigonid_1_vision.135.desc
    picture = greek_political_discussion

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        release_subject = scope:ant_01_14_scope
        custom_tooltip = me_antigonid_1_vision.135.tt
    }

    option = {
        name = me_antigonid_1_vision.135.a
    }
}

me_antigonid_1_vision.136 = {                            # League of Korinthos - PLAYER END PING
    type = country_event
    title = me_antigonid_1_vision.132.t
    desc = me_antigonid_1_vision.136.desc
    picture = greek_political_discussion

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.136.a
        custom_tooltip = me_antigonid_1_vision.132.at
        set_capital = p:418
        if = {
            limit = {
                NOT = { is_subject_type = feudatory }
            }
            hidden_effect = {
                overlord = { release_subject = ROOT }
            }
            overlord = {
                make_subject = {
                    type = feudatory
                    target = scope:ant_01_13_corinth_scope
                }
            }
        }
        hidden_effect = {
            change_country_adjective = COT_ADJ
            change_country_flag = CORINTH_FLAG
        }
        add_treasury = 100
        add_manpower = 5
        add_political_influence = 50
        add_country_modifier = {
            name = ant_01_13_cmod
            duration = 7300 # 20 years
        }
        change_country_name = LEAGUE_OF_KORINTHOS
    }
}

me_antigonid_1_vision.141 = {                            # Diadochi Conquest - END
    type = country_event
    title = me_antigonid_1_vision.141.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger ={ var:ant_1_5_target = 1 }
                desc = me_antigonid_1_vision.141.desc_1
            }
            triggered_desc = {
                trigger ={ var:ant_1_5_target = 2 }
                desc = me_antigonid_1_vision.141.desc_2
            }
            triggered_desc = {
                trigger ={ var:ant_1_5_target = 3 }
                desc = me_antigonid_1_vision.141.desc_3
            }
        }
        desc = me_antigonid_1_vision.141.desc
    }
    picture = diadochi_surrender_general
    left_portrait = current_ruler
    right_portrait = scope:ant_1_4_scope.current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        set_variable = {
            name = ant_1_5_target
            value = 0
        }
        custom_tooltip = me_antigonid_1_vision.141.tt
        if = {
            limit = {
                owns_or_subject_owns = 511
                owns_or_subject_owns = 655
                owns_or_subject_owns = 525
                owns_or_subject_owns = 509
                owns_or_subject_owns = 535
                owns_or_subject_owns = 656
                owns_or_subject_owns = 701
                owns_or_subject_owns_area = philistia_area
            }
            change_variable = {
                name = ant_1_5_target
                add = 1
            }
            c:EGY = {
                if = {
                    limit = { has_land = yes }
                    save_scope_as = ant_1_4_scope
                }
            }
        }
        else_if = {
            limit = {
                owns_or_subject_owns_area = europa_area
                owns_or_subject_owns_area = rhodope_area
            }
            change_variable = {
                name = ant_1_5_target
                add = 2
            }
            c:TRE = {
                if = {
                    limit = { has_land = yes }
                    save_scope_as = ant_1_4_scope
                }
                else_if = {
                    limit = {
                        c:MAC = { has_land = yes }
                    }
                    c:MAC = { save_scope_as = ant_1_4_scope }
                }
            }
        }
        else = {
            change_variable = {
                name = ant_1_5_target
                add = 3
            }
            c:SEL = {
                if = {
                    limit = { has_land = yes }
                    save_scope_as = ant_1_4_scope
                }
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.141.a
        current_ruler = { add_popularity = popularity_medium }
        add_country_modifier = {
            name = ant_01_14_cmod
            duration = 7300 # 20 years
        }
    }

    after = { remove_variable = ant_1_5_target }
}

me_antigonid_1_vision.151 = {                            # Pragmatic Alliance - START
    type = country_event
    title = me_antigonid_1_vision.151.t
    desc = me_antigonid_1_vision.151.desc
    picture = successors
    left_portrait = current_ruler
    right_portrait = scope:ant_01_15_portrait_1.current_ruler
    right_portrait = scope:ant_01_15_portrait_2.current_ruler
    right_portrait = scope:ant_01_15_portrait_3.current_ruler

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_antigonid_1_vision.151.tt
        if = {
            limit = {
                c:TRE = { ant_01_15_alliance_trigger = yes }
            }
            c:TRE = { add_to_list = ant_01_15_list }
        }
        if = {
            limit = {
                c:MAC = { ant_01_15_alliance_trigger = yes }
            }
            c:MAC = { add_to_list = ant_01_15_list }
        }
        if = {
            limit = {
                c:SEL = { ant_01_15_alliance_trigger = yes }
            }
            c:SEL = { add_to_list = ant_01_15_list }
        }
        if = {
            limit = {
                c:EGY = { ant_01_15_alliance_trigger = yes }
            }
            c:EGY = { add_to_list = ant_01_15_list }
        }
        ordered_in_list = {
            list = ant_01_15_list
            order_by = country_population
            position = 0
            save_scope_as = ant_01_15_portrait_1
        }
        if = {
            limit = {
                any_in_list = {
                    list = ant_01_15_list
                    count > 1
                }
            }
            ordered_in_list = {
                list = ant_01_15_list
                order_by = country_population
                position = 1
                save_scope_as = ant_01_15_portrait_2
            }
        }
        if = {
            limit = {
                any_in_list = {
                    list = ant_01_15_list
                    count > 2
                }
            }
            ordered_in_list = {
                list = ant_01_15_list
                order_by = country_population
                position = 2
                save_scope_as = ant_01_15_portrait_3
            }
        }
        if = {
            limit = {
                any_in_list = {
                    list = ant_01_15_list
                    count > 3
                }
            }
            ordered_in_list = {
                list = ant_01_15_list
                order_by = country_population
                position = 3
                save_scope_as = ant_01_15_portrait_4
            }
        }
        add_treasury = -50
        add_political_influence = -50
    }

    option = {
        name = me_antigonid_1_vision.151.a
        scope:ant_01_15_portrait_1 = { ant_01_15_effect = yes } # save scope, send next event
    }

    option = {
        name = me_antigonid_1_vision.151.b
        trigger = { exists = scope:ant_01_15_portrait_2 }
        scope:ant_01_15_portrait_2 = { ant_01_15_effect = yes }
    }

    option = {
        name = me_antigonid_1_vision.151.c
        trigger = { exists = scope:ant_01_15_portrait_3 }
        scope:ant_01_15_portrait_3 = { ant_01_15_effect = yes }
    }

    option = {
        name = me_antigonid_1_vision.151.d
        trigger = { exists = scope:ant_01_15_portrait_4 }
        scope:ant_01_15_portrait_4 = { ant_01_15_effect = yes }
    }

    option = {
        name = me_antigonid_1_vision.151.e
        add_treasury = 50
        add_political_influence = 50
    }
}

me_antigonid_1_vision.152 = {                            # Pragmatic Alliance - MARRIAGE
    type = country_event
    title = me_antigonid_1_vision.152.t
    desc = me_antigonid_1_vision.152.desc
    picture = successors
    left_portrait = current_ruler
    left_portrait = scope:ant_01_15_target.current_ruler
    right_portrait = scope:me_antigonids_scope.var:ant_01_15_groom_flag
    right_portrait = scope:me_antigonids_scope.var:ant_01_15_bride_flag

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        current_ruler = { # We have a eligible man or woman
            any_child = { ant_01_15_marriage_candidate_trigger = yes }
        }
        scope:ant_01_15_target.current_ruler = { # They have an eligible man or woman
            any_child = { ant_01_15_marriage_candidate_trigger = yes }
        }
        trigger_if = {
            limit = {
                current_ruler = { # If we have an eligible man
                    any_child = {
                        ant_01_15_marriage_candidate_trigger = yes
                        employer = PREV.employer
                        is_female = no
                    }
                }
            }
            scope:ant_01_15_target.current_ruler = { # They have an eligible woman
                any_child = {
                    ant_01_15_marriage_candidate_trigger = yes
                    employer = PREV.employer
                    is_female = yes
                    age <= 30
                }
            }
        }
        trigger_else = {
            current_ruler = { # We have an eligible woman
                any_child = {
                    ant_01_15_marriage_candidate_trigger = yes
                    employer = PREV.employer
                    is_female = yes
                    age <= 30
                }
            }
            scope:ant_01_15_target.current_ruler = { # They have an eligible man
                any_child = {
                    ant_01_15_marriage_candidate_trigger = yes
                    employer = PREV.employer
                    is_female = no
                }
            }
        }
    }

    immediate = {
        current_ruler = {
            if = { # Our groom and their bride
                limit = {
                    any_child = {
                        ant_01_15_marriage_candidate_trigger = yes
                        is_female = no
                    }
                }
                ordered_child = {
                    limit = {
                        ant_01_15_marriage_candidate_trigger = yes
                        is_female = no
                    }
                    order_by = age
                    scope:me_antigonids_scope = {
                        set_variable = {
                            name = ant_01_15_groom_flag
                            value = PREV.PREV
                            days = 180
                        }
                    }
                }
                scope:ant_01_15_target.current_ruler = {
                    ordered_child = {
                        limit = {
                            ant_01_15_marriage_candidate_trigger = yes
                            is_female = yes
                            age <= 30
                        }
                        order_by = age
                        scope:me_antigonids_scope = {
                            set_variable = {
                                name = ant_01_15_bride_flag
                                value = PREV.PREV
                                days = 180
                            }
                        }
                    }
                }
            }
            else = { # Our bride and their groom
                ordered_child = {
                    limit = {
                        ant_01_15_marriage_candidate_trigger = yes
                        is_female = yes
                        age <= 30
                    }
                    order_by = age
                    scope:me_antigonids_scope = {
                        set_variable = {
                            name = ant_01_15_bride_flag
                            value = PREV.PREV
                            days = 180
                        }
                    }
                }
                scope:ant_01_15_target.current_ruler = {
                    ordered_child = {
                        limit = {
                            ant_01_15_marriage_candidate_trigger = yes
                            is_female = no
                        }
                        order_by = age
                        save_scope_as = ant_01_15_groom
                        scope:me_antigonids_scope = {
                            set_variable = {
                                name = ant_01_15_groom_flag
                                value = PREV.PREV
                                days = 180
                            }
                        }
                    }
                }
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.152.a
        custom_tooltip = me_antigonid_1_vision.152.at
        custom_tooltip = me_antigonid_1_vision.152.bt
        scope:ant_01_15_target = {
            set_variable = ant_01_15_marriage_flag
            trigger_event = {
                id = me_antigonid_1_vision.153
                days = 5
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.152.b
        custom_tooltip = me_antigonid_1_vision.152.bt
        scope:ant_01_15_target = {
            trigger_event = {
                id = me_antigonid_1_vision.153
                days = 5
            }
        }
    }

    option = {
        name = me_antigonid_1_vision.152.c
        add_treasury = 50
        add_political_influence = 50
    }
}

me_antigonid_1_vision.153 = {                            # Pragmatic Alliance - OFFER
    type = country_event
    title = me_antigonid_1_vision.153.t
    desc = {
        desc = me_antigonid_1_vision.153.desc
        triggered_desc = {
            trigger = {
                has_variable = ant_01_15_marriage_flag
                scope:me_antigonids_scope = { has_variable = ant_01_15_groom_flag }
                scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
                scope:me_antigonids_scope = { has_variable = ant_01_15_bride_flag }
                scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
            }
            desc = me_antigonid_1_vision.153.desc_1
        }
    }
    picture = successors
    left_portrait = current_ruler
    left_portrait = scope:me_antigonids_scope.var:ant_01_15_groom_flag
    right_portrait = scope:me_antigonids_scope.current_ruler
    right_portrait = scope:me_antigonids_scope.var:ant_01_15_bride_flag

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
        NOR = {
            alliance_with = scope:me_antigonids_scope
            war_with = scope:me_antigonids_scope
            is_subject = yes
            current_ruler = { is_rival = scope:me_antigonids_scope.current_ruler }
        }
    }

    option = {
        name = me_antigonid_1_vision.153.a
        trigger = {
            has_variable = ant_01_15_marriage_flag
            scope:me_antigonids_scope = { has_variable = ant_01_15_groom_flag }
            scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
            scope:me_antigonids_scope = { has_variable = ant_01_15_bride_flag }
            scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
        }
        add_treasury = 50
        show_as_tooltip = {
            scope:me_antigonids_scope.var:ant_01_15_groom_flag = {
                if = {
                    limit = { is_married = yes }
                    divorce_character = spouse
                }
            }
            scope:me_antigonids_scope.var:ant_01_15_bride_flag = {
                if = {
                    limit = { is_married = yes }
                    divorce_character = spouse
                }
                move_country = scope:me_antigonids_scope.var:ant_01_15_groom_flag.employer
            }
            scope:me_antigonids_scope.var:ant_01_15_groom_flag = { marry_character = scope:me_antigonids_scope.var:ant_01_15_bride_flag }
            add_alliance = scope:me_antigonids_scope
            add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_mar_opmod }
            reverse_add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_mar_opmod }
        }
        set_variable = {
            name = ant_01_15_resp
            value = 1
        }
    }

    option = {
        name = me_antigonid_1_vision.153.b
        trigger = {
            has_variable = ant_01_15_marriage_flag
            scope:me_antigonids_scope = { has_variable = ant_01_15_groom_flag }
            scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
            scope:me_antigonids_scope = { has_variable = ant_01_15_bride_flag }
            scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
        }
        add_treasury = 25
        show_as_tooltip = {
            add_alliance = scope:me_antigonids_scope
            add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_pra_opmod }
            reverse_add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_pra_opmod }
        }
        set_variable = {
            name = ant_01_15_resp
            value = 3
        }
        scope:me_antigonids_scope = { remove_variable = ant_01_15_groom_flag }
        scope:me_antigonids_scope = { remove_variable = ant_01_15_bride_flag }
    }

    option = {
        name = me_antigonid_1_vision.153.c
        trigger = {
            OR = {
                NOT = { has_variable = ant_01_15_marriage_flag }
                AND = {
                    scope:me_antigonids_scope = { has_variable = ant_01_15_groom_flag }
                    scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
                    scope:me_antigonids_scope = { has_variable = ant_01_15_bride_flag }
                    scope:me_antigonids_scope.var:ant_01_15_groom_flag = { ant_01_15_marriage_candidate_trigger = yes }
                }
            }
        }
        add_treasury = 25
        show_as_tooltip = {
            add_alliance = scope:me_antigonids_scope
            add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_pra_opmod }
            reverse_add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_pra_opmod }
        }
        set_variable = {
            name = ant_01_15_resp
            value = 2
        }
    }

    option = {
        name = me_antigonid_1_vision.153.d
        set_variable = {
            name = ant_01_15_resp
            value = 4
        }
        show_as_tooltip = {
            add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_rej_opmod }
            reverse_add_opinion = { target = scope:me_antigonids_scope modifier = ant_01_15_rej_opmod }
        }
        if = {
            limit = {
                scope:me_antigonids_scope = { has_variable = ant_01_15_groom_flag }
            }
            scope:me_antigonids_scope = { remove_variable = ant_01_15_groom_flag }
        }
        if = {
            limit = {
                scope:me_antigonids_scope = { has_variable = ant_01_15_bride_flag }
            }
            scope:me_antigonids_scope = { remove_variable = ant_01_15_bride_flag }
        }
    }

    after = {
        remove_variable = ant_01_15_marriage_flag
        scope:me_antigonids_scope = {
            trigger_event = { id = me_antigonid_1_vision.154 }
        }
    }
}

me_antigonid_1_vision.154 = {                            # Pragmatic Alliance - END
    type = country_event
    title = me_antigonid_1_vision.154.t
    desc = {
        desc = me_antigonid_1_vision.154.desc
        first_valid = {
            triggered_desc = {
                trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 1 }
                desc = me_antigonid_1_vision.154.desc_1
            }
            triggered_desc = {
                trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 2 }
                desc = me_antigonid_1_vision.154.desc_2
            }
            triggered_desc = {
                trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 3 }
                desc = me_antigonid_1_vision.154.desc_3
            }
            triggered_desc = {
                trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 4 }
                desc = me_antigonid_1_vision.154.desc_4
            }
        }
    }
    picture = diadochi_greek_royal_wedding
    left_portrait = current_ruler
    left_portrait = scope:me_antigonids_scope.var:ant_01_15_groom_flag
    right_portrait = scope:ant_01_15_target.current_ruler
    right_portrait = scope:me_antigonids_scope.var:ant_01_15_bride_flag

    trigger = {
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {
        name = me_antigonid_1_vision.154.a
        trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 1 }
        scope:me_antigonids_scope.var:ant_01_15_groom_flag = {
            if = {
                limit = { is_married = yes }
                divorce_character = spouse
            }
            if = {
                limit = { has_variable = betrothed_flag }
                var:betrothed_flag = { remove_variable = betrothed_flag }
                remove_variable = betrothed_flag
            }
        }
        scope:me_antigonids_scope.var:ant_01_15_bride_flag = {
            if = {
                limit = { is_married = yes }
                divorce_character = spouse
            }
            if = {
                limit = { has_variable = betrothed_flag }
                var:betrothed_flag = { remove_variable = betrothed_flag }
                remove_variable = betrothed_flag
            }
            hidden_effect = { remove_all_positions = yes }
            move_country = scope:me_antigonids_scope.var:ant_01_15_groom_flag.employer
            hidden_effect = {
                remove_character_modifier = foreign_citizen
                set_as_minor_character = scope:me_antigonids_scope.var:ant_01_15_bride_flag
                set_home_country = scope:me_antigonids_scope.var:ant_01_15_groom_flag.employer
            }
        }
        scope:me_antigonids_scope.var:ant_01_15_groom_flag = { marry_character = scope:me_antigonids_scope.var:ant_01_15_bride_flag }
        add_alliance = scope:ant_01_15_target
        add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_mar_opmod }
        reverse_add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_mar_opmod }
    }

    option = {
        name = me_antigonid_1_vision.154.b
        trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 2 }
        add_alliance = scope:ant_01_15_target
        add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_pra_opmod }
        reverse_add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_pra_opmod }
    }

    option = {
        name = me_antigonid_1_vision.154.c
        trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 3 }
        add_alliance = scope:ant_01_15_target
        add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_pra_opmod }
        reverse_add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_pra_opmod }
    }

    option = {
        name = me_antigonid_1_vision.154.d
        trigger = { scope:ant_01_15_target.var:ant_01_15_resp = 4 }
        add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_rej_opmod }
        reverse_add_opinion = { target = scope:ant_01_15_target modifier = ant_01_15_rej_opmod }
    }

    after = {
        scope:ant_01_15_target = { remove_variable = ant_01_15_resp }
        if = {
            limit = { alliance_with = scope:ant_01_15_target }
            every_country = {
                limit = {
                    OR = {
                        tag = TRE
                        tag = EGY
                        tag = SEL
                        tag = MAC
                    }
                    has_land = yes
                    NOT = { this = scope:ant_01_15_target }
                }
                trigger_event = { id = me_antigonid_1_vision.158 }
            }
        }
    }
}

me_antigonid_1_vision.156 = {                            # Pragmatic Alliance - OFFER FALLBACK TRIGGER
    type = country_event
    hidden = yes

    immediate = {
        scope:ant_01_15_target = {
            trigger_event = { id = me_antigonid_1_vision.153 }
        }
    }
}

me_antigonid_1_vision.157 = {                            # Pragmatic Alliance - RESPONSE FALLBACK TRIGGER
    type = country_event
    hidden = yes

    immediate = {
        scope:me_antigonids_scope = {
            trigger_event = { id = me_antigonid_1_vision.155 }
        }
    }
}

me_antigonid_1_vision.158 = {                            # Pragmatic Alliance - ALLIANCE PING
    type = country_event
    title = me_antigonid_1_vision.153.t
    desc = me_antigonid_1_vision.158.desc
    picture = successors
    left_portrait = current_ruler
    right_portrait = scope:me_antigonids_scope.current_ruler
    right_portrait = scope:ant_01_15_target.current_ruler

    option = {
        name = me_antigonid_1_vision.158.a
        if = {
            limit = {
                scope:me_antigonids_scope = { has_variable = ant_01_15_bride_flag }
                scope:me_antigonids_scope = { has_variable = ant_01_15_groom_flag }
                scope:me_antigonids_scope.var:ant_01_15_groom_flag.spouse = scope:me_antigonids_scope.var:ant_01_15_bride_flag
            }
            show_as_tooltip = {
                scope:me_antigonids_scope.var:ant_01_15_groom_flag = { marry_character = scope:me_antigonids_scope.var:ant_01_15_bride_flag }
            }
        }
        show_as_tooltip = {
            scope:me_antigonids_scope = { add_alliance = scope:ant_01_15_target }
        }
    }
}

### Added by Invictus

me_antigonid_1_vision.200 = { # Antigonid Supremacy
    type = country_event
    title = me_antigonid_1_vision.200.t
    desc = me_antigonid_1_vision.200.desc
    picture = successors
    left_portrait = char:39
    left_portrait = current_ruler
    right_portrait = char:41
    right_portrait = char:24
    right_portrait = char:32
    left_portrait = char:42

    option = {
        name = me_antigonid_1_vision.200.a
        add_country_modifier = {
            name = antigonid_victory
            duration = 3650 # 20 years
        }
    }
}

me_antigonid_1_vision.201 = { # Egypt
    type = country_event
    title = me_antigonid_1_vision.201.t
    desc = me_antigonid_1_vision.201.desc
    picture = levantine_egyptian_path_3_event
    left_portrait = current_ruler
    right_portrait = char:42

    option = {
        name = me_antigonid_1_vision.201.a
        if = {
            limit = {
                any_integrated_culture = {
                    OR = {
                        is_culture = egyptian
                        is_culture = upper_egyptian
                        is_culture = middle_egyptian
                    }
                }
            }
            every_country_culture = {
                limit = {
                    OR = {
                        is_culture = egyptian
                        is_culture = upper_egyptian
                        is_culture = middle_egyptian
                    }
                }
                add_country_culture_modifier = {
                    name = integrated_into_antigonids
                    duration = 9125 # 25 years, 1 generation
                }
            }
        }
        else_if = {
            limit = {
                AND = {
                    any_country_culture = {
                        AND = {
                            is_culture = egyptian
                            has_pop_type_right = slaves
                        }
                    }
                    any_country_culture = {
                        AND = {
                            is_culture = upper_egyptian
                            has_pop_type_right = slaves
                        }
                    }
                    any_country_culture = {
                        AND = {
                            is_culture = middle_egyptian
                            has_pop_type_right = slaves
                        }
                    }
                }
            }
            every_owned_province = {
				limit = {
					province_dominant_culture_group = north_african
				}
				add_province_modifier = {
					name = antigonid_oppression
					duration = 9125 # 25 years, 1 generation
				}
			}
        }
        else = { # just in case, idk lol
            add_stability = 10
        }
    }
}

me_antigonid_1_vision.202 = { # Mesopotamia
    type = country_event
    title = me_antigonid_1_vision.202.t
    desc = me_antigonid_1_vision.202.desc
    picture = hanging_gardens
    left_portrait = current_ruler
    right_portrait = char:24

    option = {
        name = me_antigonid_1_vision.202.a
        if = {
            limit = {
                any_integrated_culture = {
                    OR = {
                        is_culture = babylonian
                        is_culture = assyrian
                    }
                }
            }
            every_country_culture = {
                limit = {
                    OR = {
                        is_culture = assyrian
                        is_culture = babylonian
                    }
                }
                add_country_culture_modifier = {
                    name = integrated_into_antigonids
                    duration = 9125 # 25 years, 1 generation
                }
            }
        }
        else_if = {
            limit = {
                AND = {
                    any_country_culture = {
                        AND = {
                            is_culture = babylonian
                            has_pop_type_right = slaves
                        }
                    }
                    any_country_culture = {
                        AND = {
                            is_culture = assyrian
                            has_pop_type_right = slaves
                        }
                    }
                }
            }
            every_owned_province = {
				limit = {
					OR = {
						dominant_province_culture = babylonian
						dominant_province_culture = assyrian
					}
				}
				add_province_modifier = {
					name = antigonid_oppression
					duration = 9125 # 25 years, 1 generation
				}
			}
        }
        else = { # just in case, idk lol
            add_stability = 10
        }
    }
}

me_antigonid_1_vision.203 = { # Thrace
    type = country_event
    title = me_antigonid_1_vision.203.t
    desc = me_antigonid_1_vision.203.desc
    picture = proscription
    left_portrait = current_ruler
    right_portrait = char:41

    option = {
        name = me_antigonid_1_vision.203.a
        if = {
            limit = {
                any_integrated_culture = {
                    is_culture = odrysi
                }
            }
            random_country_culture = {
                limit = {
                    is_culture = odrysi
                }
                add_country_culture_modifier = {
                    name = integrated_into_antigonids
                    duration = 9125 # 25 years, 1 generation
                }
            }
        }
        else_if = {
            limit = {
                any_country_culture = {
                    AND = {
                        is_culture = odrysi
                        has_pop_type_right = slaves
                    }
                }
            }
            custom_tooltip = all_same_reward_thrace_tt
            show_as_tooltip = {
                random_owned_province = {
                    limit = {
                        OR = {
                            dominant_province_culture = odrysi
                        }
                    }
                    add_province_modifier = {
                        name = antigonid_oppression
                        duration = 9125 # 25 years, 1 generation
                    }
                }
            }
            hidden_effect = {
                every_owned_province = {
                    limit = {
                        OR = {
                            dominant_province_culture = odrysi
                        }
                    }
                    add_province_modifier = {
                        name = antigonid_oppression
                        duration = 9125 # 25 years, 1 generation
                    }
                }
            }
        }
        else = { # just in case, idk lol
            add_stability = 10
        }

        if = {
            limit = {
                c:ODR = {
                    is_subject_of = root
                }
            }
            c:ODR = {
                add_country_modifier = {
                    name = antigonid_subject 
                    duration = 7300 # 20 years
                }
            }
            add_manpower = 5
        }

        else_if = {
            limit = {
                c:ODR = {
                    alliance_with = root
                }
            }
            add_political_influence = 15
        }

        else_if = {
            limit = {
                owns = 478
            }
            add_treasury = 100
        }
    }
}

me_antigonid_1_vision.204 = {
    type = country_event
    title = me_antigonid_1_vision.204.t
    desc = me_antigonid_1_vision.204.desc
    picture = great_city
    left_portrait = current_ruler
    right_portrait = char:32

    option = {
        name = me_antigonid_1_vision.204.a
        add_treasury = -400
        add_2_free_province_investments = yes
        p:379 = {
            set_city_status = city_metropolis
        }
    }
}

me_antigonid_1_vision.205 = {
    type = country_event
    title = me_antigonid_1_vision.205.t
    desc = me_antigonid_1_vision.205.desc
    picture = great_city
    left_portrait = char:37
    right_portrait = char:39

    option = {
        name = me_antigonid_1_vision.205.a
        add_country_modifier = {
            name = stable_antigonids
            duration = -1
        }
    }
}

me_antigonid_1_vision.206 = {
    type = country_event
    title = me_antigonid_1_vision.206.t
    desc = me_antigonid_1_vision.206.desc
    picture = levantine_egyptian_path_4_event
    left_portrait = current_ruler

    option = {
        name = me_antigonid_1_vision.206.a
        p:761 = { add_road_towards = p:776 }
			p:776 = { add_road_towards = p:775 }
			p:775 = { add_road_towards = p:754 }
			p:754 = { add_road_towards = p:815 }
			p:803 = { add_road_towards = p:815 }
			p:803 = { add_road_towards = p:804 }
			p:761 = {
				add_province_modifier = {
					name = antigonid_syrian_governance
					duration = -1
				}
			}
			p:777 = {
				add_province_modifier = {
					name = antigonid_syrian_governance
					duration = -1
				}
			}
			p:782 = {
				add_province_modifier = {
					name = antigonid_syrian_governance
					duration = -1
				}
			}
			p:798 = {
				add_province_modifier = {
					name = antigonid_syrian_governance
					duration = -1
				}
			}
			p:811 = {
				add_province_modifier = {
					name = antigonid_syrian_governance
					duration = -1
				}
			}
			p:754 = {
				add_province_modifier = {
					name = antigonid_syrian_governance
					duration = -1
				}
			}
			p:804 = {
				add_province_modifier = {
					name = antigonid_syrian_governance
					duration = -1
				}
			}
    }
}

me_antigonid_1_vision.207 = {
    type = country_event
    title = me_antigonid_1_vision.207.t
    desc = me_antigonid_1_vision.207.desc
    picture = farming
    left_portrait = current_ruler

    option = {
        name = me_antigonid_1_vision.207.a
        p:1881 = {
            add_province_modifier = {
                name = cilician_trade
                duration = -1
            }
        }
        p:1883 = {
            add_province_modifier = {
                name = cilician_trade
                duration = -1
            }
        }
        p:166 = {
            add_province_modifier = {
                name = cilician_trade
                duration = -1
            }
        }
    }
}

me_antigonid_1_vision.208 = {
    type = country_event
    title = me_antigonid_1_vision.208.t
    desc = me_antigonid_1_vision.208.desc
    picture = city_construction
    left_portrait = current_ruler

    option = {
        name = me_antigonid_1_vision.208.a
        p:1951 = {
            add_province_modifier = {
                name = ancient_tyana
                duration = -1
            }
        }
    }
}

me_antigonid_1_vision.209 = {
    type = country_event
    title = me_antigonid_1_vision.209.t
    desc = me_antigonid_1_vision.209.desc
    picture = diadochi_coronation
    left_portrait = current_ruler

    option = {
        name = me_antigonid_1_vision.209.a
        add_country_modifier = {
            name = strategos_of_asia
            duration = 7300 # 20 years
        }
    }
}

me_antigonid_1_vision.210 = {
    type = country_event
    title = me_antigonid_1_vision.210.t
    desc = me_antigonid_1_vision.210.desc
    picture = levantine_arabian_path_6_event
    left_portrait = current_ruler

    option = {
        name = me_antigonid_1_vision.210.a
        add_manpower = 20
        add_stability = 5
        add_treasury = -200
        add_country_modifier = {
            name = phrygia_growing
            duration = 7300
        }
        p:188 = {
            if = {
                limit = {
                    NOR = { 
                        has_province_rank = city 
                        has_province_rank = city_metropolis
                    } 
                }
                custom_tooltip = "time_to_complete_city_tt"
                hidden_effect = {
                    add_province_modifier = {
                        name = founding_city_in_progress
                        duration = 730
                    }
                }
                trigger_event = {
                    id = state_improvement.6
                    days = 730
                }
            }
        }
        p:189 = {
            if = {
                limit = {
                    NOR = { 
                        has_province_rank = city 
                        has_province_rank = city_metropolis
                    } 
                }
                custom_tooltip = "time_to_complete_city_tt"
                hidden_effect = {
                    add_province_modifier = {
                        name = founding_city_in_progress
                        duration = 730
                    }
                }
                trigger_event = {
                    id = state_improvement.6
                    days = 730
                }
            }
        }
    }
}

me_antigonid_1_vision.211 = {
    type = country_event
    title = me_antigonid_1_vision.211.t
    desc = me_antigonid_1_vision.211.desc
    picture = great_city
    left_portrait = current_ruler

    option = {
        name = me_antigonid_1_vision.211.a
        p:1936 = {
            add_province_modifier = {
                name = old_capital_kelainai
                duration = -1
            }
        }
    }
}