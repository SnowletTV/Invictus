namespace = me_diadochi_empire_events

me_diadochi_empire_events.1 = {
    type = country_event
    title = me_diadochi_empire_events.1.t
    desc = me_diadochi_empire_events.1.desc
    picture = diadochi_greek_royal_wedding
    left_portrait = current_ruler
	goto_location = scope:venerated_deity_holy_site

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
		exists = scope:venerated_deity_2
		exists = scope:venerated_deity
		exists = scope:venerated_deity_holy_site
		exists = scope:venerated_deity_2_holy_site
    }
	
	immediate = {
	
		#First Culture:
		if = {
			limit = {
				scope:venerated_deity_holy_site = {
					NOT = { dominant_province_culture = ROOT.culture }
				}
			}
			random_country_culture = {
				limit = {
					is_culture = scope:venerated_deity_holy_site.culture
				}
				save_scope_as = venerated_deity_culture
			}
		}
		else_if = {
			scope:venerated_deity_holy_site = {
				random_pops_in_province = {
					limit = {
						pop_religion = scope:venerated_deity.religion
						NOT = { pop_culture = root.culture }
					}
					save_scope_as = pop_with_religion_1
				}
			}
			random_country_culture = {
				limit = {
					is_culture = scope:pop_with_religion_1.culture
				}
				save_scope_as = venerated_deity_culture
			}
		}
		else = {
			random_owned_province = {
				limit = {
					dominant_province_religion = scope:venerated_deity.religion
					NOT = { dominant_province_culture = root.culture }
					any_pops_in_province = {
						pop_religion = scope:venerated_deity.religion
						NOT = { pop_culture = root.culture }
					}
				}
				random_pops_in_province = {
					limit = {
						pop_religion = scope:venerated_deity.religion
						NOT = { pop_culture = root.culture }
					}
					save_scope_as = pop_with_religion_1
				}
			}
			random_country_culture = {
				limit = {
					is_culture = scope:pop_with_religion_1.culture
				}
				save_scope_as = venerated_deity_culture
			}
		}
		
		#Second Culture
		if = {
			limit = {
				scope:venerated_deity_2_holy_site = {
					NOT = { dominant_province_culture = ROOT.culture }
				}
			}
			random_country_culture = {
				limit = {
					is_culture = scope:venerated_deity_2_holy_site.culture
				}
				save_scope_as = venerated_deity_2_culture
			}
		}
		else_if = {
			scope:venerated_deity_2_holy_site = {
				random_pops_in_province = {
					limit = {
						pop_religion = scope:venerated_deity_2.religion
						NOT = { pop_culture = root.culture }
					}
					save_scope_as = pop_with_religion_2
				}
			}
			random_country_culture = {
				limit = {
					is_culture = scope:pop_with_religion_2.culture
				}
				save_scope_as = venerated_deity_2_culture
			}
		}
		else = {
			random_owned_province = {
				limit = {
					dominant_province_religion = scope:venerated_deity_2.religion
					NOT = { dominant_province_culture = root.culture }
					any_pops_in_province = {
						pop_religion = scope:venerated_deity_2.religion
						NOT = { pop_culture = root.culture }
					}
				}
				random_pops_in_province = {
					limit = {
						pop_religion = scope:venerated_deity_2.religion
						NOT = { pop_culture = root.culture }
					}
					save_scope_as = pop_with_religion_2
				}
			}
			random_country_culture = {
				limit = {
					is_culture = scope:pop_with_religion_2.culture
				}
				save_scope_as = venerated_deity_2_culture
			}
		}
	}

    option = {      
		name = me_diadochi_empire_events.1.a
		trigger = {
			NOT = { scope:venerated_deity_2_culture = scope:venerated_deity_culture }
		}
		add_treasury = -500
		scope:venerated_deity_holy_site = {
			add_permanent_province_modifier = {
				name = "royal_shrine_modifier"
				duration = -1
			}
		}
		scope:venerated_deity_culture = {
			add_country_culture_modifier = {
				name = "venerated_deity_modifier"
				duration = 3650
			}
		}
	   
    }
    option = {      
		name = me_diadochi_empire_events.1.b
		trigger = {
			NOT = { scope:venerated_deity_2_culture = scope:venerated_deity_culture }
		}
		add_treasury = -500
		scope:venerated_deity_2_holy_site = {
			add_permanent_province_modifier = {
				name = "royal_shrine_modifier"
				duration = -1
			}
		}
		scope:venerated_deity_2_culture = {
			add_country_culture_modifier = {
				name = "venerated_deity_modifier"
				duration = 3650
			}
		}
    }
    option = {      
		name = me_diadochi_empire_events.1.c #Why not both?
		trigger = {
			NOT = { scope:venerated_deity_2_culture = scope:venerated_deity_culture }
			treasury >= 1000
		}
		add_treasury = -1000
		scope:venerated_deity_holy_site = {
			add_permanent_province_modifier = {
				name = "royal_shrine_modifier"
				duration = -1
			}
		}
		scope:venerated_deity_culture = {
			add_country_culture_modifier = {
				name = "venerated_deity_modifier"
				duration = 3650
			}
		}
		scope:venerated_deity_2_holy_site = {
			add_permanent_province_modifier = {
				name = "royal_shrine_modifier"
				duration = -1
			}
		}
		scope:venerated_deity_2_culture = {
			add_country_culture_modifier = {
				name = "venerated_deity_modifier"
				duration = 3650
			}
		}
    }
	option = {
		name = me_diadochi_empire_events.1.d #Same is same
		trigger = {
			scope:venerated_deity_2_culture = scope:venerated_deity_culture
		}
		add_treasury = -500
		scope:venerated_deity_holy_site = {
			add_permanent_province_modifier = {
				name = "royal_shrine_modifier"
				duration = -1
			}
		}
		scope:venerated_deity_culture = {
			add_country_culture_modifier = {
				name = "venerated_deity_modifier"
				duration = 3650
			}
		}
	}
}

me_diadochi_empire_events.2 = {
    type = country_event
    title = me_diadochi_empire_events.2.t
    desc = me_diadochi_empire_events.2.desc
    picture = diadochi_greek_royal_wedding
    left_portrait = current_ruler
	goto_location = scope:shrine_decay_province

    trigger = { 
		has_dlc = "Heirs of Alexander"
		any_owned_province = {
			has_province_modifier = royal_shrine_modifier
			OR = {
				is_holy_site = no
				ROOT = {
					NOT = { has_deity_in_pantheon = PREV.province_deity }
				}
			}
		}
    }
	
	immediate = {
		random_owned_province = {
			limit = { has_province_modifier = royal_shrine_modifier }
			remove_province_modifier = royal_shrine_modifier
			save_scope_as = shrine_decay_province
		}
		capital_scope = {
			save_scope_as = palace_province
		}
	}

    option = {      
		name = me_diadochi_empire_events.2.a
		add_stability = -5
	}
}

me_diadochi_empire_events.3 = {
    type = country_event
    title = me_diadochi_empire_events.3.t
    desc = me_diadochi_empire_events.3.desc
    picture = diadochi_ptolemy_city
    left_portrait = current_ruler
	goto_location = scope:shrine_decay_province

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	

    option = {      
		name = me_diadochi_empire_events.3.a
		add_innovation = 4
		add_stability = 35
	}
}


me_diadochi_empire_events.4 = {
    type = country_event
    title = me_diadochi_empire_events.4.t
    desc = me_diadochi_empire_events.4.desc
    picture = diadochi_seleucus_elephant
    left_portrait = current_ruler
	goto_location = scope:shrine_decay_province

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	

    option = {      
		name = me_diadochi_empire_events.4.a
		add_treasury = -500
		add_military_experience = -100
		#TODO create silver shields legion.
	}
}

me_diadochi_empire_events.5 = { #Barons of Macedon
    type = country_event
    title = me_diadochi_empire_events.5.t
    desc = me_diadochi_empire_events.5.desc
    picture = diadochi_greek_royal_wedding
    left_portrait = current_ruler
    right_portrait = scope:candidate
	goto_location = scope:pella_macedon_scope

    trigger = {
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = { 
		hidden_effect = { 
			ordered_character = {
				limit = {
					has_culture = macedonian
					is_adult = yes
					power_base > 5
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				alternative_limit = {
					has_culture_group = hellenic
					power_base > 5
					is_adult = yes
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				alternative_limit = {
					has_culture_group = hellenic
					is_adult = yes
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				order_by = power_base
				save_scope_as = candidate
			}
			if = { #Did we find someone?
				limit = {
					NOT = { exists = scope:candidate }
				}
				create_character = {
					culture = macedonian
					religion = roman_pantheon
					age = 30
					save_scope_as = candidate
				}
			}
		}
	}
	

    option = {      
		name = me_diadochi_empire_events.5.a
		every_country_culture = {
			limit = {
				OR = {
					is_culture = macedonian
					is_culture = scope:candidate.culture
				}
			}
			add_country_culture_modifier = {
				name = "macedonian_barons_confirmed"
				duration = 9125
			}
		}
		custom_tooltip = satrapy_of_macedon_release
		hidden_effect = {
			p:379 = { #Pella
				create_country = {
					name = {
						name = SATRAPY_OF_MACEDON
						adjective = MACEDONIAN_SATRAPY_ADJECTIVE
					}
					save_scope_as = macedon_satrapy
				}
			}
			scope:candidate = {
				remove_all_positions = yes
				move_country = scope:macedon_satrapy
				remove_character_modifier = foreign_citizen
				set_as_minor_character = this
			}
			scope:macedon_satrapy = {
				change_country_tag = SMC
				change_country_flag = SMC
				change_country_color = dark_rust
				set_primary_culture = macedonian
				change_government = aristocratic_monarchy
				change_law = elective_succession_law
				add_treasury = 500.0
				set_as_ruler = scope:candidate
				while = { # Populate with some characters
					count = 15
					create_character = {
						culture = macedonian
						religion = roman_pantheon
						female = no
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						is_in_region = macedonia_region
						is_in_region = greece_region
					}
				}
				set_conquered_by = scope:macedon_satrapy
			}
			make_subject = { # Make Satrapy
				target = scope:macedon_satrapy
				type = satrapy
			}
		}
	}
    option = {      
		name = me_diadochi_empire_events.5.b
		add_country_modifier = {
			name = "prioritized_larger_empire"
			duration = 3650
		}
		random_country_culture = {
			limit = {
				is_culture = macedonian
			}
			add_country_culture_modifier = {
				name = "macedonian_barons_spurned"
				duration = 3650
			}
		}
	}
}

me_diadochi_empire_events.6 = { #Art and Culture
    type = country_event
    title = me_diadochi_empire_events.6.t
    desc = me_diadochi_empire_events.6.desc
    picture = great_library
    left_portrait = current_ruler
	goto_location = scope:alex_city

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = {
		deity:omen_alexander = {
			holy_site = { save_scope_as = alex_city }
		}
	}

    option = {      
		name = me_diadochi_empire_events.6.a
		add_innovation = 6
		add_country_modifier = {
			name = "center_of_art_and_culture_modifier"
			duration = -1
		}
	}
}

me_diadochi_empire_events.7 = { #Philosopher Kings
    type = country_event
    title = me_diadochi_empire_events.7.t
    desc = me_diadochi_empire_events.7.desc
    picture = diadochi_ptolemy_city
    left_portrait = current_ruler
    right_portrait = scope:royal_philosopher

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = {
		save_scope_as = philosopher_king_country
		random_character = {
			limit = {
				has_office = office_philosopher
			}
			alternative_limit = {
				charisma > 10
			}
			alternative_limit = {
				charisma > 7
			}
			alternative_limit = {
				charisma > 2
			}
			alternative_limit = {
				always = yes
			}
			save_scope_as = royal_philosopher
		}
		random_living_character = {
			limit = {
				charisma > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				charisma > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				charisma > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				charisma > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				finesse > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				finesse > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				finesse > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				zeal > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
		random_living_character = {
			limit = {
				zeal > 10
				NOT = { is_in_list = philosophers }
				is_ruler = no
			}
			add_to_list = philosophers
		}
	}

    option = {      
		name = me_diadochi_empire_events.7.a
		every_in_list = {
			list = philosophers
			save_scope_as = a_philosopher
			custom_tooltip = me_diadochi_empire_events.7.a.tt
			hidden_effect = {
				trigger_event = { id = me_diadochi_empire_events.72 days = { 5 20  } }
			}
		}
	}
    option = {      
		name = me_diadochi_empire_events.7.b
		every_in_list = {
			list = philosophers
			save_scope_as = a_philosopher
			custom_tooltip = me_diadochi_empire_events.7.b.tt
			ROOT = { add_treasury = -25 }
			hidden_effect = {
				trigger_event = { id = me_diadochi_empire_events.71 days = { 5 20  } }
			}
		}
	}
}

me_diadochi_empire_events.71 = { #Philosopher Kings bounce
    type = character_event
    title = me_diadochi_empire_events.7.t
    desc = me_diadochi_empire_events.71.desc
    picture = great_library
    left_portrait = this
	
	immediate = {
		save_scope_as = invited_philosopher
	}
	
    option = {      
		name = me_diadochi_empire_events.71.a #Accept
		ai_chance = {
			modifier = {
				factor = 50
			}
		}
		scope:philosopher_king_country = {
			trigger_event = { id = me_diadochi_empire_events.8 days = { 10 90 } }
		}
	}
    option = {      
		name = me_diadochi_empire_events.71.b #Reject
		ai_chance = {
			modifier = {
				factor = 50
			}
		}
		scope:philosopher_king_country = {
			trigger_event = { id = me_diadochi_empire_events.9 days = { 10 90 } }
		}
	}
}

me_diadochi_empire_events.72 = { #Philosopher Kings bounce
    type = character_event
    title = me_diadochi_empire_events.7.t
    desc = me_diadochi_empire_events.71.desc #Should never be seen by a human player.
    picture = great_library
    left_portrait = this
	
	immediate = {
		save_scope_as = invited_philosopher
		add_gold = 25
	}
	
    option = {      
		name = me_diadochi_empire_events.71.a #Accept
		ai_chance = {
			modifier = {
				factor = 75
			}
		}
		scope:philosopher_king_country = {
			trigger_event = { id = me_diadochi_empire_events.8 days = { 10 90 } }
		}
	}
    option = {      
		name = me_diadochi_empire_events.71.b #Reject
		ai_chance = {
			modifier = {
				factor = 25
			}
		}
		scope:philosopher_king_country = {
			trigger_event = { id = me_diadochi_empire_events.9 days = { 10 90 } }
		}
	}
}

me_diadochi_empire_events.8 = { #Philosopher Kings acceptance
    type = minor_country_event
    title = me_diadochi_empire_events.8.t
    desc = me_diadochi_empire_events.8.desc
    picture = diadochi_ptolemy_city
	left_portrait = scope:invited_philosopher
	interface_lock = no

    option = {
		name = me_diadochi_empire_events.8.a #Welcome
		add_political_influence = -5
		scope:invited_philosopher = {
			hidden_effect = { remove_all_positions = yes }
			move_country = scope:philosopher_king_country
			hidden_effect = {
				remove_character_modifier = foreign_citizen
				set_as_minor_character = this
			}
		}
	}
}

me_diadochi_empire_events.9 = { #Philosopher Kings rejection
    type = minor_country_event
    title = me_diadochi_empire_events.9.t
    desc = me_diadochi_empire_events.9.desc
    picture = diadochi_ptolemy_city
	left_portrait = scope:invited_philosopher
	interface_lock = no

    option = {
		name = me_diadochi_empire_events.9.a #Preposterous
		add_political_influence = -5
	}
}

me_diadochi_empire_events.10 = { #A philosophical argument
    type = country_event
    title = me_diadochi_empire_events.10.t
    desc = me_diadochi_empire_events.10.desc
    picture = great_library
    left_portrait = current_ruler
    right_portrait = scope:great_thinker
    right_portrait = scope:great_thinker_2
    fire_only_once = yes
	
	immediate = {
		ordered_character = {
			limit = { 
				NOT = {
					THIS = ROOT.current_ruler
				}
			}
			order_by = charisma
			save_scope_as = great_thinker
		}
		ordered_character = {
			limit = { 
				NOT = {
					THIS = ROOT.current_ruler
				}
			}
			order_by = finesse
			save_scope_as = great_thinker_2
		}
	}

    option = {
		name = me_diadochi_empire_events.10.a #The empire is one.
		add_country_modifier = {
			name = "imperial_unity_school"
			duration = 5475
		}
	}
    option = {
		name = me_diadochi_empire_events.10.b #We are an empire of many kingdoms and peoples.
		add_country_modifier = {
			name = "imperial_diversity_school"
			duration = 5475
		}
	}
}

me_diadochi_empire_events.11 = { #Lycaeum of [ROOT.GetCountry.GetCapital.GetName]
    type = country_event
    title = me_diadochi_empire_events.11.t
    desc = me_diadochi_empire_events.11.desc
    picture = great_library
    left_portrait = current_ruler

    option = {
		name = me_diadochi_empire_events.11.a #The empire is one.
		add_country_modifier = {
			name = lycaeum_of_capital
			duration = -1
		}
		add_innovation = 4
	}
}

me_diadochi_empire_events.12 = { #School of [ROOT.GetCountry.GetCapitalGetName]
    type = country_event
    title = me_diadochi_empire_events.12.t
    desc = me_diadochi_empire_events.12.desc
    picture = diadochi_ptolemy_city
    left_portrait = current_ruler
    right_portrait = scope:royal_philosopher
    right_portrait = scope:hof_of_power


	immediate = {
		random_character = {
			limit = {
				has_office = office_philosopher
			}
			alternative_limit = {
				charisma > 10
			}
			alternative_limit = {
				charisma > 7
			}
			alternative_limit = {
				charisma > 2
			}
			alternative_limit = {
				always = yes
			}
			save_scope_as = royal_philosopher
		}
		ordered_character = {
			limit = {
				is_head_of_family = yes
				from_ruler_family = no
			}
			order_by = power_base
			save_scope_as = hof_of_power
		}
	}

    option = {
		name = me_diadochi_empire_events.12.a #We need an examination system.
		add_treasury = -500
		add_political_influence = -100
		add_country_modifier = {
			name = "imperial_examination_system"
			duration = -1
		}
	}
    option = {
		name = me_diadochi_empire_events.12.b #Ancestry can prove what a test cannot.
		add_political_influence = 25
		add_country_modifier = {
			name = "imperial_birth_merit_system"
			duration = 3650
		}
	}
}

me_diadochi_empire_events.13 = { #Curriculum?
    type = country_event
    title = me_diadochi_empire_events.13.t
    desc = me_diadochi_empire_events.13.desc
    picture = diadochi_ptolemy_city
    left_portrait = current_ruler
    right_portrait = scope:philopher_1

	immediate = {
		random_character = {
			limit = {
				has_office = office_philosopher
			}
			alternative_limit = {
				charisma > 10
			}
			alternative_limit = {
				charisma > 7
			}
			alternative_limit = {
				charisma > 2
			}
			alternative_limit = {
				always = yes
			}
			save_scope_as = philopher_1
		}
	}

    option = {
		name = me_diadochi_empire_events.13.a #Let us stick to the necessities.
		add_country_modifier = {
			name = "administrative_education"
			duration = -1
		}
	}
    option = {
		name = me_diadochi_empire_events.13.b #Education opens the mind.
		add_country_modifier = {
			name = "classical_education"
			duration = -1
		}
	}
}

me_diadochi_empire_events.14 = { #Imperial Lineage
    type = country_event
    title = me_diadochi_empire_events.14.t
    desc = me_diadochi_empire_events.14.desc
    picture = diadochi_ptolemy_city
    left_portrait = current_ruler
    right_portrait = scope:finesse_thinker
    right_portrait = scope:zeal_thinker
    right_portrait = scope:charisma_thinker

	immediate = {
		ordered_character = {
			limit = {
				has_tech_office = yes
			}
			alternative_limit = {
				is_ruler = no
			}
			order_by = finesse
			save_scope_as = finesse_thinker
		}
		ordered_character = {
			limit = {
				has_tech_office = yes
			}
			alternative_limit = {
				is_ruler = no
				NOT = { this = scope:finesse_thinker }
			}
			order_by = zeal
			save_scope_as = zeal_thinker
		}
		ordered_character = {
			limit = {
				has_tech_office = yes
			}
			alternative_limit = {
				is_ruler = no
				NOT = { this = scope:finesse_thinker }
				NOT = { this = scope:zeal_thinker }
			}
			order_by = charisma
			save_scope_as = charisma_thinker
		}
	}

    option = {
		name = me_diadochi_empire_events.14.a #The followers of [finesse_thinker.GetName]
		custom_tooltip = me_diadochi_empire_events.14.a.tt
		set_variable = imperial_lineage_finesse
		current_ruler = {
			add_finesse = 2
			every_child = {
				add_finesse = 2
			}
		}
		scope:finesse_thinker = {
			add_loyalty = tutor_of_generations
		}
	}
    option = {
		name = me_diadochi_empire_events.14.b #The School of [zeal_thinker.GetName]
		custom_tooltip = me_diadochi_empire_events.14.b.tt
		set_variable = imperial_lineage_zeal
		current_ruler = {
			add_zeal = 2
			every_child = {
				add_zeal = 2
			}
		}
		scope:zeal_thinker = {
			add_loyalty = tutor_of_generations
		}
	}
    option = {
		name = me_diadochi_empire_events.14.c #Disciples of [charisma_thinker.GetName]
		custom_tooltip = me_diadochi_empire_events.14.c.tt
		set_variable = imperial_lineage_charisma
		current_ruler = {
			add_charisma = 2
			every_child = {
				add_charisma = 2
			}
		}
		scope:charisma_thinker = {
			add_loyalty = tutor_of_generations
		}
	}
}

me_diadochi_empire_events.15 = { #Peace in Mesopotamia
    type = country_event
    title = me_diadochi_empire_events.15.t
    desc = me_diadochi_empire_events.15.desc
    picture = diadochi_coronation
    left_portrait = current_ruler
    right_portrait = scope:loyal_ruler
	goto_location = scope:mesopotamian_metropolis

    trigger = {
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = { 
		hidden_effect = {
			ordered_owned_province = {
				limit = {
					dominant_province_culture = owner.culture
					any_pops_in_province = {
						NOT = { pop_type = citizen }
						NOT = { pop_type = nobles }
						pop_culture = root.culture
					}
				}
				order_by = total_population
				max = 6
				check_range_bounds = no
				random_pops_in_province = {
					limit = {
						NOT = { pop_type = citizen }
						NOT = { pop_type = nobles }
						pop_culture = root.culture
					}
					add_to_list = colonial_pops
				}
			}
			ordered_owned_province = {
				limit = {
					dominant_province_culture = owner.culture
					any_pops_in_province = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						pop_culture = root.culture
					}
				}
				order_by = total_population
				check_range_bounds = no
				max = 2
				random_pops_in_province = {
					limit = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						pop_culture = root.culture
					}
					add_to_list = colonial_pops
				}
			}
			ordered_owned_province = {
				limit = {
					OR = {
						is_in_region = mesopotamia_region
						is_in_region = assyria_region
					}
					province_dominant_culture_group = east_levantine
				}
				alternative_limit = {
					OR = {
						is_in_region = mesopotamia_region
						is_in_region = assyria_region
					}
					province_dominant_culture_group = east_levantine
				}
				order_by = total_population
				save_scope_as = mesopotamian_metropolis
			}
			ordered_owned_province = {
				limit = {
					has_province_modifier = alexandria
					OR = {
						is_in_region = mesopotamia_region
						is_in_region = assyria_region
					}
				}
				alternative_limit = {
					province_dominant_culture_group = hellenic
					OR = {
						is_in_region = mesopotamia_region
						is_in_region = assyria_region
					}
				}
				alternative_limit = {
					this = p:911
					NOT = { this = scope:mesopotamian_metropolis }
				}
				alternative_limit = {
					NOT = { this = scope:mesopotamian_metropolis }
				}
				order_by = total_population
				save_scope_as = alexandria
			}
			ordered_character = {
				limit = {
					has_culture_group = east_levantine
					is_adult = yes
					power_base > 5
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				alternative_limit = {
					has_culture_group = east_levantine
					is_adult = yes
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				order_by = power_base
				save_scope_as = loyal_ruler
			}
			if = { #Did we find someone?
				limit = {
					NOT = { exists = scope:loyal_ruler }
				}
				create_character = {
					culture = babylonian
					religion = mesopotamian_religion
					age = 30
					save_scope_as = loyal_ruler
				}
			}
		}
	}
	

    option = {      
		name = me_diadochi_empire_events.15.a
		add_country_modifier = {
			name = "mesopotamian_autonomy"
			duration = 9125
		}
		custom_tooltip = satrapy_of_mesopotamia_release
		hidden_effect = {
			scope:mesopotamian_metropolis = {
				create_country = {
					name = {
						name = MESOPOTAMIA_SATRAP
						adjective = MESOPOTAMIA_SATRAP_ADJECTIVE
					}
					save_scope_as = mesopotamia
				}
			}
			scope:loyal_ruler = {
				remove_all_positions = yes
				move_country = scope:mesopotamia
				remove_character_modifier = foreign_citizen
				set_as_minor_character = this
			}
			scope:mesopotamia = {
				change_country_tag = MPS
				change_country_flag = MPS_FLAG
				change_country_color = light_gold
				set_primary_culture = scope:mesopotamian_metropolis.culture
				change_government = aristocratic_monarchy
				add_treasury = 500.0
				set_as_ruler = scope:loyal_ruler
				while = { # Populate with some characters
					count = 15
					create_character = {
						culture = scope:mesopotamian_metropolis.culture
						female = no
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						is_in_region = mesopotamia_region
						is_in_region = assyria_region
					}
				}
				set_conquered_by = scope:mesopotamia
			}
			make_subject = { # Make Satrapy
				target = scope:mesopotamia
				type = satrapy
			}
		}
	}
    option = {      
		name = me_diadochi_empire_events.15.b
		add_treasury = -1000
		scope:alexandria = {
			add_permanent_province_modifier = {
				name = mesopotamian_capital
				duration = -1
			}
		}
		every_country_culture = {
			limit = {
				OR = {
					is_culture = babylonian
					is_culture = assyrian
					is_culture = aramaic
				}
			}
			add_country_culture_modifier = {
				name = "mesopotamian_integration"
				duration = 9125
			}
		}
		every_in_list = {
			list = colonial_pops
			move_pop = scope:alexandria
			remove_from_list = colonial_pops
		}
	}
}
me_diadochi_empire_events.16 = { #Crown of Lower Egypt
    type = country_event
    title = me_diadochi_empire_events.16.t
    desc = me_diadochi_empire_events.16.desc
    picture = diadochi_ptolemy_city
    left_portrait = current_ruler
    right_portrait = scope:loyal_ruler
	goto_location = scope:mesopotamian_metropolis

    trigger = {
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = { 
		hidden_effect = {
			ordered_owned_province = {
				limit = {
					dominant_province_culture = owner.culture
					any_pops_in_province = {
						NOT = { pop_type = citizen }
						NOT = { pop_type = nobles }
						pop_culture = root.culture
					}
				}
				order_by = total_population
				max = 6
				check_range_bounds = no
				random_pops_in_province = {
					limit = {
						NOT = { pop_type = citizen }
						NOT = { pop_type = nobles }
						pop_culture = root.culture
					}
					add_to_list = colonial_pops
				}
			}
			ordered_owned_province = {
				limit = {
					dominant_province_culture = owner.culture
					any_pops_in_province = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						pop_culture = root.culture
					}
				}
				order_by = total_population
				check_range_bounds = no
				max = 2
				random_pops_in_province = {
					limit = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						pop_culture = root.culture
					}
					add_to_list = colonial_pops
				}
			}
			ordered_owned_province = {
				limit = {
					is_in_region = lower_egypt_region
					province_dominant_culture_group = north_african
				}
				alternative_limit = {
					is_in_region = lower_egypt_region
					province_dominant_culture_group = north_african
				}
				order_by = total_population
				save_scope_as = egyptian_capital
			}
			ordered_owned_province = {
				limit = {
					has_province_modifier = alexandria
					is_in_region = lower_egypt_region
				}
				alternative_limit = {
					province_dominant_culture_group = hellenic
					is_in_region = lower_egypt_region
				}
				alternative_limit = {
					this = p:516
					NOT = { this = scope:egyptian_capital }
				}
				alternative_limit = {
					NOT = { this = scope:egyptian_capital }
				}
				order_by = total_population
				save_scope_as = alexandria
			}
			ordered_character = {
				limit = {
					has_culture_group = north_african
					is_adult = yes
					power_base > 5
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				alternative_limit = {
					has_culture_group = north_african
					is_adult = yes
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				order_by = power_base
				save_scope_as = loyal_ruler
			}
			if = { #Did we find someone?
				limit = {
					NOT = { exists = scope:loyal_ruler }
				}
				create_character = {
					culture = egyptian
					religion = egyptian_pantheon
					age = 30
					save_scope_as = loyal_ruler
				}
			}
		}
	}
	

    option = {      
		name = me_diadochi_empire_events.16.a
		add_country_modifier = {
			name = "egyptian_autonomy"
			duration = 9125
		}
		custom_tooltip = satrapy_of_egypt_release
		hidden_effect = {
			scope:egyptian_capital = {
				create_country = {
					name = {
						name = EGYPT_SATRAP 
						adjective = EGYPT_SATRAP_ADJECTIVE
					}
					save_scope_as = egypt_satrapy
				}
			}
			scope:loyal_ruler = {
				remove_all_positions = yes
				move_country = scope:egypt_satrapy
				remove_character_modifier = foreign_citizen
				set_as_minor_character = this
			}
			scope:egypt_satrapy = {
				change_country_tag = EGS
				change_country_flag = EGS_FLAG
				change_country_color = pitch_black
				set_primary_culture = scope:egyptian_capital.culture
				change_government = aristocratic_monarchy
				add_treasury = 500.0
				set_as_ruler = scope:loyal_ruler
				while = { # Populate with some characters
					count = 15
					create_character = {
						culture = scope:egyptian_capital.culture
						female = no
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						is_in_region = lower_egypt_region
						is_in_region = upper_egypt_region
					}
				}
				set_conquered_by = scope:egypt_satrapy
			}
			make_subject = { # Make Satrapy
				target = scope:egypt_satrapy
				type = satrapy
			}
		}
	}
    option = {      
		name = me_diadochi_empire_events.16.b
		add_stability = -15
		scope:alexandria = {
			add_permanent_province_modifier = {
				name = egyptian_capital
				duration = -1
			}
		}
		every_country_culture = {
			limit = {
				OR = {
					is_culture = egyptian
					is_culture = middle_egyptian
					is_culture = upper_egyptian
				}
			} 
			add_country_culture_modifier = {
				name = "egyptian_integration"
				duration = 9125
			}
		}
		every_in_list = {
			list = colonial_pops
			move_pop = scope:alexandria
			remove_from_list = colonial_pops
		}
	}
}

me_diadochi_empire_events.17 = {
    type = country_event
    title = me_diadochi_empire_events.17.t
    desc = me_diadochi_empire_events.17.desc
    picture = diadochi_new_city_founded
    left_portrait = current_ruler
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	

    option = {      
		name = me_diadochi_empire_events.17.a
		capital_scope = {
			if = {
				limit = {
					NOT = { has_province_rank = city_metropolis }
				}
				set_city_status = city_metropolis
			}
			add_permanent_province_modifier = {
				name = "imperial_capital_mission_reward"
				duration = -1
			}
		}
	}
}

me_diadochi_empire_events.18 = {
    type = country_event
    title = me_diadochi_empire_events.18.t
    desc = me_diadochi_empire_events.18.desc
    picture = diadochi_new_city_founded
    left_portrait = current_ruler
    right_portrait = scope:helper
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = {
		ordered_character = {
			limit = {
				has_tech_office = yes
				from_ruler_family = no
			}
			alternative_limit = {
				from_ruler_family = no
			}
			alternative_limit = {
				always = yes
			}
			order_by = martial
			save_scope_as = helper
		}
	}

    option = {      
		name = me_diadochi_empire_events.18.a
		add_treasury = -1000
		add_country_modifier = {
			name = "rural_police"
			duration = 9125 # 25 years
		}
		scope:helper = {
			add_loyalty = food_protector_accepted
			add_gold = 500
		}
		set_variable = {
			name = food_for_the_people
			value = 1
			days = 500
		}
	}
    option = {      
		name = me_diadochi_empire_events.18.b
		custom_tooltip = no_food_progress_tt
		set_variable = {
			name = food_for_the_people
			value = 0
			days = 500
		}
	}
}

me_diadochi_empire_events.19 = {
    type = country_event
    title = me_diadochi_empire_events.19.t
    desc = me_diadochi_empire_events.19.desc
    picture = diadochi_new_city_founded
    left_portrait = current_ruler
    right_portrait = scope:rich_family
    right_portrait = scope:influential_person
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
		NOT = { has_variable = fields_happened } 
    }
	
	immediate = {
		set_variable = fields_happened
		ordered_character = {
			limit = {
				has_tech_office = yes
				from_ruler_family = no
			}
			alternative_limit = {
				from_ruler_family = no
			}
			alternative_limit = {
				always = yes
			}
			order_by = charisma
			save_scope_as = influential_person
		}
		ordered_character = {
			limit = {
				is_minor_character = no
				from_ruler_family = no
				is_head_of_family = yes
			}
			alternative_limit = {
				is_minor_character = no
				from_ruler_family = no
			}
			order_by = wealth
			save_scope_as = rich_family
		}
	}

    option = {      
		name = me_diadochi_empire_events.19.a
		every_character = {
			limit = {
				is_head_of_family = yes
				is_minor_character = no
				from_ruler_family = no
			}
			custom_tooltip = food_holdings_loyalty 
			family = {
				hidden_effect = {
					every_family_member = {
						add_loyalty = food_holdings_loyalty
					}
				}
			}
		}
		custom_tooltip = me_diadochi_empire_events.19.a.tt
		hidden_effect = {
			while = {
				count = 35
				every_family = {
					head_of_family = { save_scope_as = hof }
						ROOT = {
							random_owned_province = {
								limit = {
									is_capital = no
									OR = {
										NOT = {
											exists = holding_owner
										}
										AND = {
											exists = holding_owner
											holding_owner = {
												is_alive = no
											}
										}
									}
								}
								weight = {
									modifier = {
										factor = 10000
										any_neighbor_province = {
											trigger_if = {
												limit = {
													exists = holding_owner
												}
												holding_owner = scope:hof
											}
											trigger_else = {
												always = no
											}
										}
									}
								}
								save_scope_as = buy_holding_target
							}
						}
						head_of_family = {
							add_holding = scope:buy_holding_target
						}
					}
				}
			}
			change_variable = {
				name = food_for_the_people
				add = 1
			}
	}
    option = {
		name = me_diadochi_empire_events.19.b
		add_country_modifier = {
			name = "soldier_farmers"
			duration = 3650
		}
		custom_tooltip = me_diadochi_empire_events.19.b.tt
		hidden_effect = {
			while = {
				count = 20
				every_character = {
					limit = { num_loyal_veterans >= 1 }
					add_loyal_veterans = -1
				}
			}
		}
		change_variable = {
			name = food_for_the_people
			add = 1
		}
	}
}

me_diadochi_empire_events.20 = {
    type = country_event
    title = me_diadochi_empire_events.20.t
    desc = me_diadochi_empire_events.20.desc
    picture = greek_home
    left_portrait = current_ruler
    right_portrait = scope:researcher
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
		NOT = { has_variable = tech_happened }
    }
	
	immediate = {
		set_variable = tech_happened
		ordered_character = {
			limit = {
				has_tech_office = yes
				from_ruler_family = no
			}
			alternative_limit = {
				from_ruler_family = no
			}
			alternative_limit = {
				always = yes
			}
			order_by = finesse
			save_scope_as = researcher
		}
	}

    option = {      
		name = me_diadochi_empire_events.20.a
		add_treasury = -500
		add_country_modifier = {
			name = "agricultural_technological_progress"
			duration = 3650
		}
		scope:researcher = {
			add_loyalty = food_tech_officer
			add_gold = 500
		}
		change_variable = {
			name = food_for_the_people
			add = 1
		}
	}
    option = {      
		name = me_diadochi_empire_events.20.b
		custom_tooltip = no_food_progress_tt
	}
}

me_diadochi_empire_events.21 = {
    type = country_event
    title = me_diadochi_empire_events.21.t
    desc = me_diadochi_empire_events.21.desc
    picture = diadochi_demetrius_navy
    left_portrait = current_ruler
    right_portrait = scope:shipowner
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
		NOT = { has_variable = transportation_happened }
    }
	
	immediate = {
		set_variable = transportation_happened
		ordered_character = {
			limit = {
				is_minor_character = no
				from_ruler_family = no
			}
			order_by = wealth
			save_scope_as = shipowner
		}
	}

    option = {      
		name = me_diadochi_empire_events.21.a
		add_treasury = -500
		scope:shipowner = {
			add_gold = 500
			family = {
				custom_tooltip = family_food_transport_loyalty
				hidden_effect = {
					every_family_member = {
						add_loyalty = food_transportation_loyalty
					}
				}
			}
		}
		change_variable = {
			name = food_for_the_people
			add = 1
		}
	}
    option = {
		name = me_diadochi_empire_events.21.b
		custom_tooltip = no_food_progress_tt
	}
}

me_diadochi_empire_events.22 = {
    type = country_event
    title = me_diadochi_empire_events.22.t
    desc = me_diadochi_empire_events.22.desc
    picture = greek_home
    left_portrait = current_ruler
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }

    option = {      
		name = me_diadochi_empire_events.22.a
		add_country_modifier = {
			name = "grain_secured"
			duration = 7300
		}
	}
    option = {
		name = me_diadochi_empire_events.22.b
		add_country_modifier = {
			name = "grain_dole_diadochi"
			duration = 7300
		}
		custom_tooltip = grain_store_reduction
		custom_tooltip = grain_store_reduction_loyalty
		hidden_effect = {
			every_country_state = {
				add_state_food = -600
			}
			every_owned_province = {
				limit = { is_state_capital = yes }
				add_state_loyalty = 30
			}
		}
	}
	
	after = {
		remove_variable = food_for_the_people
		remove_variable = transportation_happened
		remove_variable = tech_happened
		remove_variable = fields_happened
	}
}

me_diadochi_empire_events.23 = {
    type = country_event
    title = me_diadochi_empire_events.23.t
    desc = me_diadochi_empire_events.23.desc
    picture = greek_home
    left_portrait = current_ruler
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }

    option = {      
		name = me_diadochi_empire_events.23.a
		add_country_modifier = {
			name = "grain_secured_worse"
			duration = 7300
		}
	}
    option = {
		name = me_diadochi_empire_events.23.b
		add_country_modifier = {
			name = "grain_dole_worse_diadochi"
			duration = 7300
		}
		add_treasury = -500
		custom_tooltip = grain_store_reduction
		custom_tooltip = grain_store_reduction_loyalty_lower
		hidden_effect = {
			every_country_state = {
				add_state_food = -600
			}
			every_owned_province = {
				limit = { is_state_capital = yes }
				add_state_loyalty = 10
			}
		}
	}
	
	after = {
		remove_variable = food_for_the_people
		remove_variable = transportation_happened
		remove_variable = tech_happened
		remove_variable = fields_happened
	}
}


me_diadochi_empire_events.24 = { #Persian Conquest
    type = country_event
    title = me_diadochi_empire_events.24.t
    desc = me_diadochi_empire_events.24.desc
    picture = diadochi_coronation
    left_portrait = current_ruler
    right_portrait = scope:loyal_ruler
	goto_location = scope:persepolis

    trigger = {
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = { 
		hidden_effect = { 
			ordered_owned_province = {
				limit = {
					is_in_region = persis_region
					dominant_province_culture = pasargadi
				}
				alternative_limit = {
					OR = {
						is_in_region = persis_region
						is_in_region = media_region
						is_in_region = parthia_region
					}
					dominant_province_culture = pasargadi
				}
				alternative_limit = {
					OR = {
						is_in_region = persis_region
						is_in_region = media_region
						is_in_region = parthia_region
					}
					province_dominant_culture_group = persia
				}
				order_by = total_population
				save_scope_as = persepolis
			}
			ordered_owned_province = {
				limit = {
					has_province_modifier = alexandria
					OR = {
						is_in_region = persis_region
						is_in_region = media_region
						is_in_region = ariana_region
						is_in_region = bactriana_region
						is_in_region = gedrosia_region
					}
				}
				alternative_limit = {
					province_dominant_culture_group = hellenic
					OR = {
						is_in_region = persis_region
						is_in_region = media_region
						is_in_region = ariana_region
						is_in_region = bactriana_region
						is_in_region = gedrosia_region
					}
				}
				alternative_limit = {
					this = p:940
				}
				alternative_limit = {
					NOT = { this = scope:persepolis }
					OR = {
						is_in_region = persis_region
						is_in_region = media_region
						is_in_region = ariana_region
						is_in_region = bactriana_region
						is_in_region = gedrosia_region
					}
				}
				order_by = total_population
				save_scope_as = alexandria
			}
			ordered_character = {
				limit = {
					has_culture = pasargadi
					is_adult = yes
					power_base > 5
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				alternative_limit = {
					has_culture_group = persia
					power_base > 5
					is_adult = yes
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				alternative_limit = {
					has_culture_group = persia
					is_adult = yes
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				order_by = power_base
				save_scope_as = loyal_ruler
			}
			if = { #Did we find someone?
				limit = {
					NOT = { exists = scope:loyal_ruler }
				}
				create_character = {
					culture = pasargadi
					religion = zoroaster
					age = 30
					save_scope_as = loyal_ruler
				}
			}
		}
	}
	

    option = {      
		name = me_diadochi_empire_events.24.a
		every_country_culture = {
			limit = {
				OR = {
					is_culture = pasargadi
					is_culture = median
					is_culture = scope:loyal_ruler.culture
				}
			}
			add_country_culture_modifier = {
				name = "persian_self_rule"
				duration = 9125
			}
		}
		custom_tooltip = satrapy_of_persia_release
		hidden_effect = {
			scope:persepolis = { #Persian capital
				create_country = {
					name = {
						name = SATRAPY_OF_PERSIA
						adjective = PERSIA_SATRAP_ADJECTIVE
					}
					save_scope_as = persia_satrapy
				}
			}
			scope:loyal_ruler = {
				remove_all_positions = yes
				move_country = scope:persia_satrapy
				remove_character_modifier = foreign_citizen
				set_as_minor_character = this
			}
			scope:persia_satrapy = {
				change_country_tag = PRC
				change_country_flag = PERSIA_SATRAPY_FLAG
				change_country_color = achaemenid_mauve
				set_primary_culture = pasargadi
				change_government = aristocratic_monarchy
				add_treasury = 500.0
				set_as_ruler = scope:loyal_ruler
				while = { # Populate with some characters
					count = 15
					create_character = {
						culture = pasargadi
						religion = zoroaster
						female = no
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						is_in_region = persis_region
						is_in_region = media_region
						is_in_region = ariana_region
						is_in_region = bactriana_region
						is_in_region = gedrosia_region
					}
				}
				set_conquered_by = scope:persia_satrapy
			}
			make_subject = { # Make Satrapy
				target = scope:persia_satrapy
				type = satrapy
			}
		}
	}
    option = {      
		name = me_diadochi_empire_events.24.b
		scope:alexandria = {
			add_permanent_province_modifier = {
				name = persian_capital_modifier
				duration = -1
			}
		}
		add_country_modifier = {
			name = "persia_as_part_of_whole"
			duration = 3650
		}
		every_country_culture = {
			limit = {
				OR = {
					is_culture = pasargadi
					is_culture = median
				}
			}
			add_country_culture_modifier = {
				name = "persian_integration"
				duration = 3650
			}
		}
	}
}

me_diadochi_empire_events.25 = { #Satrapy of India
    type = country_event
    title = me_diadochi_empire_events.25.t
    desc = me_diadochi_empire_events.25.desc
    picture = diadochi_legion_carrying_standard
    left_portrait = current_ruler
    right_portrait = scope:loyal_ruler
	goto_location = scope:persepolis

    trigger = {
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = { 
		hidden_effect = {
			ordered_owned_province = {
				limit = {
					dominant_province_culture = owner.culture
					any_pops_in_province = {
						NOT = { pop_type = citizen }
						NOT = { pop_type = nobles }
						pop_culture = root.culture
					}
				}
				order_by = total_population
				max = 6
				check_range_bounds = no
				random_pops_in_province = {
					limit = {
						NOT = { pop_type = citizen }
						NOT = { pop_type = nobles }
						pop_culture = root.culture
					}
					add_to_list = colonial_pops
				}
			}
			ordered_owned_province = {
				limit = {
					dominant_province_culture = owner.culture
					any_pops_in_province = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						pop_culture = root.culture
					}
				}
				order_by = total_population
				check_range_bounds = no
				max = 2
				random_pops_in_province = {
					limit = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						pop_culture = root.culture
					}
					add_to_list = colonial_pops
				}
			}
			ordered_owned_province = {
				limit = {
					is_in_region = gandhara_region
					province_dominant_culture_group = aryan
				}
				alternative_limit = {
					OR = {
						is_in_region = gandhara_region
						is_in_region = maru_region
						is_in_region = madhyadesa_region
						is_in_region = avanti_region
					}
					province_dominant_culture_group = aryan
				}
				order_by = total_population
				save_scope_as = indian_capital
			}
			ordered_owned_province = {
				limit = {
					has_province_modifier = alexandria
					OR = {
						is_in_region = gandhara_region
						is_in_region = maru_region
						is_in_region = madhyadesa_region
						is_in_region = avanti_region
					}
				}
				alternative_limit = {
					province_dominant_culture_group = hellenic
					OR = {
						is_in_region = gandhara_region
						is_in_region = maru_region
						is_in_region = madhyadesa_region
						is_in_region = avanti_region
					}
				}
				alternative_limit = {
					this = p:4322
					NOT = { this = scope:indian_capital }
				}
				alternative_limit = {
					NOT = { this = scope:indian_capital }
				}
				order_by = total_population
				save_scope_as = alexandria
			}
			ordered_character = {
				limit = {
					has_culture_group = aryan
					is_adult = yes
					power_base > 5
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				alternative_limit = {
					has_culture_group = aryan
					is_adult = yes
					trigger_if = {
						limit = {
							is_minor_character = no
						}
						from_ruler_family = no
					}
				}
				order_by = power_base
				save_scope_as = loyal_ruler
			}
			if = { #Did we find someone?
				limit = {
					NOT = { exists = scope:loyal_ruler }
				}
				create_character = {
					culture = gandhari
					religion = hindu
					age = 30
					save_scope_as = loyal_ruler
				}
			}
		}
	}
	

    option = {      
		name = me_diadochi_empire_events.25.a
		add_country_modifier = {
			name = "indian_self_rule"
			duration = 9125
		}
		custom_tooltip = satrapy_of_india_release
		hidden_effect = {
			scope:indian_capital = {
				create_country = {
					name = {
						name = INDIAN_SATRAPY
						adjective = INDIAN_SATRAPY_ADJECTIVE
					}
					save_scope_as = india_satrap
				}
			}
			scope:loyal_ruler = {
				remove_all_positions = yes
				move_country = scope:india_satrap
				remove_character_modifier = foreign_citizen
				set_as_minor_character = this
			}
			scope:india_satrap = {
				change_country_tag = IRC
				change_country_flag = IRC_FLAG
				change_country_color = offwhite
				set_primary_culture = gandhari
				change_government = aristocratic_monarchy
				add_treasury = 500.0
				set_as_ruler = scope:loyal_ruler
				while = { # Populate with some characters
					count = 15
					create_character = {
						culture = gandhari
						female = no
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						is_in_region = gandhara_region
						is_in_region = maru_region
						is_in_region = avanti_region
						is_in_region = madhyadesa_region
						is_in_region = pracya_region
						is_in_region = aparanta_region
						is_in_region = karnata_region
						is_in_region = vindhyaprstha_region
						is_in_region = gedrosia_region
					}
				}
				set_conquered_by = scope:india_satrap
			}
			make_subject = { # Make Satrapy
				target = scope:india_satrap
				type = satrapy
			}
		}
	}
    option = {      
		name = me_diadochi_empire_events.25.b
		add_country_modifier = {
			name = "to_the_indus"
			duration = 3650
		}
		scope:alexandria = {
			add_permanent_province_modifier = {
				name = indian_capital_modifier
				duration = -1
			}
		}
		every_country_culture = {
			limit = {
				OR = {
					is_culture = gandhari
					is_culture = sindhi
					is_culture = dardic
				}
			}
			add_country_culture_modifier = {
				name = "indian_integration"
				duration = 3650
			}
		}
		every_in_list = {
			list = colonial_pops
			move_pop = scope:alexandria
			remove_from_list = colonial_pops
		}
	}
}

me_diadochi_empire_events.26 = { #To the ends of the world
    type = country_event
    title = me_diadochi_empire_events.26.t
    desc = me_diadochi_empire_events.26.desc
    picture = diadochi_surrender_general
    left_portrait = current_ruler
	goto_location = scope:alex_temple

    trigger = {
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = { 
		deity:omen_alexander = {
			holy_site = { save_scope_as = alex_temple }
		}
	}
	

    option = {      
		name = me_diadochi_empire_events.25.a
		scope:alex_temple = {
			if = {
				limit = {
					NOT = { has_province_rank = city_metropolis }
				}
				set_city_status = city_metropolis
			}
			add_permanent_province_modifier = {
				name = "alex_pilgrimage_major"
				duration = -1
			}
		}
	}
}

me_diadochi_empire_events.27 = { #Apotheosis
    type = country_event
    title = me_diadochi_empire_events.27.t
    desc = me_diadochi_empire_events.27.desc
    picture = diadochi_surrender_general
    left_portrait = current_ruler
	goto_location = scope:alex_temple

    trigger = {
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = { 
		deity:omen_alexander = {
			holy_site = { save_scope_as = alex_temple }
		}
	}
	

    option = {      
		name = me_diadochi_empire_events.27.a
		add_legitimacy = 20
		current_ruler = {
			add_charisma = 3
			add_martial = 2
			add_popularity = 20
		}
	}
}

me_diadochi_empire_events.28 = { #A Storm is Brewing
    type = country_event
    title = me_diadochi_empire_events.28.t
    desc = me_diadochi_empire_events.28.desc
    picture = diadochi_seleucus_elephant
    left_portrait = current_ruler
    right_portrait = scope:resistance_leader
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					any_successor = {
						is_adult = yes
						is_primary_heir = no
					}
				}
				ordered_successor = {
					limit = {
						is_adult = yes
						is_primary_heir = no
					}
					check_range_bounds = no
					order_by = power_base
					save_scope_as = resistance_leader
					max = 1
				}
			}
			else = {
				ordered_character = {
					limit = {
						is_ruler = no
						is_successor = no
						is_adult = yes
						is_primary_heir = no
					}
					max = 1
					check_range_bounds = no
					order_by = power_base
					save_scope_as = resistance_leader
				}
			}
			ordered_governorships = {
				limit = {
					NOT = {
						any_governorship_state = {
							is_capital_state = yes
						}
					}
				}
				max = 1
				order_by = {
					every_governorship_state = {
						every_state_province = {
							add = total_population
						}
					}
				}
				save_scope_as = center_of_resistance
			}
			if = {
				limit = {
					scope:resistance_leader = {
						is_governor = no
					}
				}
				scope:center_of_resistance = {
					random_governorship_state = {
						random_state_province = {
							set_as_governor = scope:resistance_leader
						}
					}
				}
			}
			start_civil_war = scope:resistance_leader
			scope:resistance_leader.location = {
				save_scope_as = civil_war_capital
			}
			scope:civil_war_capital.owner = {
				change_country_name = "diadochi_revolter_name"
				change_country_adjective = "diadochi_revolter_adjective"
				change_country_color = roman_country_color
				change_country_flag = ARGEAD_REVOLTER_FLAG
				change_government = imperium
				save_scope_as = new_diadochi_empire_country
			}
			ordered_governorships = {
				limit = {
					NOT = {
						any_governorship_state = {
							is_capital_state = yes
						}
					}
					trigger_if = {
						limit = {
							exists = governor
						}
						governor = {
							OR = {
								from_ruler_family = no
								loyalty < 60
							}
						}
					}
				}
				max = {
					ROOT = {
						every_governorships = {
							add = 1
						}
					}
					divide = 3
					min = 1
				}
				order_by = {
					every_governorship_state = {
						every_state_province = {
							limit = {
								dominant_province_culture = root.culture
							}
							add = total_population
						}
					}
				}
				every_governorship_state = {
					every_state_province = {
						set_owned_by = scope:new_diadochi_empire_country
						add_claim = root
					}
				}
			}
			every_subject = {
				limit = {
					OR = {
						is_subject_type = feudatory
						is_subject_type = satrapy
						is_subject_type = client_state
					}
					has_subject_loyalty < 60
				}
				switch = { #Must remain the same type of subject
					trigger = is_subject_type
					feudatory = {
						random_list = {
							50 = {
								ROOT = { release_subject = THIS }
								save_scope_as = released_subject 
								scope:new_diadochi_empire_country = {
									make_subject = { 
										target = scope:released_subject
										type = feudatory 
									}
								}
							}
							50 = { }
						}
					}
					satrapy = {
						random_list = {
							50 = {
								ROOT = { release_subject = THIS }
								scope:new_diadochi_empire_country = {
									make_subject = { 
										target = scope:released_subject
										type = satrapy 
									}
								}
							}
							50 = { }
						}
					}
					client_state = {
						random_list = {
							50 = {
								ROOT = { release_subject = THIS }
								scope:new_diadochi_empire_country = {
									make_subject = { 
										target = scope:released_subject
										type = client_state 
									}
								}
							}
							50 = { }
						}
					}
				}
			}
			every_owned_province = {
				add_claim = scope:new_diadochi_empire_country
			}
			every_character = {
				limit = { loyalty < 66 }
				move_country = scope:new_diadochi_empire_country
			}
		}
	}

    option = {      
		name = me_diadochi_empire_events.28.a #Come and Get me!
		show_as_tooltip = { start_civil_war = scope:resistance_leader }
		add_stability = 15
	}
}

me_diadochi_empire_events.29 = { #Heirs of Alexander
    type = country_event
    title = me_diadochi_empire_events.29.t
    desc = me_diadochi_empire_events.29.desc
    picture = diadochi_surrender_general
    left_portrait = current_ruler
	goto_location = capital_scope

    trigger = { 
		has_dlc = "Heirs of Alexander"
    }
	
	immediate = {
		hidden_effect = {
			every_character = {
				limit = {
					OR = {
						from_ruler_family = yes
						is_minor_character = no
					}
				}
				set_culture = hellenistic
			}
			capital_scope = {
				every_pops_in_province = {
					limit = {
						OR = {
							pop_type = citizen
							pop_type = nobles
							pop_type = freemen
						}
					}
					set_pop_culture = hellenistic
				}
			}
			every_owned_province = {
				limit = {
					is_state_capital = yes
					has_city_status = yes
					has_province_modifier = alexandria
				}
				ordered_pops_in_province = {
					order_by = pop_hapiness
					limit = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						NOT = { pop_culture = hellenistic }
					}
					set_pop_culture = hellenistic
					max = 5
					check_range_bounds = no
				}
			}
			ordered_owned_province = {
				order_by = total_population
				max = 15
				check_range_bounds = no
				ordered_pops_in_province = {
					order_by = pop_hapiness
					limit = {
						OR = {
							pop_type = citizen
							pop_type = nobles
						}
						NOT = { pop_culture = hellenistic }
					}
					set_pop_culture = hellenistic
					max = 10
					check_range_bounds = no
				}
			}
			set_primary_culture_cleanup_effect = {
				NEW_PRIMARY_CULTURE = hellenistic
				MAKE_OLD_CULTURE_INTEGRATED = yes
			}
		}
	}

    option = {      
		name = me_diadochi_empire_events.29.a
		show_as_tooltip = {
			set_primary_culture = hellenistic
		}
		add_country_modifier = {
			name = "heirs_of_alexander"
			duration = -1
		}
	}
}