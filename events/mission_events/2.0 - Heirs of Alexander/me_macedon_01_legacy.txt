namespace = me_macedon_1_legacy

me_macedon_1_legacy.1 = {                          # Antipatros' Legacy - START
    type = country_event
    title = me_macedon_1_legacy.1.t
    desc = me_macedon_1_legacy.1.desc
    picture = throneroom
    left_portrait = current_ruler
    left_portrait  = char:9
    left_portrait = char:287
    right_portrait = char:288
    right_portrait = char:289
    right_portrait = char:290

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_macedon_1_legacy.1.a
        custom_tooltip = me_macedon_1_legacy.1.at
        hidden_effect = {
            region:greece_region = {
                every_region_province = { add_claim = ROOT }
            }
        }
        add_country_modifier = {
            name = me_mac_1_cmod
            duration = 9125 # 25 years
        }
    }
}

me_macedon_1_legacy.2 = {                          # Antipatros' Legacy - END
    type = country_event
    title = me_macedon_1_legacy.2.t
    desc = me_macedon_1_legacy.2.desc
    picture = throneroom

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_macedon_1_legacy.2.a
        custom_tooltip = me_macedon_1_legacy.2.tt
    }
}

me_macedon_1_legacy.11 = {                            # Dominate Epirus - END
    type = country_event
    title = me_macedon_1_legacy.11.t
    desc = {
        desc = me_macedon_1_legacy.11.desc
        first_valid = {
            triggered_desc = {
                trigger = {
                    c:EPI = {
                        has_land = yes
                        NOT = { is_subject_of = ROOT }
                    }
                }
                desc = me_macedon_1_legacy.11.desc_1
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_macedon_1_legacy.11.desc_2
            }
        }
    }
    picture = epirote_phalanx
    left_portrait = current_ruler
    left_portrait = char:40
    right_portrait = c:EPI.current_ruler
    right_portrait = scope:pyrrhos_scope
    right_portrait = char:12

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        if = {
            limit = {
                NOT = { c:EPI.current_ruler = char:70 }
            }
            char:70 = { save_scope_as = pyrrhos_scope }
        }
        custom_tooltip = me_macedon_1_legacy.11.tt
    }

    option = {      
        name = me_macedon_1_legacy.11.a
        add_country_modifier = {
            name = me_ant_02_2_cmod
            duration = 7300 # 20 years
        }
        if = {
            limit = {
                any_country_culture = { is_culture = epirote }
            }
            random_country_culture = {
                limit = { is_culture = epirote }
                add_country_culture_modifier = {
                    name = me_ant_02_2_culmod
                    duration = 9125 # 25 years
                }
                save_scope_as = epirote_culture
            }
        }
		p:476 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = mac_mountains }
                }
                add_province_modifier = {
                    name = mac_mountains
                    duration = -1
                }
            }
    	}
    }
}

me_macedon_1_legacy.21 = {                            # Paionia Makedonias - START
    type = country_event
    title = me_macedon_1_legacy.21.t
    desc = me_macedon_1_legacy.21.desc
    picture = celtic_village
    left_portrait = current_ruler
    right_portrait = scope:paeonia_scope.current_ruler
    right_portrait = scope:maedia_scope.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_macedon_1_legacy.21.a
        add_political_influence = -50
        add_manpower = -7.5
        custom_tooltip = me_macedon_1_legacy.21.at
        show_as_tooltip = {
            scope:paeonia_scope.capital_scope = {
                add_province_modifier = {
                    name = mac_01_2_pmod
                    duration = 9125 # 25 years
                }
            }
        }
        if = {
            limit = { exists = scope:paeonia_scope }
            scope:paeonia_scope = {
                trigger_event = { id = me_macedon_1_legacy.24 }
            }
        }
        if = {
            limit = { exists = scope:maedia_scope }
            scope:maedia_scope = {
                trigger_event = { id = me_macedon_1_legacy.24 }
            }
        }
        ai_chance = { factor = 70 }
    }

    option = {      
        name = me_macedon_1_legacy.21.b
        add_political_influence = -100
        add_treasury = -50
        set_variable = me_macedon_1_legacy_2_uplift
        custom_tooltip = me_macedon_1_legacy.21.bt
        show_as_tooltip = {
            if = {
                limit = { exists = scope:paeonia_scope }
                scope:paeonia_scope = {
                    add_opinion = { modifier = mac_01_2_opmod target = ROOT }
                    trigger_event = { id = me_macedon_1_legacy.24 }
                }
            }
            if = {
                limit = { exists = scope:maedia_scope }
                scope:maedia_scope = {
                    add_opinion = { modifier = mac_01_2_opmod target = ROOT }
                    trigger_event = { id = me_macedon_1_legacy.24 }
                }
            }
        }
        ai_chance = { factor = 30 }
    }

    option = {      
        name = me_macedon_1_legacy.21.c
        add_political_influence = -25
        if = {
            limit = { exists = scope:paeonia_scope }
            scope:paeonia_scope = {
                add_opinion = { modifier = mac_01_2_2_opmod target = ROOT }
            }
        }
        if = {
            limit = { exists = scope:maedia_scope }
            scope:maedia_scope = {
                add_opinion = { modifier = mac_01_2_2_opmod target = ROOT }
            }
        }
        set_variable = macedon_01_legacy_2_bypass_flag
        custom_tooltip = me_macedon_1_legacy.23.tt
        ai_chance = { factor = 0 }
    }
}

me_macedon_1_legacy.22 = {                            # Paionia Makedonias - END
    type = country_event
    title = me_macedon_1_legacy.22.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    NOT = { has_variable = me_macedon_1_legacy_2_uplift }
                }
                desc = me_macedon_1_legacy.22.desc_1
            }
            triggered_desc = {
                trigger = { has_variable = me_macedon_1_legacy_2_uplift }
                desc = me_macedon_1_legacy.22.desc_2
            }
        }
    } 
    picture = throneroom
    left_portrait = current_ruler
    right_portrait = scope:paeonia_scope.current_ruler
    right_portrait = scope:maedia_scope.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_macedon_1_legacy.22.tt
    }

    option = {      
        name = me_macedon_1_legacy.22.a
        trigger = {
            NOT = { has_variable = me_macedon_1_legacy_2_uplift }
        }
        hidden_effect = {
            if = {
                limit = {
                    exists = scope:paeonia_scope
                    scope:paeonia_scope = { is_subject_of = ROOT }
                }
                scope:paeonia_scope = {
                    every_owned_province = {
                        add_to_list = mac_1_2_list 
                        set_conquered_by = ROOT
                    }
                }
            }
            if = {
                limit = {
                    exists = scope:maedia_scope
                    scope:maedia_scope = { is_subject_of = ROOT }
                }
                scope:maedia_scope = {
                     every_owned_province = {
                        add_to_list = mac_1_2_list 
                        set_conquered_by = ROOT
                    }
                }
            }
        }
        custom_tooltip = me_macedon_1_legacy.22.at
        show_as_tooltip = {
            random_in_list = {
                list = mac_1_2_list
                add_province_modifier = {
                    name = mac_01_2_pmod
                    duration = 9125 # 25 years
                }
            }
        }
        hidden_effect = {
            every_in_list = {
                list = mac_1_2_list
                add_province_modifier = {
                    name = mac_01_2_pmod
                    duration = 9125 # 25 years
                }
            }
        }
    }

    option = {      
        name = me_macedon_1_legacy.22.b
        trigger = { has_variable = me_macedon_1_legacy_2_uplift }
        hidden_effect = {
            if = {
                limit = {
                    exists = scope:paeonia_scope
                    scope:paeonia_scope = { is_subject_of = ROOT }
                }
                release_subject = scope:paeonia_scope
                scope:paeonia_scope = { change_government = despotic_monarchy }
                make_subject = {
                    target = scope:paeonia_scope
                    type = feudatory
                }
                scope:paeonia_scope = {
                    trigger_event = { id = me_macedon_1_legacy.25 }
                }
            }
            if = {
                limit = {
                    exists = scope:maedia_scope
                    scope:maedia_scope = { is_subject_of = ROOT }
                }
                release_subject = scope:maedia_scope
                scope:maedia_scope = { change_government = despotic_monarchy }
                make_subject = {
                    target = scope:maedia_scope
                    type = feudatory
                }
                scope:maedia_scope = {
                    trigger_event = { id = me_macedon_1_legacy.25 }
                }
            }
        }
        custom_tooltip = me_macedon_1_legacy.21.bt
        if = {
            limit = { exists = scope:paeonia_scope }
            scope:paeonia_scope = {
                add_opinion = { modifier = mac_01_2_opmod target = ROOT }
                trigger_event = { id = me_macedon_1_legacy.24 }
            }
        }
        if = {
            limit = { exists = scope:maedia_scope }
            scope:maedia_scope = {
                add_opinion = { modifier = mac_01_2_opmod target = ROOT }
                trigger_event = { id = me_macedon_1_legacy.24 }
            }
        }
    }
}

me_macedon_1_legacy.23 = {                            # Paionia Makedonias - BYPASS
    type = country_event
    title = me_macedon_1_legacy.23.t
    desc = me_macedon_1_legacy.23.desc
    picture = celtic_village

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.23.tt }

    option = {      
        name = me_macedon_1_legacy.23.a
        trigger = {
            NOT = { has_variable = me_macedon_1_legacy_2_uplift }
        }
        add_political_influence = 25
        add_manpower = 3.75
    }

    option = {      
        name = me_macedon_1_legacy.23.a
        trigger = { has_variable = me_macedon_1_legacy_2_uplift }
        add_political_influence = 50
        add_treasury = 25
    }
}

me_macedon_1_legacy.24 = {                            # Paionia Makedonias - PAEAONIAN PLAYER CHOICE
    type = country_event
    title = me_macedon_1_legacy.24.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    scope:me_macedon_scope = {
                        NOT = { has_variable = me_macedon_1_legacy_2_uplift }
                    }
                }
                desc = me_macedon_1_legacy.24.desc_1
            }
            triggered_desc = {
                trigger = {
                    scope:me_macedon_scope = { has_variable = me_macedon_1_legacy_2_uplift }
                }
                desc = me_macedon_1_legacy.24.desc_2
            }
        }
    }
    picture = celtic_village
    left_portrait = current_ruler
    right_portrait = scope:me_macedon_scope.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_macedon_1_legacy.24.a
        trigger = {
            scope:me_macedon_scope = { has_variable = me_macedon_1_legacy_2_uplift }
        }
        custom_tooltip = me_macedon_1_legacy.24.at
    }

    option = {      
        name = me_macedon_1_legacy.24.b
        trigger = { is_ai = no }
        declare_war_with_wargoal = {
            war_goal = raiding_wargoal
            target = scope:me_macedon_scope
        }
        set_variable = paeonian_revolt_flag
        if = { # bypass mission if there is no one left
            limit = {
                OR = {
                    AND = {
                        THIS = c:PAA
                        c:MAD = { has_variable = paeonian_revolt_flag }
                    }
                    AND = {
                        THIS = c:MAD
                        c:PAA = { has_variable = paeonian_revolt_flag }
                    }
                    AND = {
                        THIS = c:PAA
                        c:MAD = {
                            OR = {
                                NOT = { is_subject_of = scope:me_macedon_scope }
                                has_land = no
                            }
                        }
                    }
                    AND = {
                        THIS = c:MAD
                        c:PAA = {
                            OR = {
                                NOT = { is_subject_of = scope:me_macedon_scope }
                                has_land = no
                            }
                        }
                    }
                }
            }
            scope:me_macedon_scope = { set_variable = macedon_01_legacy_2_bypass_flag }
        }
    }

    option = {      
        name = me_macedon_1_legacy.24.b
        trigger = {
            is_ai = yes
            NOT = {
                scope:me_macedon_scope = { has_variable = me_macedon_1_legacy_2_uplift }
            }
        }
    }
}

me_macedon_1_legacy.25 = {                            # Paionia Makedonias - PAEAONIAN END
    type = country_event
    title = me_macedon_1_legacy.25.t
    desc = me_macedon_1_legacy.25.desc
    picture = greek_court
    left_portrait = current_ruler
    right_portrait = scope:me_macedon_scope.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        show_as_tooltip = {
            change_government = despotic_monarchy
            overlord = {
                make_subject = {
                    target = ROOT
                    type = feudatory
                }
            }
            add_opinion = { modifier = mac_01_2_opmod target = scope:me_macedon_scope }
        }
    }

    option = {      
        name = me_macedon_1_legacy.25.a
    }
}

me_macedon_1_legacy.31 = {                            # Agrianian Recruits - START
    type = country_event
    title = me_macedon_1_legacy.31.t
    desc = me_macedon_1_legacy.31.desc
    picture = celtic_village

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_macedon_1_legacy.31.a
        custom_tooltip = me_macedon_1_legacy.31.tt
    }
}

me_macedon_1_legacy.32 = {                            # Agrianian Recruits - END
    type = country_event
    title = me_macedon_1_legacy.32.t
    desc = me_macedon_1_legacy.32.desc
    picture = hellenistic_army

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.32.tt }

    option = {      
        name = me_macedon_1_legacy.32.a
        random_unit = {
            limit = { legion = ROOT.capital_scope.governorship.legion }
            add_unit_modifier = {
                name = mac_01_3_umod
                duration = -1
            }
        }
    }
}

me_macedon_1_legacy.41 = {                            # Antipatros' Sphere - END
    type = country_event
    title = me_macedon_1_legacy.41.t
    desc = me_macedon_1_legacy.41.desc
    picture = greek_city

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_macedon_1_legacy.41.tt
        add_political_influence = -50
    }

    option = {      
        name = me_macedon_1_legacy.41.a

    }
}

me_macedon_1_legacy.51 = {                            # Demetrios' Folly - END
    type = country_event
    title = me_macedon_1_legacy.51.t
    desc = me_macedon_1_legacy.51.desc
    picture = greek_siege
    left_portrait = current_ruler
    right_portrait = char:38
    goto_location p:407

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.51.tt }

    option = {      
        name = me_macedon_1_legacy.51.a
        add_country_modifier = {
            name = mac_01_5_cmod
            duration = 1825 # 5 years
        }
    }
}

me_macedon_1_legacy.61 = {                            # League of Korinthos - START
    type = country_event
    title = me_macedon_1_legacy.61.t
    desc = me_antigonid_1_vision.131.desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    right_portrait = scope:mac_01_6_subject_1.current_ruler
    right_portrait = scope:mac_01_6_subject_2.current_ruler
    goto_location = p:418

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        add_political_influence = -100
        if = {
            limit = {
                any_subject = { ant_01_13_subject_trigger = yes } # owns 3 cities, is Hellenic, capital in southern Greece
            }
            every_subject = {
                limit = { 
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                } # is Hellenic, capital in southern Greece
                if = {
                    limit = { is_ai = no }
                    trigger_event = { id = me_antigonid_1_vision.64 }
                }
                add_to_list = ant_01_13_subject_list
                if = {
                    limit = {
                        any_in_list = { list = ant_01_13_subject_list }
                    }
                    ordered_in_list = {
                        list = ant_01_13_subject_list
                        position = 0
                        save_scope_as = mac_01_6_subject_1
                    }
                    if = {
                        limit = {
                            any_in_list = {
                                list = ant_01_13_subject_list
                                count > 1
                            }
                        }
                        ordered_in_list = {
                            list = ant_01_13_subject_list
                            position = 1
                            save_scope_as = ant_01_6_subject_2
                        }
                    }
                }
            }
        }
    }

    option = {      
        name = me_macedon_1_legacy.61.a
        custom_tooltip = me_macedon_1_legacy.61.at
    }
}

me_macedon_1_legacy.62 = {                            # League of Korinthos - END
    type = country_event
    title = me_macedon_1_legacy.62.t
    desc = me_antigonid_1_vision.132.desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    right_portrait = scope:mac_01_6_corinth_scope.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_macedon_1_legacy.62.tt
        if = {
            limit = {
                any_subject = { ant_01_13_subject_trigger = yes } # owns 3 cities, is Hellenic, capital in southern Greece
            }
            every_subject = {
                limit = { 
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    } 
                } # owns 3 cities, is Hellenic, capital in southern Greece
                add_to_list = mac_01_6_subject_list
            }
        }
        else = {
            if = {
                limit = {
                    NOT = { p:418.owner = ROOT }
                }
                p:418.owner = { save_scope_as = mac_01_6_corinth_scope }
            }
            else = {
                p:418 = {
                    create_country = {
                        set_country_religion = roman_pantheon
                        if = {
                            limit = {
                                NOT = {
                                    primary_culture = p:418.culture
                                }
                            }
                            set_primary_culture_cleanup_effect = {
                                NEW_PRIMARY_CULTURE = p:418.culture
                                MAKE_OLD_CULTURE_INTEGRATED = yes
                            }
                        }
                        save_scope_as = mac_01_6_corinth_scope
                    }
                }
                ROOT = {
                    make_subject = {
                        target = scope:mac_01_6_corinth_scope
                        type = feudatory
                    }
                }
            }
        }
        if = {
            limit = {
                any_in_list = {
                    list = mac_01_6_subject_list
                    is_subject_of = ROOT
                    ant_01_13_subject_trigger = yes # owns 3 cities, is Hellenic, capital in southern Greece
                    is_ai = no
                }
            }
            random_in_list = {
                list = mac_01_6_subject_list
                limit = {
                    is_subject_of = ROOT
                    country_culture_group = hellenic
                    capital_scope = {
                        OR = {
                            is_in_area = boeotia_area
                            is_in_area = euboea_area
                            is_in_area = central_greece_area
                            is_in_area = achaea_area
                            is_in_area = arcadia_area
                            is_in_area = south_peleponnesos_area
                        }
                    }
                    is_ai = no
                }
                save_scope_as = mac_01_6_corinth_scope
            }
        }
        else = {
            if = {
                limit = {
                    any_subject = {
                        ant_01_13_subject_trigger = yes
                        owns = 418
                    }
                }
                p:418.owner = { save_scope_as = mac_01_6_corinth_scope }
            }
            else = {
                ordered_in_list = {
                    list = mac_01_6_subject_list
                    limit = {
                        is_subject_of = ROOT
                        country_culture_group = hellenic
                        capital_scope = {
                            OR = {
                                is_in_area = boeotia_area
                                is_in_area = euboea_area
                                is_in_area = central_greece_area
                                is_in_area = achaea_area
                                is_in_area = arcadia_area
                                is_in_area = south_peleponnesos_area
                            }
                        }
                    }
                    order_by = country_population
                    save_scope_as = mac_01_6_corinth_scope
                }
            }
        }
        every_in_list = {
            list = mac_01_6_subject_list
            every_country_treasure = { add_to_list = mac_01_6_subject_treasure_list }
        }
    }

    option = {      
        name = me_macedon_1_legacy.62.a
        custom_tooltip = me_macedon_1_legacy.62.at
        every_owned_province = {
            limit = {
                OR = {
                    is_in_area = boeotia_area
                    is_in_area = euboea_area
                    is_in_area = central_greece_area
                    is_in_area = achaea_area
                    is_in_area = arcadia_area
                    is_in_area = south_peleponnesos_area
                }
            }
            hidden_effect = { set_owned_by = scope:mac_01_6_corinth_scope }
        }
        every_in_list = {
            list = mac_01_6_subject_treasure_list
            limit = {
                NOT = { treasure_owner = scope:mac_01_6_corinth_scope }
            }
            transfer_treasure_to_country = scope:mac_01_6_corinth_scope
        }
        every_in_list = {
            list = mac_01_6_subject_list
            limit = {
                is_subject_of = ROOT
                country_culture_group = hellenic
                capital_scope = {
                   OR = {
                       is_in_area = boeotia_area
                       is_in_area = euboea_area
                       is_in_area = central_greece_area
                       is_in_area = achaea_area
                       is_in_area = arcadia_area
                       is_in_area = south_peleponnesos_area
                   }
                }
                NOT = { THIS = scope:mac_01_6_corinth_scope }
            }
            hidden_effect = {
                every_owned_province = { set_owned_by = scope:mac_01_6_corinth_scope }
            }
        }
        scope:mac_01_6_corinth_scope = {
            show_as_tooltip = {
                set_capital = p:418
                if = {
                    limit = {
                        NOT = { is_subject_type = feudatory }
                    }
                    overlord = {
                        make_subject = {
                            type = feudatory
                            target = scope:mac_01_6_corinth_scope
                        }
                    }
                }
                hidden_effect = {
                    change_country_adjective = COT_ADJ
                    change_country_flag = CORINTH_FLAG
                    add_treasury = 100
                    add_manpower = 5
                    add_political_influence = 50
                }
                add_country_modifier = {
                    name = ant_01_13_cmod
                    duration = 7300 # 20 years
                }
                change_country_name = LEAGUE_OF_KORINTHOS
            }
            trigger_event = { id = me_macedon_1_legacy.66 }
        }
    }
}

me_macedon_1_legacy.63 = {                            # League of Korinthos - BYPASS
    type = country_event
    title = me_macedon_1_legacy.63.t
    desc = me_antigonid_1_vision.133.desc
    picture = greek_political_discussion

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_macedon_1_legacy.63.a
        custom_tooltip = me_macedon_1_legacy.63.at
    }
}

me_macedon_1_legacy.64 = {                            # League of Korinthos - PLAYER START PING
    type = country_event
    title = me_macedon_1_legacy.61.t
    desc = me_macedon_1_legacy.64.desc
    picture = greek_political_discussion
    left_portrait = current_ruler
    right_portrait = scope:me_macedon_scope.current_ruler
    goto_location = scope:me_macedon_scope.capital_scope

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_antigonid_1_vision.134.a
        trigger = {
            any_in_list = {
                list = ant_01_13_subject_list
                count <= 1
                is_ai = no
            }
        }
        custom_tooltip = me_macedon_1_legacy.64.at
    }

    option = {      
        name = me_antigonid_1_vision.134.b
        save_scope_as = mac_01_6_scope
        overlord = {
            show_as_tooltip = { release_subject = ROOT }
            trigger_event = { id = me_macedon_1_legacy.65 }
        }
    }
}

me_macedon_1_legacy.65 = {                            # League of Korinthos - MAC REJECTED PING
    type = country_event
    title = me_macedon_1_legacy.65.t
    desc = me_macedon_1_legacy.65.desc
    picture = greek_political_discussion

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        release_subject = scope:mac_01_6_scope
        custom_tooltip = me_macedon_1_legacy.65.tt
    }

    option = {      
        name = me_antigonid_1_vision.135.a
    }
}

me_macedon_1_legacy.66 = {                            # League of Korinthos - PLAYER END PING
    type = country_event
    title = me_macedon_1_legacy.62.t
    desc = me_antigonid_1_vision.136.desc
    picture = greek_political_discussion

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_antigonid_1_vision.136.a
        custom_tooltip = me_macedon_1_legacy.62.at
        set_capital = p:418
        if = {
            limit = {
                NOT = { is_subject_type = feudatory }
            }
            hidden_effect = {
                overlord = { release_subject = ROOT }
            }
            overlord = {
                make_subject = {
                    type = feudatory
                    target = scope:mac_01_6_corinth_scope
                }
            }
        }
        hidden_effect = {
            change_country_adjective = COT_ADJ
            change_country_flag = CORINTH_FLAG
        }
        add_treasury = 100
        add_manpower = 5
        add_political_influence = 50
        add_country_modifier = {
            name = ant_01_13_cmod
            duration = 7300 # 20 years
        }
        change_country_name = LEAGUE_OF_KORINTHOS
    }
}

me_macedon_1_legacy.71 = {                            # Athenian Machinations - START
    type = country_event
    title = me_macedon_1_legacy.71.t
    desc = me_macedon_1_legacy.71.desc
    picture = senator_conversing
    left_portrait = current_ruler
    right_portrait = c:ATH.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { add_treasury = -50 }

    option = {      
        name = me_macedon_1_legacy.71.a
        custom_tooltip = me_macedon_1_legacy.71.at
    }

    after = {
        trigger_event = {
            id = me_macedon_1_legacy.73
            days = 60
        }
    }
}

me_macedon_1_legacy.72 = {                            # Athenian Machinations - END
    type = country_event
    title = {
        first_valid = {
            triggered_desc = {
                trigger = { c:ATH.current_ruler = scope:lachares_scope }
                desc = me_macedon_1_legacy.72.t_1
            }
            triggered_desc = {
                trigger = {
                    NOT = { c:ATH.current_ruler = scope:lachares_scope }
                }
                desc = me_macedon_1_legacy.72.t_2
            }
        }
    }
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = { c:ATH.current_ruler = scope:lachares_scope }
                desc = me_macedon_1_legacy.72.desc_1
            }
            triggered_desc = {
                trigger = {
                    NOT = { c:ATH.current_ruler = scope:lachares_scope }
                }
                desc = me_macedon_1_legacy.72.desc_2
            }
        }
    }
    picture = greek_marketplace
    left_portrait = current_ruler
    right_portrait = scope:lachares_scope
    right_portrait = scope:old_overlord.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_macedon_1_legacy.72.tt
        if = {
            limit = { c:ATH.current_ruler = scope:lachares_scope }
            show_as_tooltip = {
                c:ATH = { set_as_ruler = scope:lachares_scope }
                custom_tooltip = me_macedon_1_legacy.74.at
            }
            if = {
                limit = {
                    c:ATH = { is_subject = yes }
                }
                c:ATH.overlord = { release_subject = c:ATH }
            }
            scope:me_macedon_scope = {
                make_subject = {
                    target = c:ATH
                    type = feudatory
                }
            }
            custom_tooltip = me_macedon_1_legacy.75.at
        }
        else = {
            show_as_tooltip = {
                scope:lachares_scope = {
                    death = { death_reason = death_assassinated }
                }
            }
        }
    }

    option = {      
        name = me_macedon_1_legacy.72.a
        trigger = { c:ATH.current_ruler = scope:lachares_scope }
        if = {
            limit = { exists = scope:old_overlord }
            scope:old_overlord = {
                trigger_event = { id = me_macedon_1_legacy.75 }
            }
        }
        every_country = {
            limit = {
                OR = {
                    country_culture_group = hellenic
                    THIS = c:SEL
                    THIS = c:EGY
                    THIS = c:TRE
                    THIS = c:PRY
                }
                NOR = {
                    AND = {
                        exists = scope:me_macedon_scope
                        THIS = scope:me_macedon_scope
                    }
                    AND = {
                        exists = scope:old_overlord
                        THIS = scope:old_overlord
                    }                    
                }
            }
            trigger_event = { id = me_macedon_1_legacy.76 }
        }
    }

    option = {      
        name = me_macedon_1_legacy.72.b
        trigger = {
            NOT = { c:ATH.current_ruler = scope:lachares_scope }
        }
    }
}

me_macedon_1_legacy.73 = {                            # Athenian Machinations - LACHARES
    type = country_event
    title = me_macedon_1_legacy.73.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = { tag = ATH }
                desc = me_macedon_1_legacy.73.desc_1 # ATH
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_macedon_1_legacy.73.desc_2 # MAC
            }
        }
    }
    picture = greek_political_discussion
    left_portrait = current_ruler
    right_portrait = scope:lachares_scope
    right_portrait = scope:macedon_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
        c:ATH = {
            is_subject_of = c:PRY
        }
    }

    immediate = {
        hidden_effect = {
            if = {
                limit = {
                    NOT = { tag = ATH }
                }
                if = {
                    limit = {
                        char:391 = {
                            is_alive = yes
                            prisoner = no
                            is_ruler = no
                            employer = c:ATH
                            health >= 50
                            age <= 60
                        }
                    }
                    char:391 = {
                        save_scope_as = lachares_scope
                        scope:me_macedon_scope = {
                            set_variable = {
                                name = og_lachares
                                value = scope:lachares_scope
                            }
                        }
                        add_party_conviction = {
                           party_type = oligarchic_party
                           value = 100
                        }
                        add_gold = 100
                    }
                }
                else_if = {
                    limit = {
                        c:ATH = {
                            any_character = {
                                is_ruler = no
                                prisoner = no
                                trigger_if = {
                                    limit = {
                                        employer = {
                                            gender_equality = no
                                        }
                                    }
                                    is_female = no
                                }
                                age <= 60
                                health >= 50
                                loyalty <= 60
                            }
                        }
                    }
                    c:ATH = {
                        random_character = {
                            limit = {
                                is_ruler = no
                                prisoner = no
                                trigger_if = {
                                    limit = {
                                        employer = {
                                            gender_equality = no
                                        }
                                    }
                                    is_female = no
                                }
                                age <= 60
                                health >= 50
                                loyalty <= 60
                            }
                            weight = {
                                modifier = {
                                    OR = {
                                        has_trait = orator
                                        has_trait = silver_tongued
                                        has_trait = cultured
                                        charisma >= 8
                                    }
                                    factor = 2
                                }
                                modifier = {
                                    party_type = oligarchic_party
                                    factor = 2
                                }
                                modifier= {
                                    OR = {
                                        has_trait = corrupt
                                        has_trait = ambitious
                                        has_trait = lapsed
                                        has_trait = selfish
                                        has_trait = two_faced
                                    }
                                    factor = 2
                                }
                            }
                            save_scope_as = lachares_scope
                            scope:me_macedon_scope = {
                                set_variable = {
                                    name = og_lachares
                                    value = scope:lachares_scope
                                }
                            }
                            add_party_conviction = {
                               party_type = oligarchic_party
                               value = 100
                            }
                            add_gold = 100
                        }
                    }
                }
                else = {
                    create_character = {
                        female = no
                        culture = athenian
                        religion = roman_pantheon
                        no_traits = yes
                        no_stats = yes
                        add_martial = 5
                        add_charisma = 8
                        add_finesse = 6
                        add_zeal = 4
                        add_trait = corrupt
                        add_trait = lapsed
                        add_trait = ambitious
                        add_party_conviction = {
                           party_type = oligarchic_party
                           value = 100
                        }
                        add_gold = 100
                        save_scope_as = lachares_scope
                        scope:me_macedon_scope = {
                            set_variable = {
                                name = og_lachares
                                value = scope:lachares_scope
                            }
                        }
                    }
                }
            }
            else = {
                c:MAC.current_ruler = { save_scope_as = macedon_ruler }
            }
        }
    }

    option = {      
        name = me_macedon_1_legacy.73.a
        trigger = { tag = ATH }
        custom_tooltip = me_macedon_1_legacy.73.at
    }

    option = {      
        name = me_macedon_1_legacy.73.b
        trigger = {
            NOT = { tag = ATH }
        }
        custom_tooltip = me_macedon_1_legacy.73.bt
    }

    after = {
        if = {
            limit = {
                NOT = { tag = ATH }
            }
            c:ATH = {
                if = {
                    limit = { is_ai = no }
                    trigger_event  = { id = me_macedon_1_legacy.73 }
                }
            }
        }
    }
}

me_macedon_1_legacy.74 = {                            # Athenian Machinations - END ATH
    type = country_event
    title = me_macedon_1_legacy.74.t
    desc = {
        triggered_desc = {
            trigger = {
                NOT = { scope:me_macedon_scope.var:og_lachares = scope:lachares_scope }
            }
            desc = me_macedon_1_legacy.74.desc_2 #
        }
        desc = me_macedon_1_legacy.74.desc_1 #
        triggered_desc = {
            trigger = {
                exists = scope:old_overlord
                is_subject = yes
            }
            desc = me_macedon_1_legacy.74.desc_3 #
        }
    }
    picture = greek_marketplace
    left_portrait = scope:old_ruler
    left_portrait = scope:old_overlord.current_ruler
    right_portrait = scope:lachares_scope
    right_portrait = scope:me_macedon_scope.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        c:ATH.current_ruler = { save_scope_as = old_ruler }
        if = {
            limit = {
                scope:me_macedon_scope = {
                    OR = {
                        NOT = { has_variable = og_lachares }
                        var:og_lachares = {
                            OR = {
                                is_alive = no
                                prisoner = yes
                                NOT = { employer = c:ATH }
                            }
                        }
                    }
                }
            }
            hidden_effect = {
                create_character = {
                    female = no
                    culture = athenian
                    religion = roman_pantheon
                    no_traits = yes
                    no_stats = yes
                    add_martial = 5
                    add_charisma = 8
                    add_finesse = 6
                    add_zeal = 4
                    add_trait = corrupt
                    add_trait = lapsed
                    add_trait = ambitious
                    save_scope_as = lachares_scope
                    add_party_conviction = {
                       party_type = oligarchic_party
                       value = 100
                    }
                }
            }
        }
        else = {
            scope:me_macedon_scope.var:og_lachares = { save_scope_as = lachares_scope }
            c:MAC.current_ruler = { save_scope_as = macedon_ruler }
        }
        if = {
            limit = { is_subject = yes }
            overlord = { save_scope_as = old_overlord }
        }
    }

    option = {      
        name = me_macedon_1_legacy.74.a
        set_as_ruler = scope:lachares_scope
        custom_tooltip = me_macedon_1_legacy.74.at
        hidden_effect = { change_government = oligarchic_republic }
        change_law = republican_election_2
        if = {
            limit = { is_subject = yes }
            show_as_tooltip = {
                overlord = { release_subject = ROOT }
            }
        }
        show_as_tooltip = {
            scope:me_macedon_scope = {
                make_subject = {
                    target = ROOT
                    type = feudatory
                }
            }
        }
        if = {
            limit = { is_subject = yes }
            scope:old_ruler = { banish = ROOT.overlord }
        }
        else = {
            random_country = {
                limit = {
                    country_culture_group = hellenic
                    NOR = {
                        THIS = ROOT
                        THIS = scope:me_macedon_scope
                    }
                }
                weight = {
                    modifier = {
                        capital_scope = { is_in_region = greece_region }
                    }
                }
                save_scope_as = banish_scope
            }
            scope:old_ruler = { banish = scope:banish_scope }
        }
        if = {
            limit = { is_subject = yes }
            custom_tooltip = me_macedon_1_legacy.75.at
        }
        set_variable = ath_machinations_flag
        if = {
            limit = { has_variable = ath_mis_1_flag }
            custom_tooltip = me_macedon_1_legacy.75.at2
        }
        ai_chance = { factor = 2 }
    }

    option = {      
        name = me_macedon_1_legacy.74.b
        scope:lachares_scope = {
            death = { death_reason = death_assassinated }
        }
        current_ruler = { add_popularity = subtract_popularity_huge }
        add_tyranny = tyranny_large
        add_stability = -15
        ai_chance = { factor = 0 }
    }

    after = {
        scope:me_macedon_scope = {
            trigger_event = { id = me_macedon_1_legacy.72 }
        }
    }
}

me_macedon_1_legacy.75 = {                            # Athenian Machinations - PRY PING
    type = country_event
    title = me_macedon_1_legacy.74.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = { c:ATH.current_ruler = scope:lachares_scope }
                desc = me_macedon_1_legacy.75.desc_1 # ATH
            }
            triggered_desc = {
                trigger = {
                    NOT = { c:ATH.current_ruler = scope:lachares_scope }
                }
                desc = me_macedon_1_legacy.75.desc_2 # MAC
            }
        }
    }
    picture = greek_political_discussion
    left_portrait = current_ruler
    left_portrait = scope:old_ruler
    right_portrait = scope:lachares_scope
    right_portrait = scope:me_macedon_scope.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        if = {
            limit = { c:ATH.current_ruler = scope:lachares_scope }
            show_as_tooltip = {
                c:ATH = { set_as_ruler = scope:lachares_scope }
                custom_tooltip = me_macedon_1_legacy.74.at
            }
            custom_tooltip = me_macedon_1_legacy.75.tt
            custom_tooltip = me_macedon_1_legacy.75.at
        }
        else = {
            show_as_tooltip = {
                scope:lachares_scope = {
                    death = { death_reason = death_assassinated }
                }
            }
        }
    }

    option = {      
        name = me_macedon_1_legacy.75.a
        trigger = { c:ATH.current_ruler = scope:lachares_scope }
        if = {
            limit = { exists = scope:old_overlord }
            custom_tooltip = me_macedon_1_legacy.75.at
        }
    }

    option = {      
        name = me_macedon_1_legacy.75.b
        trigger = {
            NOT = { c:ATH.current_ruler = scope:lachares_scope }
        }
        custom_tooltip = me_macedon_1_legacy.75.bt
    }
}

me_macedon_1_legacy.76 = {                            # Athenian Machinations - GEN PING
    type = country_event
    title = me_macedon_1_legacy.74.t
    desc = me_macedon_1_legacy.76.desc #
    picture = greek_political_discussion
    left_portrait = scope:lachares_scope
    left_portrait = scope:me_macedon_scope.current_ruler
    right_portrait = scope:old_ruler
    right_portrait = scope:old_overlord.current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    option = {      
        name = me_macedon_1_legacy.76.a
        custom_tooltip = me_macedon_1_legacy.75.tt
    }
}

me_macedon_1_legacy.79 = {                            # Athenian Machinations - BYPASS
    type = country_event
    title = me_macedon_1_legacy.79.t
    desc = me_macedon_1_legacy.79.desc
    picture = greek_court
    left_portrait = current_ruler

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.79.tt }

    option = {      
        name = me_macedon_1_legacy.79.a
        add_treasury = 25
    }
}

me_macedon_1_legacy.81 = {                             # Formalize Monarchy - END
    type = country_event
    title = me_macedon_1_legacy.81.t
    desc = me_macedon_1_legacy.81.desc
    picture = diadochi_coronation
    left_portrait = current_ruler
    right_portrait = char:9

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.81.tt }

    option = {      
        name = me_macedon_1_legacy.81.a
        current_ruler = { add_nickname = NICKNAME_ANIKETOS }
    }

    option = {      
        name = me_macedon_1_legacy.81.b
        trigger = {
            current_ruler = { has_nickname = yes }
        }
        current_ruler = {
           if = {
                limit = { number_of_personality_traits <= 2 }
                add_trait = humble
            }
        }
    }

    after = {
        current_ruler = {
            add_popularity = popularity_medium
            add_nickname = NICKNAME_ANIKETOS
        }
        add_country_modifier = {
            name = mac_01_8_cmod
            duration = 7300 # 20 years
        }
        add_stability_effect = yes
    }
}

me_macedon_1_legacy.91 = {                            # Thessalian Fetter - START
    type = country_event
    title = me_macedon_1_legacy.91.t
    desc = me_macedon_1_legacy.91.desc
    picture = throneroom
    left_portrait = current_ruler
    right_portrait = char:9
    right_portrait = char:32

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        set_variable = {
            name = macedon_01_legacy_9_var
            value = 1
        }
        add_treasury = -100
    }

    option = {      
        name = me_macedon_1_legacy.91.a
        custom_tooltip = me_macedon_1_legacy.91.at
    }

    option = {      
        name = me_macedon_1_legacy.91.b
        custom_tooltip = me_macedon_1_legacy.91.bt
        change_variable = {
            name = macedon_01_legacy_9_var
            add = 1
        }
    }

    option = {      
        name = me_macedon_1_legacy.91.c
        trigger = {
            current_ruler = { has_trait = argeads }
        }
        highlight = yes
        custom_tooltip = me_macedon_1_legacy.91.ct
        current_ruler = { add_popularity = popularity_small }
        change_variable = {
            name = macedon_01_legacy_9_var
            add = 2
        }
    }
}

me_macedon_1_legacy.92 = {                            # Thessalian Fetter - END
    type = country_event
    title = {
        first_valid = {
            triggered_desc = {
                trigger = { var:macedon_01_legacy_9_var = 1 }
                desc = me_macedon_1_legacy.92.t_1 # First time
            }
            triggered_desc = {
                trigger = { var:macedon_01_legacy_9_var = 2 }
                desc = me_macedon_1_legacy.92.t_2 # Other times
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_macedon_1_legacy.92.t_3 # None left
            }
        }
    }
    desc = {
        desc = me_macedon_1_legacy.92.desc
        first_valid = {
            triggered_desc = {
                trigger = { var:macedon_01_legacy_9_var = 1 }
                desc = me_macedon_1_legacy.92.desc_1 # First time
            }
            triggered_desc = {
                trigger = { var:macedon_01_legacy_9_var = 2 }
                desc = me_macedon_1_legacy.92.desc_2 # Other times
            }
            triggered_desc = {
                trigger = { always = yes }
                desc = me_macedon_1_legacy.92.desc_3 # None left
            }
        }
    }
    picture = diadochi_new_city_founded
    left_portrait = current_ruler
    right_portrait = scope:macedon_01_legacy_9_scope

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        custom_tooltip = me_macedon_1_legacy.92.tt
        if = {
            limit = { var:macedon_01_legacy_9_var = 1 }
            char:9 = { save_scope_as = macedon_01_legacy_9_scope }
        }
        else_if = {
            limit = {
                var:macedon_01_legacy_9_var = 2
                NOT = { current_ruler = char:32 }
            }
            char:32 = { save_scope_as = macedon_01_legacy_9_scope }
        }
        else_if = {
            limit = { var:macedon_01_legacy_9_var = 3 }
            char:39 = { save_scope_as = macedon_01_legacy_9_scope }
        }
    }

    option = {      
        name = me_macedon_1_legacy.92.a
        p:390 = {
            if = {
                limit = {
                    total_population > p:391.total_population
                    p:391.total_population > 3
                }
                custom_tooltip = antigonid_02_aspiration_10_pop_tt
                set_variable = {
                    name = me_ant_2_10_counter
                    value = me_ant_2_10_svalue
                }
                hidden_effect = {
                    while = {
                        limit = { var:me_ant_2_10_counter > 0 }
                        p:390 = {
                            random_pops_in_province = {
                                weight = {
                                    modifier = {
                                        pop_culture_group = hellenic
                                        factor = 100
                                    }
                                    modifier = {
                                        pop_type = freemen
                                        factor = 100
                                    }
                                    modifier = {
                                        pop_type = citizen
                                        factor = 50
                                    }
                                }
                                move_pop = p:391
                            }
                        }
                        change_variable = {
                            name = me_ant_2_10_counter
                            subtract = 1
                        }
                    }
                }
                if = {
                    limit = { has_city_status = yes }
                    set_city_status = settlement
                }
            }
        }
        p:391 = {
            if = {
                limit = { has_city_status = no }
                set_city_status = city
            }
            while = {
                limit = { num_of_fortress_building < 2 }
                if = {
                    limit = { free_building_slots < 1 }
                    destroy_building_effect = yes
                }
                add_building_level = fortress_building
            }
            add_permanent_province_modifier = { name = me_mac_01_9_pmod }
            if = {
                limit = { ROOT.var:macedon_01_legacy_9_var = 1 }
                change_province_name = "Antipatreia"
            }
            else_if = {
                limit = { ROOT.var:macedon_01_legacy_9_var = 2 }
                change_province_name = "Kassandreia Thessalias"
            }
            else_if = {
                limit = { ROOT.var:macedon_01_legacy_9_var = 3 }
                change_province_name = "Alexandreia Thessalias"
            }
        }
    }
}

me_macedon_1_legacy.101 = {                            # Western Hegemony - END
    type = country_event
    title = me_macedon_1_legacy.101.t
    desc = me_macedon_1_legacy.101.desc
    picture = epirote_phalanx

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.101.tt }

    option = {      
        name = me_macedon_1_legacy.101.a
        add_country_modifier = {
            name = mac_01_10_cmod
            duration = 7300 # 20 years
        }
    }
}

me_macedon_1_legacy.111 = {                            #  Dregs of Pangaion - START
    type = country_event
    title = me_macedon_1_legacy.111.t
    desc = me_macedon_1_legacy.111.desc
    picture = quarry
    goto_location = p:365

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        set_variable = {
            name = pangaion_value_flag
            value = me_mac_1_11_svalue
        }
    }

    option = {      
        name = me_macedon_1_legacy.111.a
        custom_tooltip = me_macedon_1_legacy.111.at
        add_manpower = -3
        custom_tooltip = me_macedon_1_legacy.111.tt
        custom_tooltip = macedon_01_legacy_11_allow_tt
        show_as_tooltip = {
            p:365 = { set_trade_goods = wood }
            add_treasury = var:pangaion_value_flag
        }   
    }

    option = {      
        name = me_macedon_1_legacy.111.b
        custom_tooltip = me_macedon_1_legacy.111.bt
        p:365 = {
            add_permanent_province_modifier = {
                name = mac_01_11_pmod
                duration = -1
            }
        }
        set_variable = pangaion_flag
    }
}

me_macedon_1_legacy.112 = {                            #  Dregs of Pangaion - END
    type = country_event
    title = me_macedon_1_legacy.112.t
    desc = me_macedon_1_legacy.112.desc
    picture = throneroom
    goto_location = p:365

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.112.tt }

    option = {      
        name = me_macedon_1_legacy.112.a
        custom_tooltip = macedon_01_legacy_11_allow_tt
        p:365 = { set_trade_goods = wood }
        add_treasury = var:pangaion_value_flag
    }

    after = { remove_variable = pangaion_value_flag }
}

me_macedon_1_legacy.113 = {                            #  Dregs of Pangaion - BYPASS
    type = country_event
    title = me_macedon_1_legacy.113.t
    desc = me_macedon_1_legacy.113.desc
    picture = greek_court
    goto_location = p:365

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        add_manpower = 1.5
        p:365 = {
            add_permanent_province_modifier = {
                name = mac_01_11_pmod
                duration = -1
            }
        }
    }

    option = {      
        name = me_macedon_1_legacy.113.a
        custom_tooltip = me_macedon_1_legacy.113.tt
    }
}

me_macedon_1_legacy.121 = {                            # Last of the Argeads - END
    type = country_event
    title = me_macedon_1_legacy.121.t
    desc = me_macedon_1_legacy.121.desc
    picture = throneroom
    left_portrait = current_ruler
    right_portrait = char:32
    right_portrait = char:287

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = { custom_tooltip = me_macedon_1_legacy.121.tt }

    option = {      
        name = me_macedon_1_legacy.121.a
        current_ruler = { add_popularity = popularity_large}
        add_country_modifier = {
            name = mac_01_12_cmod
            duration = 7300 # 20 years
        }
    }
}

me_macedon_1_legacy.131 = {                            # The Illyrian Question - END
    type = country_event
    title = me_macedon_1_legacy.131.t
    desc = me_macedon_1_legacy.131.desc
    picture = throneroom
    left_portrait = current_ruler
    right_portrait = scope:kleitos_scope
    right_portrait = scope:glaukias_scope

    trigger = { 
        has_dlc = "Heirs of Alexander"
        has_land = yes
    }

    immediate = {
        char:102 = { save_scope_as = kleitos_scope }
        char:105 = { save_scope_as = glaukias_scope }
        custom_tooltip = me_macedon_1_legacy.131.tt
    }

    option = {      
        name = me_macedon_1_legacy.131.a
        if = {
            limit = {
                any_country_culture = { is_culture = taulantian }
            }
            random_country_culture = {
                limit = { is_culture = taulantian }
                add_country_culture_modifier = {
                    name = mac_01_13_culmod
                    duration = 9125 # 25 years
                }
                save_scope_as = taulantian_culture
            }
	    }
    }

    option = {      
        name = me_macedon_1_legacy.131.b
        trigger = {
            c:TLN = { has_land = no }
        }
        custom_tooltip = me_macedon_1_legacy.131.bt
        hidden_effect = {
            every_owned_province = {
                limit = { is_in_area = illyria_graeca_area }
                set_owned_by = c:TLN
            }
            c:TLN = { change_government = tribal_chiefdom }
            make_subject = {
                target = c:TLN 
                type = vassal_tribe
            }
        }
        c:TLN = {
            add_country_modifier = {
                name = mac_01_13_2_cmod
                duration = 7300 # 20 years
            }
        }
    }

    after = {
        add_country_modifier = {
            name = mac_01_13_cmod
            duration = 7300 # 20 years
        }
    }
}