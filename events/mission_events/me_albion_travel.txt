namespace = me_albion_travel

me_albion_travel.1 = { #naval adventure ?
	type = country_event

	title = me_albion_travel_1_title
	desc = me_albion_travel_1_desc
	picture = grand_ship

	option = { #sounds like a good plan
		name = me_albion_travel.1.a
		trigger_event = {id = me_albion_travel.2}
	}

	option = { #our people should be first
		name = me_albion_travel.1.b
		set_variable = albion_mission_refused_travel
		add_8_free_province_investments = yes
		add_country_modifier = {
			name = albion_mod_19
			duration = 7300 #20 years
		}
	}
}

me_albion_travel.2 = { #explanation rules
	type = country_event

	title = me_albion_travel_2_title
	desc = me_albion_travel_2_desc
	picture = grand_ship

	option = { #set sail captain
		name = me_albion_travel.2.a
		trigger_event = {
			id = me_albion_travel.3
			days = { 30 50 }
		}
		
		set_variable = {
			name = total_money #money left in the travel, always show at each event
			value = 1000
		}
		
		set_variable = {
			name = political_gain #political influence gained in the travel
			value = 0
		}

		set_variable = {
			name = invention_gain #number of invention gained in the travel
			value = 0
		}

		set_variable = {
			name = military_gain #number of military experience gain during the travel
			value = 0
		}

		set_variable = {
			name = slave_gain #number of slaves gain during the travel
			value = 0
		}

		set_variable = {
			name = popularity_gain #number of popularity of ruler gain
			value = 10 #base amount after the travel, can be increased
		}
	}

	option = { #after reflexion, no
		name = me_albion_travel.2.b
		set_variable = albion_mission_refused_travel
		add_8_free_province_investments = yes
		add_country_modifier = {
			name = albion_mod_19
			duration = 7300 #20 years
		}
	}
}

me_albion_travel.3 = { #travel tax 
	type = country_event

	title = me_albion_travel_3_title
	desc = me_albion_travel_3_desc
	picture = war_chest

	option = { #pay it (-100)
		name = me_albion_travel.3.a
		change_variable = {
			name = total_money
			substract = 100
		}
		trigger_event = {
			id = me_albion_travel.4
			days = { 10 20 }
		}
	}

	option = { #they will have to fight
		name = me_albion_travel.3.b
		hidden_effect = {
			random_list = {
				50 = {
					trigger_event = {
						id = me_albion_travel.32 #great battle
						days = { 1 4 }
					}
				}
				30 = {
					trigger_event = {
						id = me_albion_travel.33 #just some words
						days = { 1 4 }
					}
				}
				20 = {
					trigger_event = {
						id = me_albion_travel.34 #nothing grave
						days = { 1 4 }
					}
				}
			}
		}
	}
}

me_albion_travel.32 = { #great battle
	type = country_event

	title = me_albion_travel_32_title
	desc = me_albion_travel_32_desc
	picture = naval_battle
	option = { #they were no match for us
		name = me_albion_travel.32.a
		
		show_as_tooltip = {
			add_military_experience = 30
			current_ruler = {
				add_popularity = 10
			}
		}
		change_variable = {
			name = military_gain
			add = 30
		}
		change_variable = {
			name = ruler_popularity_gain
			add = 10
		}
		trigger_event = {
			id = me_albion_travel.4
			days = { 10 20 }
		}
	}
}

me_albion_travel.33 = { #just some words
	type = country_event

	title = me_albion_travel_32_title
	desc = me_albion_travel_32_desc
	picture = celtic_diplomacy
	option = { #intimidation doesn't work
		name = me_albion_travel.33.a
		trigger_event = {
			id = me_albion_travel.4
			days = { 10 20 }
		}
	}
}

me_albion_travel.34 = { #nothing grave
	type = country_event

	title = me_albion_travel_32_title
	desc = me_albion_travel_32_desc
	picture = ship_in_storm
	option = { #battle result with losses (-200)
		name = me_albion_travel.34.a
		
		show_as_tooltip = {
			add_military_experience = 30
			current_ruler = {
				add_popularity = -5
			}
		}
		change_variable = {
			name = military_gain
			add = 30
		}
		change_variable = {
			name = ruler_popularity_gain
			substract = 5
		}

		change_variable = {
			name = total_money
			substract = 200
		}
		trigger_event = {
			id = me_albion_travel.4
			days = { 10 20 }
		}
	}
}

me_albion_travel.4 = { #travel hub
	type = country_event

	title = me_albion_travel_4_title
	desc = me_albion_travel_4_desc
	picture = grand_ship
	option = { #Travel to Rome (-50)
		name = me_albion_travel.4.a
		trigger = {
			not = { has_variable = visited_rome }
			var:total_money >= 50
			p:1 = { #rome
				has_city_status = yes
				has_owner = yes
			}
		}
		hidden_effect = {
			change_variable = {
				name = total_money
				substract = 50
			}
			set_variable = visited_rome
			trigger_event = {
				id = me_albion_travel.5 #rome hub
				days = { 15 25 }
			}
		}
	}
	option = { #Travel to Carthage (-50)
		name = me_albion_travel.4.b
		trigger = {
			not = { has_variable = visited_carthage }
			var:total_money >= 50
			p:3256 = { #carthage capital
				has_city_status = yes
				has_owner = yes
			}
		}
		hidden_effect = {
			change_variable = {
				name = total_money
				substract = 50
			}
			set_variable = visited_carthage 
			trigger_event = {
				id = me_albion_travel.6 #Carthage hub
				days = { 15 25 }
			}
		}
	}
	option = { #Travel to greece (-50)
		name = me_albion_travel.4.c
		trigger = {
			not = { has_variable = visited_greece }
			var:total_money >= 50
		}
		hidden_effect = {
			change_variable = {
				name = total_money
				substract = 50
			}
			set_variable = visited_greece 
			trigger_event = {
				id = me_albion_travel.7 #Greece hub
				days = { 15 25 }
			}
		}
	}

	option = { #Travel to Alexandria (-50)
		name = me_albion_travel.4.d
		trigger = {
			not = { has_variable = visited_alexandria }
			var:total_money >= 50
			p:516 = { #Alexandria
				has_city_status = yes
				has_owner = yes
			}
		}
		hidden_effect = {
			change_variable = {
				name = total_money
				substract = 50
			}
			set_variable =  visited_alexandria 
			trigger_event = {
				id = me_albion_travel.8 #Alexandria hub
				days = { 15 25 }
			}
		}
	}

	option = { #Travel to Tyre (-50)
		name = me_albion_travel.4.e
		trigger = {
			not = { has_variable = visited_tyre }
			var:total_money >= 50
			p:743 = { #Tyre
				has_city_status = yes
				has_owner = yes
			}
		}
		hidden_effect = {
			change_variable = {
				name = total_money
				substract = 50
			}
			set_variable =  visited_tyre
			trigger_event = {
				id = me_albion_travel.9 #Tyre hub
				days = { 15 25 }
			}
		}
	}

	option = { #back home 
		name = me_albion_travel.4.f
		hidden_effect = {
			trigger_event = {
				id = me_albion_travel.final
				days = { 40 60 }
			}
		}
	}
}