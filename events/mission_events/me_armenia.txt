namespace = me_armenia

me_armenia.1 = {
    type = country_event
    title = me_armenia.1.title
    desc = me_armenia.1.desc
    picture = war_council
    left_portrait = current_ruler

    immediate = {
        #custom_tooltip = culture_points_info_tt
        custom_tooltip = culture_points_persian_tt
        custom_tooltip = culture_points_hellenic_tt
        custom_tooltip = culture_points_armenian_tt
    }

    option = {
        name = "me_armenia.1.a"
        add_political_influence = 50
        persian_culture_point_effect = yes
    }

    option = {
        name = "me_armenia.1.b"
        add_political_influence = 50
        hellenic_culture_point_effect = yes
    }

    option = {
        name = "me_armenia.1.c"
        add_political_influence = 50
        armenian_culture_point_effect = yes
    }
}

me_armenia.2 = {
    type = country_event
    title = me_armenia.2.title
    desc = me_armenia.2.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.2.a"
        persian_culture_point_effect = yes
        add_political_influence = 25
        create_country_treasure = {
            key = persian_statue_gift
            icon = "treasure_statue"
            modifier = {
                local_nobles_desired_pop_ratio = 0.05
            }
        }
    }
}

me_armenia.3 = {
    type = country_event
    title = me_armenia.3.title
    desc = me_armenia.3.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.3.a"
        persian_culture_point_effect = yes
        add_country_modifier = {
            name = persian_influences_in_government
            duration = -1
        }
    }
}

me_armenia.4 = {
    type = country_event
    title = me_armenia.4.title
    desc = me_armenia.4.desc
    picture = war_council
    left_portrait = current_ruler

    immediate = {
        hidden_effect = {
            set_variable = {
                name = arm_pop_count_var
                value = 0
            }
            every_country = {
                limit = {
                    NOT = { this = root}
                    in_diplomatic_range = ROOT
                    country_culture_group = persia
                    opinion = {
                        target = root
                        value >= 125
                    }
                }
                add_to_list = arm_pop_donors
                root = {
                    change_variable = {
                        name = arm_pop_count_var
                        add = PREV.country_population
                    }
                }
            }
        }
    }

    option = {
        name = "me_armenia.4.a"
        persian_culture_point_effect = yes
        add_treasury = -150
        while = {
            limit = {
                var:arm_pop_count_var > 0
            }
            random_in_list = {
                list = arm_pop_donors
                save_scope_as = armenian_pop_donor
            }
            random_owned_province = {
                define_pop = {
                    type = freemen
                    religion = roman_pantheon 
                    culture = scope:armenian_pop_donor.culture
                }
                define_pop = {
                    type = freemen
                    religion = roman_pantheon 
                    culture = scope:armenian_pop_donor.culture
                }
                define_pop = {
                    type = freemen
                    religion = roman_pantheon 
                    culture = scope:armenian_pop_donor.culture
                }
            }
            scope:armenian_pop_donor = {
                clear_saved_scope = armenian_pop_donor
            }
            change_variable = {
                name = arm_pop_count_var
                add = -294 # you get at least 3 pops; this means that at max its the equivalent of 2% of friendly countries you'll get as pops
            }
        }
    }

    after = {
        remove_variable = arm_pop_count_var
    }
}

me_armenia.5 = {
    type = country_event
    title = me_armenia.5.title
    desc = me_armenia.5.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.5.a"
        persian_culture_point_effect = yes
        add_military_experience = 20
        custom_tooltip = access_persian_traditions_tt
        set_variable = persian_cap_persia_mil_trads_var
    }
}

me_armenia.6 = {
    type = country_event
    title = me_armenia.6.title
    desc = me_armenia.6.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.6.a"
        trigger = {
            any_pantheon_deity = {
                count >= 2
                deity_religion = zoroaster
            }
        }
        persian_culture_point_effect = yes
        add_innovation = 3
        soft_change_religion_effect = {
            RELIGION = zoroaster
        }
    }

    option = {
        name = "me_armenia.6.b"
        trigger = {
            any_pantheon_deity = {
                count >= 2
                deity_religion = mithra_religion
            }
        }
        persian_culture_point_effect = yes
        add_innovation = 3
        soft_change_religion_effect = {
            RELIGION = mithra_religion
        }
    }
}

me_armenia.7 = {
    type = country_event
    title = me_armenia.7.title
    desc = me_armenia.7.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.7.a"
        hellenic_culture_point_effect = yes
        add_treasury = 100
        create_country_treasure = {
            key = hellenic_statue_gift
            icon = "treasure_statue"
            modifier = {
                local_manpower_modifier = 0.15
            }
        }
    }
}

me_armenia.8 = {
    type = country_event
    title = me_armenia.8.title
    desc = me_armenia.8.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.8.a"
        hellenic_culture_point_effect = yes
        add_country_modifier = {
            name = greek_philosopohy_arm
            duration = -1
        }
    }
}

me_armenia.9 = {
    type = country_event
    title = me_armenia.9.title
    desc = me_armenia.9.desc
    picture = war_council
    left_portrait = current_ruler

    immediate = {
        hidden_effect = {
            set_variable = {
                name = arm_pop_count_var
                value = 0
            }
            every_country = {
                limit = {
                    NOT = { this = root}
                    in_diplomatic_range = ROOT
                    country_culture_group = hellenic
                    opinion = {
                        target = root
                        value >= 125
                    }
                }
                add_to_list = arm_pop_donors
                root = {
                    change_variable = {
                        name = arm_pop_count_var
                        add = PREV.country_population
                    }
                }
            }
        }
    }

    option = {
        name = "me_armenia.9.a"
        hellenic_culture_point_effect = yes
        add_treasury = -150
        while = {
            limit = {
                var:arm_pop_count_var > 0
            }
            random_in_list = {
                list = arm_pop_donors
                save_scope_as = armenian_pop_donor
            }
            random_owned_province = {
                define_pop = {
                    type = freemen
                    religion = roman_pantheon 
                    culture = scope:armenian_pop_donor.culture
                }
                define_pop = {
                    type = freemen
                    religion = roman_pantheon 
                    culture = scope:armenian_pop_donor.culture
                }
                define_pop = {
                    type = freemen
                    religion = roman_pantheon 
                    culture = scope:armenian_pop_donor.culture
                }
            }
            scope:armenian_pop_donor = {
                clear_saved_scope = armenian_pop_donor
            }
            change_variable = {
                name = arm_pop_count_var
                add = -294 # you get at least 3 pops; this means that at max its the equivalent of 2% of friendly countries you'll get as pops
            }
        }
    }

    after = {
        remove_variable = arm_pop_count_var
    }
}


me_armenia.10 = {
    type = country_event
    title = me_armenia.10.title
    desc = me_armenia.10.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.10.a"
        hellenic_culture_point_effect = yes
        add_military_experience = 20
        custom_tooltip = sam_greek_kingdom_unlocked
        set_variable = unlock_greek_kingdom_var
    }
}

me_armenia.11 = {
    type = country_event
    title = me_armenia.11.title
    desc = me_armenia.11.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.11.a"
        hellenic_culture_point_effect = yes
        add_innovation = 3
        soft_change_religion_effect = {
            RELIGION = roman_pantheon
        }
    }
}

me_armenia.12 = {
    type = country_event
    title = me_armenia.12.title
    desc = me_armenia.12.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.12.a"
        armenian_culture_point_effect = yes
        add_country_modifier = {
            name = armenian_census_mod
            duration = 9125 # 25 years
        }
    }
}

me_armenia.13 = {
    type = country_event
    title = me_armenia.13.title
    desc = me_armenia.13.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.13.a"
        armenian_culture_point_effect = yes
        add_political_influence = 150
        add_stability = 5
    }
}

me_armenia.14 = {
    type = country_event
    title = me_armenia.14.title
    desc = me_armenia.14.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.14.a"
        armenian_culture_point_effect = yes
        add_country_modifier = {
            name = enforced_unity 
            duration = 9125 # 25 years
        }
    }
}

me_armenia.15 = {
    type = country_event
    title = me_armenia.15.title
    desc = me_armenia.15.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.15.a"
        armenian_culture_point_effect = yes
        add_country_modifier = {
            name = nativist_policies
            duration = -1
        }
    }
}

me_armenia.16 = {
    type = country_event
    title = me_armenia.16.title
    desc = me_armenia.16.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.16.a"
        armenian_culture_point_effect = yes
        add_innovation = 2
        add_country_modifier = {
            name = armenian_intellectualism_rising # this could be made permanent, but other paths would need a buff to compensate
            duration = 9125 # 25 years             # In case of permanence, rename loc to suggest less ephemerity + rebalance numbers
        }
    }
}

me_armenia.17 = {
    type = country_event
    title = me_armenia.17.title
    desc = me_armenia.17.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.17.a"
        add_military_experience = -5
        add_treasury = -50
        add_country_modifier = {
            name = armenia_army_start_buff
            duration = 9125 # 25 years
        }
        capital_scope = {
            add_building_level = fortress_building
        }
        mission_claim_region_effect = { REGION = armenia_region }
        mission_claim_region_effect = { REGION = colchis_region }
        mission_claim_region_effect = { REGION = albania_region }
        mission_claim_region_effect = { REGION = media_region }
        mission_claim_region_effect = { REGION = cappdocia_pontica_region }
        mission_claim_region_effect = { REGION = cappadocia_region }
        mission_claim_region_effect = { REGION = syria_region }
        mission_claim_region_effect = { REGION = assyria_region }
        mission_claim_area_effect = { AREA = cilicia_pedias_area }
        mission_claim_area_effect = { AREA = cilicia_trachea_area }
    }
}

me_armenia.18 = {
    type = country_event
    title = me_armenia.18.title
    desc = me_armenia.18.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.18.a"
        add_stability = -5
        custom_tooltip = armenian_settlers_tt
        hidden_effect = {
            every_owned_province = {
                limit = {
                    dominant_province_culture = armenian
                    OR = {
                        is_in_region = armenia_region
                        is_in_region = colchis_region
                        is_in_region = albania_region
                    }
                }
                create_state_pop = freemen
            }
        }
    }
}

me_armenia.19 = {
    type = country_event
    title = me_armenia.19.title
    desc = me_armenia.19.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.19.a"
        add_treasury = 500
        add_military_experience = 25
    }
}

me_armenia.20 = {
    type = country_event
    title = me_armenia.20.title
    desc = me_armenia.20.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.20.a"
        add_innovation = 1
        add_research = {
            technology = military_tech
            value = 20
        }
        add_research = {
            technology = civic_tech
            value = 20
        }
        add_research = {
            technology = oratory_tech
            value = 20
        }
        add_research = {
            technology = religious_tech
            value = 20
        }
    }
}

me_armenia.21 = {
    type = country_event
    title = me_armenia.21.title
    desc = me_armenia.21.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.21.a"
        hellenic_culture_point_effect = yes
        if = {
            limit = {
                var:hellenic_culture_points >= 4
            }
            add_military_experience = -25
        }
        else = {
            add_military_experience = -50
        }
        add_country_modifier = {
            name = integrating_macedonian_tactics
            duration = -1
        }
    }
}

me_armenia.22 = {
    type = country_event
    title = me_armenia.22.title
    desc = me_armenia.22.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.22.a"
        persian_culture_point_effect = yes
        if = {
            limit = {
                var:persian_culture_points >= 4
            }
            add_military_experience = -25
        }
        else = {
            add_military_experience = -50
        }
        add_country_modifier = {
            name = integrating_persian_tactics
            duration = -1
        }
    }
}

me_armenia.23 = {
    type = country_event
    title = me_armenia.23.title
    desc = me_armenia.23.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.23.a"
        armenian_culture_point_effect = yes
        p:988 = {
            set_city_status = city
            add_permanent_province_modifier = {
                name = van_fortress
                duration = -1
            }
        }
    }
}

me_armenia.24 = {
    type = country_event
    title = me_armenia.24.title
    desc = me_armenia.24.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.24.a"
        add_2_free_province_investments = yes
        capital_scope = {
            add_permanent_province_modifier = {
                name = hall_of_the_mountain_king
                duration = -1
            }
            state = {
                add_state_modifier = {
                    name = hall_of_the_mountain_king_state
                    duration = -1
                }
            }
        }
    }
}

me_armenia.25 = {
    type = country_event
    title = me_armenia.25.title
    desc = me_armenia.25.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.25.a"
        add_war_exhaustion = -5
        custom_tooltip = "create_high_zeal_character"
        hidden_effect = {
            create_character = {
                female = no
                add_zeal = 8
                add_trait = obsessive
                add_trait = lustful
            }
        }
        add_country_modifier = {
            name = southern_border_a
            duration = 1825 # 5 years
        }
    }

    option = {
        name = "me_armenia.25.b"
        add_aggressive_expansion = -5
        custom_tooltip = "create_high_charisma_character"
        hidden_effect = {
            create_character = {
                female = no
                add_charisma = 8
                add_trait = silver_tongued
                add_trait = polymath
            }
        }
        add_country_modifier = {
            name = southern_border_b
            duration = 1825 # 5 years
        }
    }

    option = {
        name = "me_armenia.25.c"
        add_stability = 5
        custom_tooltip = "create_high_finesse_character"
        hidden_effect = {
            create_character = {
                female = no
                add_finesse = 8
                add_trait = obsessive
            }
        }
        add_country_modifier = {
            name = southern_border_c
            duration = 1825 # 5 years
        }
    }
}

me_armenia.26 = {
    type = country_event
    title = me_armenia.26.title
    desc = me_armenia.26.desc
    picture = war_council
    left_portrait = current_ruler
    right_portrait = scope:zorgoball_char

    immediate = {
        hidden_effect = {
            create_character = {
                female = no
                first_name = "Tsorgo"
                family_name = "Ballid"
                no_traits = yes
                no_stats = yes
                culture = armenian 
                religion = anahitic_religion
                age = 42
                add_martial = 5
                add_finesse = 8
                add_zeal = 3
                add_charisma = 8
                add_trait = invictus
                add_trait = good_natured
                add_trait = humble
                add_trait = trustworthy
                add_gold = 420
                add_popularity = 100
                save_scope_as = zorgoball_char
            }
        }
    }

    option = {
        name = "me_armenia.26.a"
        add_military_experience = -10
        add_political_influence = -50
        add_country_modifier = {
            name = greatest_armenia
            duration = -1
        }
    }
}

me_armenia.27 = {
    type = country_event
    title = me_armenia.27.title
    desc = me_armenia.27.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.27.a"
        add_political_influence = 100
        add_treasury = 250
        add_aggressive_expansion = -10
    }
}

me_armenia.28 = {
    type = country_event
    title = me_armenia.28.title
    desc = me_armenia.28.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.28.a"
        add_political_influence = -50
        custom_tooltip = unlock_bactrian_mil_trads_tt
        set_variable = unlock_bactrian_mil_trads_var
        mission_claim_region_effect = { REGION = bactriana_region }
    }
}

me_armenia.29 = {
    type = country_event
    title = me_armenia.29.title
    desc = me_armenia.29.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.29.a"
        persian_culture_point_effect = yes
        add_country_modifier = {
            name = orontid_duty
            duration = -1
        }
    }
}

me_armenia.30 = {
    type = country_event
    title = me_armenia.30.title
    desc = me_armenia.30.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.30.a"
        add_political_influence = -50
        persian_culture_point_effect = yes
        current_ruler = {
            add_bloodline_effect = { BLOODLINE = achaemenid }
        }
    }
}

me_armenia.31 = {
    type = country_event
    title = me_armenia.31.title
    desc = me_armenia.31.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.31.a"
        armenian_culture_point_effect = yes
        add_country_modifier = {
            name = nakharar_system
            duration = -1
        }
    }
}

me_armenia.32 = {
    type = country_event
    title = me_armenia.32.title
    desc = me_armenia.32.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.32.a"
        armenian_culture_point_effect = yes
        add_political_influence = 50
        add_stability = 10
        add_military_experience = 25
    }
}

me_armenia.33 = {
    type = country_event
    title = me_armenia.33.title
    desc = me_armenia.33.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.33.a"
        armenian_culture_point_effect = yes
        p:5212 = {
            every_neighbor_province = {
                add_permanent_province_modifier = {
                    name = home_of_the_gods
                }
                if = {
                    limit = {
                        any_pops_in_province = {
                            NOT = {
                                pop_religion = anahitic_religion
                            }
                        }
                    }
                    random_pops_in_province = {
                        limit = {
                            NOT = {
                                pop_religion = anahitic_religion
                            }
                        }
                        set_pop_religion = anahitic_religion
                    }
                }
            }
        }
    }
}

me_armenia.34 = {
    type = country_event
    title = me_armenia.34.title
    desc = me_armenia.34.desc
    picture = war_council
    left_portrait = current_ruler

    option = { # keep it
        name = "me_armenia.34.a"
        persian_culture_point_effect = yes
        add_political_influence = -25
        p:988 = {
            add_permanent_province_modifier = {
                name = xerxes_inscription
                duration = -1
            }
            if = {
                limit = {
                    any_pops_in_province = {
                        count >= 2
                        NOR = {
                            pop_religion = mithra_religion
                            pop_religion = zoroaster
                        }
                    }
                }
                random_pops_in_province = {
                    limit = {
                        NOR = {
                            pop_religion = mithra_religion
                            pop_religion = zoroaster
                        }
                    }
                    set_pop_religion = zoroaster
                }
                random_pops_in_province = {
                    limit = {
                        NOR = {
                            pop_religion = mithra_religion
                            pop_religion = zoroaster
                        }
                    }
                    set_pop_religion = zoroaster
                }
            }
        }
    }

    option = { # destroy it
        name = "me_armenia.34.b"
        armenian_culture_point_effect = yes
        add_political_influence = -25
        p:988 = {
            if = {
                limit = {
                    any_pops_in_province = {
                        NOT = {
                            pop_religion = anahitic_religion
                        }
                    }
                }
                every_pops_in_province = {
                    limit = {
                        NOT = {
                            pop_religion = anahitic_religion
                        }
                    }
                    set_pop_religion = anahitic_religion
                }
            }
        }
    }
}

me_armenia.35 = {
    type = country_event
    title = me_armenia.35.title
    desc = me_armenia.35.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.35.a"
    }
}

me_armenia.36 = {
    type = country_event
    title = me_armenia.36.title
    desc = me_armenia.36.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.36.a"
    }
}

me_armenia.37 = {
    type = country_event
    title = me_armenia.37.title
    desc = me_armenia.37.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.37.a"
    }
}

me_armenia.38 = {
    type = country_event
    title = me_armenia.38.title
    desc = me_armenia.38.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.38.a"
    }
}

me_armenia.39 = {
    type = country_event
    title = me_armenia.39.title
    desc = me_armenia.39.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.39.a"
    }
}

me_armenia.40 = {
    type = country_event
    title = me_armenia.40.title
    desc = me_armenia.40.desc
    picture = war_council
    left_portrait = current_ruler

    option = {
        name = "me_armenia.40.a"
    }
}



me_armenia.1000 = { # final event
    type = country_event
    title = me_armenia.1000.title
    desc = {
        first_valid = {
            triggered_desc = { # Persian
                trigger = {
                    hellenic_persia_comparison > 0 # Persian Influence greater than Hellenic
                    armenia_comparison_value < 0 # Armenian Influence smaller than foreign (P or H)
                }
                desc = me_armenia.1000.desc_a
            }
            triggered_desc = { # Hellenic
                trigger = {
                    hellenic_persia_comparison < 0 # Hellenic Influence greater than Persian
                    armenia_comparison_value < 0 # Armenian Influence smaller than foreign (P or H)
                }
                desc = me_armenia.1000.desc_b
            }
            triggered_desc = { # Armenian
                trigger = { armenia_comparison_value > 0 } # Armenian Influence greater than foreign influence
                desc = me_armenia.1000.desc_c
            }
            triggered_desc = { #Multiculturalism
                trigger = { always = yes }
                desc = me_armenia.1000.desc_d
            }
        }
    }
    picture = war_council
    left_portrait = current_ruler

    option = { # Persian
        trigger = {
            hellenic_persia_comparison > 0 # Persian Influence greater than Hellenic
            armenia_comparison_value < 0 # Armenian Influence smaller than foreign (P or H)
        }
        name = "me_armenia.1000.a"
        exclusive = yes

        add_3_free_province_investments = yes
        add_country_modifier = {
            name = persia_culture_path_end_bonus
            duration = -1
        }
    }

    option = { # Hellenic
        trigger = {
            hellenic_persia_comparison < 0 # Hellenic Influence greater than Persian
            armenia_comparison_value < 0 # Armenian Influence smaller than foreign (P or H)
        }
        name = "me_armenia.1000.b"
        exclusive = yes

        add_3_free_province_investments = yes
        add_country_modifier = {
            name = hellenic_culture_path_end_bonus
            duration = -1
        }
    }

    option = { # Armenian
        trigger = { armenia_comparison_value > 0 } # Armenian Influence greater than foreign influence
        name = "me_armenia.1000.c"
        exclusive = yes

        add_3_free_province_investments = yes
        add_country_modifier = {
            name = armenian_culture_path_end_bonus
            duration = -1
        }
    }

    option = { # Multiculturalism
        trigger = {
            NOR = {
                AND = {
                    hellenic_persia_comparison > 0 # Persian Influence greater than Hellenic
                    armenia_comparison_value < 0 # Armenian Influence smaller than foreign (P or H)
                }
                AND = {
                    hellenic_persia_comparison < 0 # Hellenic Influence greater than Persian
                    armenia_comparison_value < 0 # Armenian Influence smaller than foreign (P or H)
                }
                AND = { armenia_comparison_value > 0 } # Armenian Influence greater than foreign influence
            }
        }
        name = "me_armenia.1000.d"

        add_3_free_province_investments = yes
        add_country_modifier = {
            name = mixed_influence_end_bonus
            duration = -1
        }
    }
}