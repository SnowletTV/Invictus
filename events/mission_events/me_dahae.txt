namespace = me_dahae

me_dahae.1 = { 
	type = country_event
	
	title = "me_dahae.1.t"
	desc = "me_dahae.1.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:peaceful_politician_dahae
	right_portrait = scope:warlike_politician_dahae
	
	picture = council_country
	
	immediate = {
		if = {
			limit = {
				NOT = {
					exists = scope:peaceful_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
				}
				weight = {
					modifier = {
						factor = 2
						charisma > 8
					}
				}
				save_scope_as = peaceful_politician_dahae
			}
		}
		if = {
			limit = {
				NOT = {
					exists = scope:warlike_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
					NOT = {
						this = scope:peaceful_politician_dahae
					}
				}
				weight = {
					modifier = {
						factor = 2
						martial > 8
					}
				}
				save_scope_as = warlike_politician_dahae
			}
		}
	}
	
	option = {
		name = "me_dahae.1.a"
		add_peaceful_dahae_weight_effect = yes
		scope:warlike_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
	}
	
	option = {
		name = "me_dahae.1.b"
		add_warlike_dahae_weight_effect = yes
		scope:peaceful_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
	}

}

me_dahae.2 = { 
	type = country_event
	
	title = "me_dahae.2.t"
	desc = "me_dahae.2.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:peaceful_politician_dahae
	right_portrait = scope:warlike_politician_dahae
	
	picture = council_country
	
	immediate = {
		random_country = {
			limit = {
				NOT = {
					this = root
				}
				capital_scope = {
					is_in_list = dahae_territory_list
				}
				is_subject = no
			}
			weight = {
				modifier = {
					factor = 10
					num_of_cities < 20
				}
				modifier = {
					factor = 10
					opinion = {
						target = root
						value >= 25
					}
				}
			}
			save_scope_as = friendly_neighbor_target
		}
	}
	
	option = {
		name = "me_dahae.2.a"
		add_peaceful_dahae_weight_effect = yes
		scope:friendly_neighbor_target = {
			add_opinion = {
				modifier = generic_missions_rep_event_2_good
				target = root
			}
		}
	}
	
	option = {
		name = "me_dahae.2.b"
		add_warlike_dahae_weight_effect = yes
		scope:friendly_neighbor_target = {
			add_opinion = {
				modifier = generic_missions_rep_event_2_bad
				target = root
			}
		}
	}


}

me_dahae.3 = {
	type = country_event
	title = "dahae_missions.3.t" 
	desc = "dahae_missions.3.desc"
	
	picture = council_country 
	
	option = {
		name = "dahae_missions.3.a"
		trigger = {
			has_variable = dahae_stance_weight
			var:dahae_stance_weight < 0
		}
		switch = {
			trigger = var:dahae_stance_weight
			-1 = {
				add_country_modifier = {
					name = dahae_warlike_1
					duration = 36500
				}
			}
			-2 = {
				add_country_modifier = {
					name = dahae_warlike_2
					duration = 3650
				}
			}
			-3 = {
				add_country_modifier = {
					name = dahae_warlike_3
					duration = 3650
				}
			}
		}
		add_aggressive_expansion = 15
		custom_tooltip = me_dahae.3.tt
		hidden_effect = {
			every_province = {
				limit = { 
					is_in_list = dahae_territory_list
				}
				add_claim = ROOT
			}	
		}
		custom_tooltip = "mission_continues"
	}
	
	option = {
		name = "generic_mission.3.b"
		trigger = { 
			OR = {
				NOT = {
					has_variable = dahae_stance_weight 
				}
				AND = {
					has_variable = dahae_stance_weight
					var:dahae_stance_weight >= 0
				}
			}
		}
		if = {
			limit = {
				has_variable = dahae_stance_weight
			}
			switch = {
				trigger = var:dahae_stance_weight
				0 = {
					add_country_modifier = {
						name = dahae_peaceful_1
						duration = 3650
					}
				}
				1 = {
					add_country_modifier = {
						name = dahae_peaceful_1
						duration = 3650
					}
				}
				2 = {
					add_country_modifier = {
						name = dahae_peaceful_2
						duration = 3650
					}
				}
				3 = {
					add_country_modifier = {
						name = dahae_peaceful_3
						duration = 3650
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = dahae_peaceful_1
				duration = 3650
			}
		}
		custom_tooltip = "mission_continues"
	}
}

me_dahae.4 = {
	type = country_event
	title = "me_dahae.4.t"
	desc = "me_dahae.4.desc"
	picture = celtic_britannic_path_5_event

	left_portrait = current_ruler

	option = { # offense
		name = dahae_missions.4.a
		add_country_modifier = {
			name = dahae_horse_off
			duration = 3650
		}
	}

	option = { # defense
		name = dahae_missions.4.b
		add_country_modifier = {
			name = dahae_horse_def
			duration = 3650
		}
	}
}

me_dahae.5 = { 
	type = country_event
	hidden = yes
	
	hidden_effect = {
		random = {
			chance = 50
			add_peaceful_dahae_weight_effect = yes
		}
		random = {
			chance = 50
			add_warlike_dahae_weight_effect = yes
		}
	}
	
}