namespace = me_dahae

me_dahae.1 = { 
	type = country_event
	
	title = "me_dahae.1.t"
	desc = "me_dahae.1.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:peaceful_politician_dahae
	right_portrait = scope:warlike_politician_dahae
	
	picture = council_country
	
	immediate = {
		if = {
			limit = {
				NOT = {
					exists = scope:peaceful_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
				}
				weight = {
					modifier = {
						factor = 2
						charisma > 8
					}
				}
				save_scope_as = peaceful_politician_dahae
			}
		}
		if = {
			limit = {
				NOT = {
					exists = scope:warlike_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
					NOT = {
						this = scope:peaceful_politician_dahae
					}
				}
				weight = {
					modifier = {
						factor = 2
						martial > 8
					}
				}
				save_scope_as = warlike_politician_dahae
			}
		}
	}
	
	option = {
		name = "me_dahae.1.a"
		add_peaceful_dahae_weight_effect = yes
		scope:warlike_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
	}
	
	option = {
		name = "me_dahae.1.b"
		add_warlike_dahae_weight_effect = yes
		scope:peaceful_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
	}

}

me_dahae.2 = { 
	type = country_event
	
	title = "me_dahae.2.t"
	desc = "me_dahae.2.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:peaceful_politician_dahae
	right_portrait = scope:warlike_politician_dahae
	
	picture = council_country
	
	immediate = {
		random_country = {
			limit = {
				NOT = {
					this = root
				}
				capital_scope = {
					is_in_list = dahae_territory_list
				}
				is_subject = no
			}
			weight = {
				modifier = {
					factor = 10
					num_of_cities < 20
				}
				modifier = {
					factor = 10
					opinion = {
						target = root
						value >= 25
					}
				}
			}
			save_scope_as = friendly_neighbor_target
		}
	}
	
	option = {
		name = "me_dahae.2.a"
		add_peaceful_dahae_weight_effect = yes
		scope:friendly_neighbor_target = {
			add_opinion = {
				modifier = generic_missions_rep_event_2_good
				target = root
			}
		}
	}
	
	option = {
		name = "me_dahae.2.b"
		add_warlike_dahae_weight_effect = yes
		scope:friendly_neighbor_target = {
			add_opinion = {
				modifier = generic_missions_rep_event_2_bad
				target = root
			}
		}
	}


}

me_dahae.3 = {
	type = country_event
	title = "dahae_missions.3.t" 
	desc = "dahae_missions.3.desc"
	
	picture = council_country 
	
	option = {
		name = "dahae_missions.3.a"
		trigger = {
			has_variable = dahae_stance_weight
			var:dahae_stance_weight < 0
		}
		switch = {
			trigger = var:dahae_stance_weight
			-1 = {
				add_country_modifier = {
					name = dahae_warlike_1
					duration = 36500
				}
			}
			-2 = {
				add_country_modifier = {
					name = dahae_warlike_2
					duration = 3650
				}
			}
			-3 = {
				add_country_modifier = {
					name = dahae_warlike_3
					duration = 3650
				}
			}
		}
		add_aggressive_expansion = 15
		custom_tooltip = me_dahae.3.tt
		hidden_effect = {
			every_province = {
				limit = { 
					is_in_list = dahae_territory_list
				}
				add_claim = ROOT
			}	
		}
		custom_tooltip = "mission_continues"
	}
	
	option = {
		name = "generic_mission.3.b"
		trigger = { 
			OR = {
				NOT = {
					has_variable = dahae_stance_weight 
				}
				AND = {
					has_variable = dahae_stance_weight
					var:dahae_stance_weight >= 0
				}
			}
		}
		if = {
			limit = {
				has_variable = dahae_stance_weight
			}
			switch = {
				trigger = var:dahae_stance_weight
				0 = {
					add_country_modifier = {
						name = dahae_peaceful_1
						duration = 3650
					}
				}
				1 = {
					add_country_modifier = {
						name = dahae_peaceful_1
						duration = 3650
					}
				}
				2 = {
					add_country_modifier = {
						name = dahae_peaceful_2
						duration = 3650
					}
				}
				3 = {
					add_country_modifier = {
						name = dahae_peaceful_3
						duration = 3650
					}
				}
			}
		}
		else = {
			add_country_modifier = {
				name = dahae_peaceful_1
				duration = 3650
			}
		}
		custom_tooltip = "mission_continues"
	}
}

me_dahae.4 = {
	type = country_event
	title = "me_dahae.4.t"
	desc = "me_dahae.4.desc"
	picture = celtic_britannic_path_5_event

	left_portrait = current_ruler

	option = { # offense
		name = dahae_missions.4.a
		add_country_modifier = {
			name = dahae_horse_off
			duration = 3650
		}
	}

	option = { # defense
		name = dahae_missions.4.b
		add_country_modifier = {
			name = dahae_horse_def
			duration = 3650
		}
	}
}

me_dahae.5 = { 
	type = country_event
	hidden = yes
	
	hidden_effect = {
		random = {
			chance = 50
			add_peaceful_dahae_weight_effect = yes
		}
		random = {
			chance = 50
			add_warlike_dahae_weight_effect = yes
		}
	}
}
	
me_dahae.6 = { 
	type = country_event
	
	title = "me_dahae.6.t"
	desc = "me_dahae.6.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:friendly_neighbor_target.current_ruler
	right_portrait = scope:dahae_aggressor_target.current_ruler
	
	picture = council_country
	
	immediate = {
		random_country = {
			limit = {
				NOR = {
					this = root
					tag = PSS
				}
				capital_scope = {
					is_in_list = dahae_territory_list
				}
				is_subject = no
				any_neighbour_country = { 
					NOR = {
						primary_culture = derbiccan
						is_subject = yes
						tag = A04
						tag = SCA
					}
				}
			}
			weight = {
				modifier = {
					factor = 10
					num_of_cities < 20
				}
				modifier = {
					factor = 10
					opinion = {
						target = root
						value >= 25
					}
				}
			}
			save_scope_as = friendly_neighbor_target
		}
		random_country = {
			limit = {
				NOR = {
					is_subject = yes
					primary_culture = derbiccan
					tag = A04
					tag = SCA
				}
				any_neighbour_country = { THIS = scope:friendly_neighbor_target }
			}
			save_scope_as = dahae_aggressor_target
		}
		dahae_aggressor_target = {
			declare_war_with_wargoal = {
				war_goal = conquer_wargoal
				province = friendly_neighbor_target.capital_scope
				target = scope:friendly_neighbor_target
			}		
		}
	}
	
	option = { #defend them
		name = me_dahae.6.a
		custom_tooltip = me_dahae.6.a.t
		set_variable = dahae_defender_whitepeace
		scope:friendly_neighbor_target = {
			random_current_war = {
				limit = {
					any_war_defender = {
						THIS = scope:friendly_neighbor_target
					}
				}
				save_scope_as = dahae_war_scope
			}
		}
		add_to_war = {
			target = scope:dahae_war_scope
			attacker = yes
			leader = no
		}		
	}
	
	option = { #don't
		name = me_dahae.6.b
		custom_tooltip = me_dahae.6.b.t
		add_political_influence = -15
		trigger_if = {
			limit = {
				exists = scope:c1_scope
				scope:c1_scope = { has_land = yes }
			}
			scope:c1_scope = {
				add_opinion = {
					modifier = generic_missions_rep_event_2_bad
					target = root
				}				
			}
		}	
	}
}
	
me_dahae.7 = { 
	type = country_event
	
	title = "me_dahae.7.t"
	desc = "me_dahae.7.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:c1_scope.current_ruler
	right_portrait = scope:c2_scope.current_ruler
	right_portrait = scope:c3_scope.current_ruler
	right_portrait = scope:c4_scope.current_ruler
	
	picture = council_country
	
	immediate = {
		root.current_ruler = { save_scope_as = dahae_host }
		random_owned_province = {
			save_scope_as = activity_ter
		}
		set_variable = {
			name = reward_roll
			value = {
				integer_range = { min = 1 max = 3 }
			}
		}
	}
	
#	option = { #Hunt
#		name = me_dahae.7.a
#		custom_tooltip = "me_dahae.7.tt"
#		add_treasury = -25
#	}
	
	option = { #Falconry
		name = me_dahae.7.a
		custom_tooltip = "me_dahae.7.tt"
		add_treasury = -25
	}
}

me_dahae.8 = { 
	type = country_event
	
	title = "me_dahae.8.t"
	desc = "me_dahae.8.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:c1_scope.current_ruler
	right_portrait = scope:c2_scope.current_ruler
	right_portrait = scope:c3_scope.current_ruler
	right_portrait = scope:c4_scope.current_ruler
	
	picture = council_country
	
	option = { #Send invites
		name = me_dahae.8.a
		custom_tooltip = "me_dahae.8.att"
        every_in_list = {
            list = dahae_countries
            trigger_event = me_dahae.8000
        }
	}
	
	option = { #Send invites with gifts
		name = me_dahae.8.a
		custom_tooltip = "me_dahae.8.btt"
		add_treasury = -25
		trigger_if = {
			limit = {
				exists = scope:c1_scope
				scope:c1_scope = { has_land = yes }
			}
			scope:c1_scope = {
				add_opinion = {
					modifier = olympics_sanctioned
					target = root
				}
			}
		}
		trigger_if = {
			limit = {
				exists = scope:c2_scope
				scope:c2_scope = { has_land = yes }
			}
			scope:c2_scope = {
				add_opinion = {
					modifier = olympics_sanctioned
					target = root
				}
			}
		}
		trigger_if = {
			limit = {
				exists = scope:c3_scope
				scope:c3_scope = { has_land = yes }
			}
			scope:c3_scope = {
				add_opinion = {
					modifier = olympics_sanctioned
					target = root
				}
			}
		}
		trigger_if = {
			limit = {
				exists = scope:c4_scope
				scope:c1_scope = { has_land = yes }
			}
			scope:c4_scope = {
				add_opinion = {
					modifier = olympics_sanctioned
					target = root
				}
			}
		}
        every_in_list = {
            list = dahae_countries
            trigger_event = {
				id = me_dahae.8000
				days = 3
			}
        }
	}
}

me_dahae.8000 = {
	type = country_event
	
	title = "me_dahae.8000.t"
	desc = "me_dahae.8000.desc"
	
	left_portrait = current_ruler
	right_portrait = scope:dahae_host

	option = { #Accept
		name = me_dahae.8000.a
		custom_tooltip = "me_dahae.8000.att"
		add_to_list = dahae_attendee_list
		if = {
			limit = { 
				NOT = { 
					exists = scope:attendee_1 
				} 
			}
			root.current_ruler = { 
				save_scope_as = attendee_1
			}		
		}
		if = {
			limit = { 
				NOR = { 
					exists = scope:attendee_2
					THIS = scope:attendee_1
				} 
			}
			root.current_ruler = { 
				save_scope_as = attendee_2
			}		
		}
		if = {
			limit = { 
				NOR = { 
					exists = scope:attendee_3
					THIS = scope:attendee_2
					THIS = scope:attendee_1
				} 
			}
			root.current_ruler = { 
				save_scope_as = attendee_3
			}		
		}
		if = {
			limit = { 
				NOR = { 
					exists = scope:attendee_4
					THIS = scope:attendee_3
					THIS = scope:attendee_2
					THIS = scope:attendee_1
				} 
			}
			root.current_ruler = { 
				save_scope_as = attendee_4
			}		
		}
		ai_chance = { 
			modifier = {
				trigger = {
					current_ruler = { is_friend = scope:dahae_host }				
				}
				add = {
					value = 10
				}
			}
			modifier = {
				trigger = {
					opinion = { target = scope:dahae_host.employer value >= 50 }				
				}
				add = {
					value = 5
				}
			}
			modifier = {
				trigger = {
					opinion = { target = scope:dahae_host.employer value >= 100 }				
				}
				add = {
					value = 10
				}
			}
			modifier = {
				factor = 2
                trigger = {
                    has_opinion = {
                        modifier = dahae_organizing_activity
                        target = scope:dahae_host.employer
                    }
                }
            }
        }
	}
	
	option = { #Decline
		name = me_dahae.8000.a
		custom_tooltip = "me_dahae.8000.btt"
		ai_chance = { 
			factor = 10
			modifier = {
				trigger = {
					opinion = { target = scope:dahae_host.employer value >= 125 }				
				}
				add = {
					value = -10
				}
			}
			modifier = {
				factor = 2
                trigger = {
                    has_opinion = {
                        modifier = rivaled_ruler
                        target = scope:dahae_host.employer
                    }
                }
            }
		}
	}
}

me_dahae.9 = { 
	type = country_event
	
	title = "me_dahae.9.t"
	desc = "me_dahae.9.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
		name = me_dahae.9.a
		trigger_if = {
			limit = {
				exists = scope:attendee_1
			}
			custom_tooltip = me_dahae.9.a.1t
		}
		trigger_if = {
			limit = {
				exists = scope:attendee_2
			}
			custom_tooltip = me_dahae.9.a.2t
		}
		trigger_if = {
			limit = {
				exists = scope:attendee_3
			}
			custom_tooltip = me_dahae.9.a.3t
		}
		trigger_if = {
			limit = {
				exists = scope:attendee_4
			}
			custom_tooltip = me_dahae.9.a.4t
		}		
	}	
}

me_dahae.10 = { 
	type = country_event
	hidden = yes

	immediate = {
		random_list = {
            33 = {
				trigger_event = { id = me_dahae.1001 }
			}
            33 = {
				trigger_event = { id = me_dahae.1002 }
			}
			33 = {
			
			}
		}
	}
}

me_dahae.1001 = { 
	type = country_event
	
	title = "me_dahae.1001.t"
	desc = "me_dahae.1001.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

me_dahae.1002 = { 
	type = country_event
	
	title = "me_dahae.1002.t"
	desc = "me_dahae.1002.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

me_dahae.11 = { 
	type = country_event
	
	title = "me_dahae.11.t"
	desc = "me_dahae.11.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

me_dahae.12 = { 
	type = country_event
	
	title = "me_dahae.12.t"
	desc = "me_dahae.12.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

me_dahae.13 = { 
	type = country_event
	
	title = "me_dahae.13.t"
	desc = "me_dahae.13.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

me_dahae.14 = { 
	type = country_event
	
	title = "me_dahae.14.t"
	desc = "me_dahae.14.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

me_dahae.15 = { 
	type = country_event
	
	title = "me_dahae.15.t"
	desc = "me_dahae.15.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

me_dahae.16 = { 
	type = country_event
	
	title = "me_dahae.16.t"
	desc = "me_dahae.16.desc"
	
	left_portrait = current_ruler
	left_portrait = scope:attendee_1
	right_portrait = scope:attendee_2
	right_portrait = scope:attendee_3
	right_portrait = scope:attendee_4
	
	picture = council_country
	
	option = {
	}
}

Making Camp
	Increase success chance with finesse

Defying Gravity
	Rocks tumbled and blocked the way
	1) Move rocks yourself
	2) Get help from other ruler/someone
	3) Another route

Illegal prey
	Poachers found
	1) Hang them: Territory bonus
	2) Take their loot+fine them: some gold, slight tyranny
	3) Do nothing

Foragers
	1) Drive foragers out: some PI, slight territorry malus
	2) Pay them off; lose some gold, get more PI 



Hunt

Falconry
1) Egret
2) Pheasant
3) Falcon

Taking wing

You release your birds to locate prey
