namespace = me_india_01_gandara

me_india_01_gandara.1 = { # Task 1 - Rise of House Euthydemid
    type = country_event
    title = me_india_01_gandara.1.t
    desc = me_india_01_gandara.1.desc
    picture = throneroom

    left_portrait = current_ruler
    right_portrait = scope:menander_character

    immediate = {
	create_character = {
            first_name = "Menander"
            family_name = "Euthydemid"
	    age = 25
	    culture = root.culture
	    religion = root.religion
	    save_scope_as = menander_character
	}
	hidden_effect = {
	    scope:menander_character = {
	        add_martial = 6
                add_charisma = 5
	        add_finesse = 5
	        add_zeal = 7
	        add_trait = tactician
	        add_trait = disciplined
		    add_trait = righteous
	        add_prominence = 50
	    }
	    new_family_generation_effect = { FAMILY_CANDIDATE = menander_character }
        scope:menander_character.family = {
            add_prestige = 500
        }
	}
    }

    option = {
        name = me_india_01_gandara.1.a
        trigger_event = {
	     id = me_india_01_gandara.2
	     days = 180
	}
    }
}

me_india_01_gandara.2 = { # Task 1 - Rise of House Euthydemid
    type = country_event
    title = me_india_01_gandara.2.t
    desc = me_india_01_gandara.2.desc
    picture = diadochi_coronation

    left_portrait = current_ruler
    right_portrait = scope:menander_character

    trigger = {
        current_ruler = {
            NOT = { this = scope:menander_character }
        }
        scope:menander_character = {
            is_alive = yes
            is_ruler = no
            OR = {
		employer = C:IDC
		employer = C:BAC
		employer = C:SEL
		employer = C:PAR
		employer = C:ARS
	    }
        }
    }

    option = {
        name = me_india_01_gandara.2.a
    	custom_tooltip = me_india_01_gandara.2.a.tt
    	set_as_ruler = scope:menander_character
    	set_variable = menander_is_leader_variable
    	scope:menander_character = {
            add_popularity = popularity_huge
    	}
    }
    option = {
        name = me_india_01_gandara.2.b
	custom_tooltip = me_india_01_gandara.2.b.tt
    }
}

me_india_01_gandara.3 = { # Task 2 - An Indo-Greek Capital
    type = country_event
    title = me_india_01_gandara.3.t
    desc = me_india_01_gandara.3.desc
    picture = diadochi_coronation

    option = {
        name = me_india_01_gandara.3.a
        custom_tooltip = me_india_01_gandara.3.a.tt
        trigger = {
            owns = 4340
            p:4340 = { is_capital = no }
        }
        set_capital = p:4340
        hidden_effect = {
            p:4340.state = { set_state_capital = p:4340 }
	}
        if = {
            limit = {
                p:4340 = { NOT = { has_province_modifier = indo_greek_capital_modifier } }
            }
            p:4340 = {
                add_province_modifier = {
                    name = indo_greek_capital_modifier
                    duration = -1
                }
            }
	}
        if = {
            limit = {
                has_variable = menander_is_leader_variable
            }
            p:4340 = {
                change_province_name = "Euthymedeia"
                capital_formable_huge_effect = yes
		establish_city_effect = yes
            }
        }
        if = {
            limit = {
                NOT = { has_variable = menander_is_leader_variable }
            }
            p:4340 = {
                capital_formable_huge_effect = yes
		establish_city_effect = yes
                change_province_name = "Sangala"
            }
        }
        if = {
            limit = {
                NOT = {
                    has_variable = greco_indian_capitalcity_variable
                }
            }
            set_variable = greco_indian_capitalcity_variable
        }
    }
    option = {
        name = me_india_01_gandara.3.b
        custom_tooltip = me_india_01_gandara.3.b.tt
        trigger = {
            p:4340 = { is_capital = no }
        }
        if = {
            limit = {
                capital_scope = { NOT = { has_province_modifier = indo_greek_capital_modifier } }
            }
            capital_scope = {
                add_province_modifier = {
                    name = indo_greek_capital_modifier
                    duration = -1
                }
                capital_formable_large_effect = yes
		        establish_city_effect = yes
            }
            p:4340 = {
                change_province_name = "Sangala"
            }
        }
    }
}

me_india_01_gandara.4 = { # Task 3 - Conquer the Indus Valley
    type = country_event
    title = me_india_01_gandara.4.t
    desc = me_india_01_gandara.4.desc
    picture = greeks_marching

    option = {
        name = me_india_01_gandara.4.a
        add_treasury = -200
	add_political_influence = -50
    }
}

me_india_01_gandara.5 = { # Task 3 - Conquer the Indus Valley
    type = country_event
    title = me_india_01_gandara.5.t
    desc = me_india_01_gandara.5.desc
    picture = greeks_marching

    option = {
        name = me_india_01_gandara.5.a
        custom_tooltip = me_india_01_gandara.5.a.tt
        if = {
            limit = {
                NOT = { owns_area = sivi_area }
            }
            p:4350 = {
                custom_tooltip = seleukid_mission_02_syria_task_1_effect_tt
                hidden_effect = {
                    area = {
                        every_area_province = {
                            limit = {
                                NOT = { owner = root }
                            }
                            add_claim = root
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = { owns_area = north_sindhu_area }
            }
            p:4371 = {
                custom_tooltip = seleukid_mission_02_syria_task_1_effect_tt
                hidden_effect = {
                    area = {
                        every_area_province = {
                            limit = {
                                NOT = { owner = root }
                            }
                            add_claim = root
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = { owns_area = patalene_area }
            }
            p:6815 = {
                custom_tooltip = seleukid_mission_02_syria_task_1_effect_tt
                hidden_effect = {
                    area = {
                        every_area_province = {
                            limit = {
                                NOT = { owner = root }
                            }
                            add_claim = root
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = { owns_area = sauvira_area }
            }
            p:4359 = {
                custom_tooltip = seleukid_mission_02_syria_task_1_effect_tt
                hidden_effect = {
                    area = {
                        every_area_province = {
                            limit = {
                                NOT = { owner = root }
                            }
                            add_claim = root
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = { owns_area = south_sindhu_area }
            }
            p:4376 = {
                custom_tooltip = seleukid_mission_02_syria_task_1_effect_tt
                hidden_effect = {
                    area = {
                        every_area_province = {
                            limit = {
                                NOT = { owner = root }
                            }
                            add_claim = root
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = { owns_area = trigarta_area }
            }
            p:4414 = {
                custom_tooltip = seleukid_mission_02_syria_task_1_effect_tt
                hidden_effect = {
                    area = {
                        every_area_province = {
                            limit = {
                                NOT = { owner = root }
                            }
                            add_claim = root
                        }
                    }
                }
            }
        }
    }
}

me_india_01_gandara.6 = { # Task 4 - Pentapotamian Heartland
    type = country_event
    title = me_india_01_gandara.6.t
    desc = me_india_01_gandara.6.desc
    picture = greek_marketplace

    option = {
        name = me_india_01_gandara.6.a
        custom_tooltip = me_india_01_gandara.6.a.tt
        p:4340.state = {
            add_state_modifier = {
                name = grecoindian_governance_modifier
                duration = -1
            }
        }
        p:4380.state = {
            add_state_modifier = {
                name = grecoindian_governance_modifier
                duration = -1
            }
        }
        p:4414.state = {
            add_state_modifier = {
                name = grecoindian_governance_modifier
                duration = -1
            }
        }
    }
}

me_india_01_gandara.7 = { # Task 5 - Attracting Settlers to Capital
    type = country_event
    title = me_india_01_gandara.7.t
    desc = me_india_01_gandara.7.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.7.a
        custom_tooltip = me_india_01_gandara.7.a.tt
        p:4340 = {
            custom_tooltip = india_mission_01_gandara_task_5_effect_tt
            hidden_effect = {
                while = {
                    count = 10
                    define_pop = {
                        type = citizen
                        culture = root.culture
                        religion = root.religion
                    }
                }
            }
        }
        p:4340 = {
            custom_tooltip = india_mission_01_gandara_task_5_effect2_tt
            hidden_effect = {
                while = {
                    count = 5
                    define_pop = {
                        type = nobles
                        culture = root.culture
                        religion = root.religion
                    }
                }
            }
        }
    }
}

me_india_01_gandara.8 = { # Task 6 - The Royal Throne
    type = country_event
    title = me_india_01_gandara.8.t
    desc = me_india_01_gandara.8.desc
    picture = diadochi_coronation

    option = {
        name = me_india_01_gandara.8.a
        custom_tooltip = me_india_01_gandara.8.a.tt
        add_3_free_province_investments = yes
        p:4340 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = indo_greek_throne_modifier }
                }
                add_province_modifier = {
                    name = indo_greek_throne_modifier
                    duration = -1
                }
            }
    	}
	current_ruler = {
            if = {
                limit = {
                    is_minor_character = no
                }
                family = {
                    add_prestige = 200
                }
            }
	}
    }
}

me_india_01_gandara.9 = { # Task 7 - Approaching the Gandhari
    type = country_event
    title = me_india_01_gandara.9.t
    desc = me_india_01_gandara.9.desc
    picture = diadochi_coronation

    option = {
        name = me_india_01_gandara.9.a
        custom_tooltip = me_india_01_gandara.9.a.tt
	add_treasury = -100
	add_political_influence = -50
	current_ruler = { add_popularity = popularity_small }
	if = {
		limit = { legitimacy < 100 }
		add_legitimacy = legitimacy_medium
	}
	if = {
            limit = {
                any_country_culture = {
                    is_culture = gandhari
                }
            }
            random_country_culture = {
                limit = { is_culture = gandhari }
                add_country_culture_modifier = {
                    name = gandaran_integration_modifier
                    duration = 10950
                }
                save_scope_as = gandhari_culture
            }
        }
    }
}

me_india_01_gandara.10 = { # Task 8 - Alexandria on the Hyphasis
    type = country_event
    title = me_india_01_gandara.10.t
    desc = me_india_01_gandara.10.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.10.a
        custom_tooltip = me_india_01_gandara.10.a.tt
        hidden_effect = {
            p:7485.state = { set_state_capital = p:7485 }
	}
        p:7485 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
    }
}

me_india_01_gandara.11 = { # Task 9 - City of the Mallians
    type = country_event
    title = me_india_01_gandara.11.t
    desc = me_india_01_gandara.11.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.10.a
        custom_tooltip = me_india_01_gandara.10.a.tt
        hidden_effect = {
            p:4350.state = { set_state_capital = p:4350 }
	}
        p:4350 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
    }
}

me_india_01_gandara.12 = { # Task 10 - Province of Panduorum
    type = country_event
    title = me_india_01_gandara.12.t
    desc = me_india_01_gandara.12.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.12.a
        custom_tooltip = me_india_01_gandara.12.a.tt
        p:4346.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4414.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4350.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4380.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
    }
}

me_india_01_gandara.13 = { # Task 11 - Gandaran Passage
    type = country_event
    title = me_india_01_gandara.13.t
    desc = me_india_01_gandara.13.desc
    picture = greeks_marching

    option = {
        name = me_india_01_gandara.13.a
	custom_tooltip = me_india_01_gandara.13.a.tt
	add_3_free_province_investments = yes
    }
}

me_india_01_gandara.14 = { # Task 12 - University of Taxila
    type = country_event
    title = me_india_01_gandara.14.t
    desc = me_india_01_gandara.14.desc
    picture = greeks_marching

    option = {
        name = me_india_01_gandara.14.a
        custom_tooltip = me_india_01_gandara.14.a.tt
        hidden_effect = {
            p:7314.state = { set_state_capital = p:7314 }
	}
        p:7314 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = expanded_campus_modifier }
                }
                add_province_modifier = {
                    name = expanded_campus_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
    }
}

me_india_01_gandara.15 = { # Task 13 - The Indian Alexandrias
    type = country_event
    title = me_india_01_gandara.15.t
    desc = me_india_01_gandara.15.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.15.a
        custom_tooltip = me_india_01_gandara.15.a.tt
        p:4322 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
        p:4316 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
    }
}

me_india_01_gandara.16 = { # Task 14 - The Gandaran Capital
    type = country_event
    title = me_india_01_gandara.16.t
    desc = me_india_01_gandara.16.desc
    picture = greeks_marching

    option = {
        name = me_india_01_gandara.16.a
        custom_tooltip = me_india_01_gandara.16.a.tt
        hidden_effect = {
            p:4300.state = { set_state_capital = p:4300 }
	}
        p:4300 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
    }
}

me_india_01_gandara.17 = { # Task 15 - Mountain Fortresses
    type = country_event
    title = me_india_01_gandara.17.t
    desc = me_india_01_gandara.17.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.17.a
        custom_tooltip = me_india_01_gandara.17.a.tt
        p:4490.state = {
            add_state_modifier = {
                name = gandharan_passage_modifier
                duration = -1
            }
        }
    }
}

me_india_01_gandara.18 = { # Task 16 - Province of Gandara
    type = country_event
    title = me_india_01_gandara.18.t
    desc = me_india_01_gandara.18.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.18.a
        custom_tooltip = me_india_01_gandara.18.a.tt
        p:7314.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4300.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4336.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
    }
}

me_india_01_gandara.19 = { # Task 17 - Down the Indus
    type = country_event
    title = me_india_01_gandara.19.t
    desc = me_india_01_gandara.19.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.19.a
	add_4_free_province_investments = yes
    }
}

me_india_01_gandara.20 = { # Task 18 - Alexandria on the Indus
    type = country_event
    title = me_india_01_gandara.20.t
    desc = me_india_01_gandara.20.desc
    picture = greeks_marching

    option = {
        name = me_india_01_gandara.20.a
        custom_tooltip = me_india_01_gandara.20.a.tt
        hidden_effect = {
            p:4371.state = { set_state_capital = p:4371 }
	}
        p:4371 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
    }
}

me_india_01_gandara.21 = { # Task 19 - Indus Trade
    type = country_event
    title = me_india_01_gandara.21.t
    desc = me_india_01_gandara.21.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.21.a
        custom_tooltip = me_india_01_gandara.21.a.tt
        p:4352.state = {
            add_state_modifier = {
                name = indus_commerce_agri_modifier
                duration = 1825
            }
        }
        p:4354.state = {
            add_state_modifier = {
                name = indus_commerce_agri_modifier
                duration = 1825
            }
        }
        p:4371.state = {
            add_state_modifier = {
                name = indus_commerce_agri_modifier
                duration = 1825
            }
        }
    }
}

me_india_01_gandara.22 = { # Task 20 - Indo-Greek Port
    type = country_event
    title = me_india_01_gandara.22.t
    desc = me_india_01_gandara.22.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.22.a
        custom_tooltip = me_india_01_gandara.22.a.tt
        p:6821.state = {
            add_state_modifier = {
                name = indo_greek_trade_modifier
                duration = -1
            }
        }
        p:6821 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
	    }
    	}
    }
}

me_india_01_gandara.35 = { # Task 21 - Capital of Patalene
    type = country_event
    title = me_india_01_gandara.35.t
    desc = me_india_01_gandara.35.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.35.a
	add_treasury = -50
	p:6815 = {
	    hidden_effect = {
		create_state_pop = citizen
		create_state_pop = citizen
		create_state_pop = citizen
		create_state_pop = citizen
		create_state_pop = freemen
		create_state_pop = freemen
		create_state_pop = freemen
		create_state_pop = freemen
	    }
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = macedonian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = macedonian
                }
            }
        }
    }
}

me_india_01_gandara.23 = { # Task 21 - Capital of Patalene
    type = country_event
    title = me_india_01_gandara.23.t
    desc = me_india_01_gandara.23.desc
    picture = greek_city

    option = {
        name = me_india_01_gandara.23.a
        custom_tooltip = me_india_01_gandara.23.a.tt
        hidden_effect = {
            p:6815.state = { set_state_capital = p:6815 }
	}
        p:6815 = {
            if = {
                limit = {
                    NOT = { has_province_modifier = greco_indian_city_modifier }
                }
                add_province_modifier = {
                    name = greco_indian_city_modifier
                    duration = -1
                }
            }
    	    if = {
                limit = {
                    NOT = { has_variable = greco_indian_city_variable }
                }
                set_variable = greco_indian_city_variable
		change_province_name = "Demetrias Patalios"
	    }
    	}
    }
}

me_india_01_gandara.24 = { # Task 22 - The Indus Valley
    type = country_event
    title = me_india_01_gandara.24.t
    desc = me_india_01_gandara.24.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.24.a
        custom_tooltip = me_india_01_gandara.24.a.tt
        p:6821.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4353.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4352.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
        p:4371.state = {
            add_state_modifier = {
                name = indo_greek_administration_modifier
                duration = -1
            }
        }
    }
}

me_india_01_gandara.25 = { # Task 23 - Greek Settlers - Start
    type = country_event
    title = me_india_01_gandara.25.t
    desc = me_india_01_gandara.25.desc
    picture = greek_marketplace

    immediate = {
        save_scope_as = indian_nation
    }

    option = {
        name = me_india_01_gandara.25.a
        add_treasury = -250
        add_political_influence = -50
        hidden_effect = {
            while = {
                count = { 10 15 }
                if = {
                    limit = {
                        NOR = { has_variable = indian_chosen_city }
                        any_ownable_province = {
                            trigger_if = {
                                limit = {
                                    exists = owner
                                }
                                NOT = { owner = scope:indian_nation }
                            }
                            total_population >= 20
                            OR = {
                                is_in_region = greece_region
                                is_in_region = macedonia_region
                                is_in_region = asia_region
				is_in_region = magna_graecia_region
				is_in_region = thrace_region
                            }
                            province_dominant_culture_group = hellenic
                        }
                    }
                    random_ownable_province = {
                        limit = {
                            NOT = { has_variable = indian_chosen_city }
                            trigger_if = {
                                limit = {
                                    exists = owner
                                }
                                NOT = { owner = scope:indian_nation }
                            }
                            total_population >= 20
                            OR = {
                                is_in_region = greece_region
                                is_in_region = macedonia_region
                                is_in_region = asia_region
				is_in_region = magna_graecia_region
				is_in_region = thrace_region
                            }
                            province_dominant_culture_group = hellenic
                        }
                        set_variable = indian_chosen_city
                        trigger_event = {
                            id = me_india_01_gandara.27
                            days = { 30 170 }
                        }
                    }
                }
            }
        }
    }
}

me_india_01_gandara.26 = { # Task 23 - Greek Settlers - End
    type = country_event
    title = me_india_01_gandara.26.t
    desc = me_india_01_gandara.26.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.26.a
        custom_tooltip = me_india_01_gandara.26.a.tt
        every_owned_province = {
            limit = {
                has_variable = india_pop_move_variable
                var:india_pop_move_variable >= 1
            }
            if = {
                limit = {
                    var:india_pop_move_variable = 1
                }
                custom_tooltip = me_india_move_pop_tt_1
            }
            else = {
                custom_tooltip = me_india_move_pop_tt_2
            }
        }
        every_country = {
            limit = {
                NOT = { this = root }
                any_owned_province = {
                    has_variable = india_pop_move_variable
                }
            }
            trigger_event = me_india_01_gandara.28
        }
    }

    after = {
        every_owned_province = {
            limit = {
                has_variable = india_pop_move_variable
            }
            remove_variable = india_pop_move_variable
        }
    }
}

me_india_01_gandara.27 = { # Task 23 - Greek Settlers
    type = province_event
    title = me_india_01_gandara.27.t
    desc = me_india_01_gandara.27.desc
    picture = diadochi_new_city_founded

    trigger = {
        has_city_status = yes
        total_population >= 20
    }

    immediate = {
        scope:indian_nation = {
            random_owned_province = {
                limit = {
                    has_city_status = yes
		    has_variable = greco_indian_city_variable
                }
                weight = {
                    modifier = {
                        factor = 10
                        is_state_capital = yes
                    }
                    modifier = {
                        factor = 5
                        total_population < population_cap
                    }
                    modifier = {
                        factor = 0.005
                        total_population > population_cap
                    }
                }
                save_scope_as = indian_city
            }
        }
        while = {
            count = { 5 15 }
            if = {
                limit = {
                    total_population >= 20
                    any_pops_in_province = {
                        pop_culture_group = hellenic
                        NOR = {
                            pop_type = slaves
                            pop_type = tribesmen
                        }
                    }
                }
                random_pops_in_province = {
                    limit = {
                        pop_culture_group = hellenic
                        NOR = {
                            pop_type = slaves
                            pop_type = tribesmen
                        }
                    }
                    move_pop = scope:indian_city
                }
                if = {
                    limit = {
                        has_variable = india_pop_move_variable
                    }
                    change_variable = {
                        name = india_pop_move_variable
                        add = 1
                    }
                }
                else = {
                    set_variable = {
                        name = india_pop_move_variable
                    }
                }
                scope:indian_city = {
                    if = {
                        limit = {
                            has_variable = india_pop_move_variable
                        }
                        change_variable = {
                            name = india_pop_move_variable
                            add = 1
                        }
                    }
                    else = {
                        set_variable = {
                            name = india_pop_move_variable
                        }
                    }
                }
            }
        }
    }

    option = {
        name = me_india_01_gandara.27.a
    }
}


me_india_01_gandara.28 = { # Task 23 - Greek Settlers - Pay
    type = country_event
    title = me_india_01_gandara.28.t
    desc = me_india_01_gandara.28.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.28.a
        add_treasury = india_mission_01_gandara_money_for_moved_pops_svalue
        every_owned_province = {
            limit = {
                has_variable = india_pop_move_variable
            }
            if = {
                limit = {
                    var:india_pop_move_variable = 1
                }
                custom_tooltip = me_india_move_pop_tt_3
            }
            else = {
                custom_tooltip = me_india_move_pop_tt_4
            }
        }
    }

    after = {
        every_owned_province = {
            limit = {
                has_variable = india_pop_move_variable
            }
            remove_variable = india_pop_move_variable
        }
    }
}

me_india_01_gandara.29 = { # Task 24 - Embracing Buddhism
    type = country_event
    title = me_india_01_gandara.29.t
    desc = me_india_01_gandara.29.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.29.a
        custom_tooltip = me_india_01_gandara.29.a.tt
        add_political_influence = -200
	add_stability = -20
	add_country_modifier = {
		name = "recent_convert_modifier"
		duration = 3650
	}
	set_country_religion = buddhism
	current_ruler = {
            if = {
                limit = {
                    NOT = { has_religion = buddhism }
                }
                set_character_religion = buddhism
            }
        }
        hidden_effect = {
            current_ruler.family = {
                every_family_member = {
                    limit = {
                        employer = ROOT
                        NOT = { has_religion = buddhism }
                    }
                    set_character_religion = buddhism
                }
            }
        }
        ordered_character = {
            limit = {
                loyalty >= 50
                NOT = { has_religion = buddhism }
                is_ruler = no
                from_ruler_family = no
            }
            max = 10
            order_by = prominence
            set_character_religion = buddhism
        }
        hidden_effect = {
            every_character = {
                limit = {
                    NOT = {
                        has_same_religion_as = employer.current_ruler
                    }
                }
                add_loyalty = wrong_religion_loyalty
            }
        }
    }
    option = {
        name = me_india_01_gandara.29.b
        custom_tooltip = me_india_01_gandara.29.b.tt
    }
}

me_india_01_gandara.30 = { # Task 25 - Indo-Greek Culture
    type = country_event
    title = me_india_01_gandara.30.t
    desc = me_india_01_gandara.30.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.30.a
        custom_tooltip = me_india_01_gandara.30.a.tt
	p:4316 = {
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = greco_indian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = greco_indian
                }
            }
        }
	p:7485 = {
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = greco_indian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = greco_indian
                }
            }
        }
	p:6821 = {
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = greco_indian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = greco_indian
                }
            }
        }
	p:4301 = {
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = greco_indian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = greco_indian
                }
            }
        }
	p:4340 = {
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = greco_indian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = greco_indian
                }
            }
        }
	p:4315 = {
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = greco_indian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = greco_indian
                }
            }
        }
	p:4371 = {
            hidden_effect = {
		ordered_pops_in_province = {
		    limit = {
			NOR = {
				pop_culture = greco_indian
				pop_type = slaves
				pop_type = tribesmen
			}
		    }
                    order_by = pop_hapiness
                    max = {
                        value = total_population
		    }
                    set_pop_culture = greco_indian
                }
            }
        }
	p:4322 = {
        hidden_effect = {
            ordered_pops_in_province = {
                limit = {
                    NOR = {
                        pop_culture = greco_indian
                        pop_type = slaves
                        pop_type = tribesmen
                    }
                }
                order_by = pop_hapiness
                max = {
                    value = total_population
                }
                set_pop_culture = greco_indian
            }
        }
    }
        if = {
                limit = {
                    NOT = { primary_culture = greco_indian }
                }
                set_primary_culture_cleanup_effect = {
                    NEW_PRIMARY_CULTURE = greco_indian
                    MAKE_OLD_CULTURE_INTEGRATED = yes
                }
            }
	current_ruler = {
            if = {
                limit = {
                    NOT = { has_culture = greco_indian }
                }
                set_culture = greco_indian
            }
        }
        hidden_effect = {
            current_ruler.family = {
                every_family_member = {
                    limit = {
                        employer = ROOT
                        NOT = { has_culture = greco_indian }
                    }
                    set_culture = greco_indian
                }
            }
        }
        ordered_character = {
            limit = {
                loyalty >= 60
                NOT = { has_culture = greco_indian }
                is_ruler = no
                from_ruler_family = no
            }
            max = 10
            order_by = prominence
            set_culture = greco_indian
        }
    }
    option = {
        name = me_india_01_gandara.30.b
        custom_tooltip = me_india_01_gandara.30.b.tt
    }
}

me_india_01_gandara.31 = { # Task 26 - Forging a Bloodline - Start
    type = country_event
    title = me_india_01_gandara.31.t
    desc = me_india_01_gandara.31.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.31.a
        add_treasury = -250
        add_political_influence = -50
    }
}

me_india_01_gandara.32 = { # Task 25 - Forging a Bloodline - End
    type = country_event
    title = me_india_01_gandara.32.t
    desc = me_india_01_gandara.32.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.32.a
        custom_tooltip = me_india_01_gandara.32.a.tt
	current_ruler = {
            add_trait = blood_of_menander
        }
        hidden_effect = {
            current_ruler.family = {
                every_family_member = {
                    limit = {
                        employer = ROOT
                    }
                    add_trait = blood_of_menander
                }
            }
        }
    }
}

me_india_01_gandara.33 = { # Final - Ragias of India
    type = country_event
    title = me_india_01_gandara.33.t
    desc = me_india_01_gandara.33.desc
    picture = diadochi_new_city_founded

    option = {
        name = me_india_01_gandara.33.a
	add_treasury = -200
	add_military_experience = -20
    }
}

me_india_01_gandara.34 = { # Final - Ragias of India
    type = country_event
    title = me_india_01_gandara.34.t
    desc = me_india_01_gandara.34.desc
    picture = greeks_marching

    option = {
        name = me_india_01_gandara.34.a
        custom_tooltip = me_india_01_gandara.34.a.tt
	current_ruler = {
            add_popularity = popularity_medium
            add_nickname = NICKNAME_SOTER
        }
	add_country_modifier = {
            name = indo_greek_leg_modifier
            duration = 7300
        }
	add_stability_effect = yes
    }
}
