namespace = me_indoparthia

me_indoparthia.1 = {
	type = country_event
	title = me_indoparthia.1.t
	desc = me_indoparthia.1.desc
	
	picture = greek_court
	
	option = {
		name = me_indoparthia.1.a
		custom_tooltip = me_indoparthia.1.tt1
	}
}

me_indoparthia.2 = {
	type = country_event
	title = me_indoparthia.2.t
	desc = me_indoparthia.2.desc
	left_portrait = current_ruler
	right_portrait = scope:choose_10
	right_portrait = scope:choose_11
	right_portrait = scope:choose_12
	
	picture = greek_court
	
	
	immediate = {
		root.overlord = {
			random_character = {
				limit = {
					NOT = { THIS.family = root.overlord.current_ruler.family }
					is_adult = yes
					is_male = yes
					NOT = { THIS = root.overlord.current_ruler }
				}
				save_scope_as = choose_10
			}
			random_character = {
				limit = {
					NOT = { THIS.family = root.overlord.current_ruler.family }
					NOT = { THIS.family = scope:choose_10.family }
					is_adult = yes
					is_male = yes
					NOT = { THIS = root.overlord.current_ruler }
				}
				save_scope_as = choose_11
			}
			random_character = {
				limit = {
					NOT = { THIS.family = root.overlord.current_ruler.family }
					NOT = { THIS.family = scope:choose_10.family }
					NOT = { THIS.family = scope:choose_11.family }
					is_adult = yes
					is_male = yes
					NOT = { THIS = root.overlord.current_ruler }
				}
				save_scope_as = choose_12
			}
		}
	}
	
	option = {
		name = me_indoparthia.2.a
		trigger = { exists = scope:choose_10 }
		hidden_effect = {
			scope:choose_10 = {
				remove_all_offices = yes
				remove_as_governor = yes
				move_country = ROOT
				set_home_country = ROOT
				remove_character_modifier = foreign_citizen		
			}
		}
		set_as_ruler = scope:choose_10
		hidden_effect = {
			while = {
				count = 4
				create_character = {
					culture = parthian
					religion = root.religion
					while = {
						count = 3
						random_list = {
							25 = { add_zeal = 2 }
							25 = { add_charisma = 2 }
							25 = { add_finesse = 2 }
							25 = { add_martial = 2 }
						}
					}
					set_family = scope:choose_10.family
				}
			}
		}
	}
	
	option = {
		name = me_indoparthia.2.b
		trigger = { exists = scope:choose_11 }
		hidden_effect = {
			scope:choose_11 = {
				remove_all_offices = yes
				remove_as_governor = yes
				move_country = ROOT
				set_home_country = ROOT
				remove_character_modifier = foreign_citizen		
			}
		}
		set_as_ruler = scope:choose_11
		hidden_effect = {
			while = {
				count = 4
				create_character = {
					culture = parthian
					religion = root.religion
					while = {
						count = 3
						random_list = {
							25 = { add_zeal = 2 }
							25 = { add_charisma = 2 }
							25 = { add_finesse = 2 }
							25 = { add_martial = 2 }
						}
					}
					set_family = scope:choose_11.family
				}
			}
		}
	}
	
	option = {
		name = me_indoparthia.2.c
		trigger = { exists = scope:choose_12 }
		hidden_effect = {
			scope:choose_12 = {
				remove_all_offices = yes
				remove_as_governor = yes
				move_country = ROOT
				set_home_country = ROOT
				remove_character_modifier = foreign_citizen		
			}
		}
		set_as_ruler = scope:choose_12
		hidden_effect = {
			while = {
				count = 4
				create_character = {
					culture = parthian
					religion = root.religion
					while = {
						count = 3
						random_list = {
							25 = { add_zeal = 2 }
							25 = { add_charisma = 2 }
							25 = { add_finesse = 2 }
							25 = { add_martial = 2 }
						}
					}
					set_family = scope:choose_12.family
				}
			}
		}
	}
	
	after = {
		set_country_religion = root.overlord.religion
		hidden_effect = {
			while = {
				count = 3
				capital_scope = {
					define_pop = {
						type = nobles
						culture = parthian
						religion = root.religion
					}
				}
			}
			while = {
				count = 7
				capital_scope = {
					define_pop = {
						type = citizen
						culture = parthian
						religion = root.religion
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					primary_culture = parthian
				}
			}
			set_primary_culture_cleanup_effect = {
				NEW_PRIMARY_CULTURE = parthian
				MAKE_OLD_CULTURE_INTEGRATED = yes
			}
		}	
	}
}

me_indoparthia.3 = {
	type = country_event
	title = me_indoparthia.3.t
	desc = me_indoparthia.3.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.3.a
		custom_tooltip = indoparthia_missions_2.tt
		add_country_modifier = {
			name = indoparthia_cmod2
			duration = 7300
		}
		hidden_effect = {
			every_owned_province = {
				every_pops_in_province = {
					limit = {
						OR = {
							pop_culture = parthian
							pop_culture = macedonian
							pop_culture = carmanian
						}
					}
					if = {
						limit = {
							OR = {
								pop_type = slaves
								pop_type = tribesmen
							}
						}
						set_pop_type = freemen
					}
				}
			}		
		}
	}
}

me_indoparthia.4 = {
	type = country_event
	title = me_indoparthia.4.t
	desc = me_indoparthia.4.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.4.a
		show_as_tooltip = {
			add_stability = 5
		}
	}
}

me_indoparthia.5 = {
	type = country_event
	title = me_indoparthia.5.t
	desc = me_indoparthia.5.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.5.a
		show_as_tooltip = {
			add_country_modifier = {
				name = indoparthia_cmod3
				duration = -1
			}		
		}
	}
}

me_indoparthia.6 = {
	type = country_event
	title = me_indoparthia.6.t
	desc = me_indoparthia.6.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.6.a
		show_as_tooltip = {
			p:6614 = {
				if = {
					limit = {
						has_city_status = no
					}
					set_city_status = city
				}
				add_province_modifier = {
					name = northern_capital_inp_pmod
					duration = -1
				}
			}		
		}
	}
	
	option = {
		name = me_indoparthia.6.b
		set_capital = p:6614
		show_as_tooltip = {
			p:6614 = {
				if = {
					limit = {
						has_city_status = no
					}
					set_city_status = city
				}
				add_province_modifier = {
					name = northern_capital_inp_pmod
					duration = -1
				}
			}		
		}
	}
}

me_indoparthia.7 = {
	type = country_event
	title = me_indoparthia.7.t
	desc = me_indoparthia.7.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.7.a
		show_as_tooltip = {
			add_aggressive_expansion = -15
		}
	}
}

me_indoparthia.8 = {
	type = country_event
	title = me_indoparthia.8.t
	desc = me_indoparthia.8.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.8.a
		show_as_tooltip = {
			add_aggressive_expansion = -15
		}
	}
}

me_indoparthia.9 = {
	type = country_event
	title = me_indoparthia.9.t
	desc = me_indoparthia.9.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.9.a
		show_as_tooltip = {
			p:4349 = {
				custom_tooltip = inp_claim_region_effect_tt
				hidden_effect = {
					region = {
						every_region_province = {
							limit = {
								NOT = { owner = root }
							}
							add_claim = root
						}
					}
				}
			}
		}
	}
}

me_indoparthia.10 = {
	type = country_event
	title = me_indoparthia.10.t
	desc = me_indoparthia.10.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.10.a
		show_as_tooltip = {
			p:6821 = {
				custom_tooltip = inp_claim_region_effect_tt
				hidden_effect = {
					region = {
						every_region_province = {
							limit = {
								NOT = { owner = root }
							}
							add_claim = root
						}
					}
				}
			}
		}
	}
}

me_indoparthia.11 = {
	type = country_event
	title = me_indoparthia.11.t
	desc = me_indoparthia.11.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.11.a
		custom_tooltip = indoparthia_missions_10.tt2
	}
}

me_indoparthia.12 = {
	type = country_event
	title = me_indoparthia.12.t
	desc = me_indoparthia.12.desc
	picture = greek_court
	
	option = { #whatever, let them be
		name = me_indoparthia.12.a
		custom_tooltip = "me_indoparthia.12.tt1"
		ai_chance = {
			base = 10
        }
		scope:root_scope = {
			trigger_event = { id = me_indoparthia.1201 }
		}
	}
	
	option = { #let them be, for land in Iran
		name = me_indoparthia.12.b
		custom_tooltip = "me_indoparthia.12.tt2"
		ai_chance = {
			base = 20
			modifier = {
				add = -5
				current_ruler = { is_friend = scope:root_scope.current_ruler }
			}
			modifier = {
				add = -10
				opinion = { target = scope:root_scope value >= 100 }
			}
			modifier = {
				add = -5
				opinion = { target = scope:root_scope value >= 150 }
			}
        }
		scope:root_scope = {
			trigger_event = { id = me_indoparthia.1202 }
		}
	}
	
	option = { #declare war
		name = me_indoparthia.12.c
		custom_tooltip = "me_indoparthia.12.tt3"
		ai_chance = {
			base = 0
        }
		scope:root_scope = {
			trigger_event = { id = me_indoparthia.1203 }
		}
	}
}

me_indoparthia.1201 = {
	type = country_event
	title = me_indoparthia.1201.t
	desc = me_indoparthia.1201.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.1201.a
	}
}

me_indoparthia.1202 = {
	type = country_event
	title = me_indoparthia.1202.t
	desc = me_indoparthia.1202.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.1202.a
		custom_tooltip = me_indoparthia.1202.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						is_in_region = assyria_region
						is_in_region = mesopotamia_region
						is_in_region = media_region
						is_in_region = persis_region
						is_in_region = ariana_region
						is_in_region = parthia_region
						is_in_region = bactriana_region
						is_in_region = sogdiana_region
						is_in_region = sakia_region
					}
				}
				set_owned_by = scope:parthia_scope
			}
			every_subject = {
				limit = {
					capital_scope = {
						OR = {
							is_in_region = assyria_region
							is_in_region = mesopotamia_region
							is_in_region = media_region
							is_in_region = persis_region
							is_in_region = ariana_region
							is_in_region = parthia_region
							is_in_region = bactriana_region
							is_in_region = sogdiana_region
							is_in_region = sakia_region
						}
					}			
				}
				every_owned_province = {
					set_owned_by = scope:parthia_scope
				}
			}	
		}
	}
	
	option = {
		name = me_indoparthia.1202.b
		scope:parthia_scope = {
			declare_war_with_wargoal = {
				war_goal = conquer_wargoal
				province = scope:root_scope.capital_scope
				target = scope:root_scope
			}			
		}
	}
	
}

me_indoparthia.1203 = {
	type = country_event
	title = me_indoparthia.1203.t
	desc = me_indoparthia.1203.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.1203.a
	}
	
	after = {
		scope:parthia_scope = {
			declare_war_with_wargoal = {
				war_goal = conquer_wargoal
				province = scope:root_scope.capital_scope
				target = scope:root_scope
			}
		}			
	}
}

me_indoparthia.13 = {
	type = country_event
	title = me_indoparthia.13.t
	desc = me_indoparthia.13.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.13.a

	}
}

me_indoparthia.14 = {
	type = country_event
	title = me_indoparthia.14.t
	desc = me_indoparthia.14.desc
	picture = greek_court
	
#	option = {
#		name = me_indoparthia.14.a
#	}

    option = {
        name = me_india_01_gandara.29.a
        custom_tooltip = me_india_01_gandara.29.a.tt
        add_political_influence = -100
		add_stability = -10
		add_country_modifier = {
			name = "recent_convert_modifier"
			duration = 3650
		}
		set_country_religion = buddhism
		current_ruler = {
            if = {
                limit = {
                    NOT = { has_religion = buddhism }
                }
                set_character_religion = buddhism
            }
        }
        hidden_effect = {
            current_ruler.family = {
                every_family_member = {
                    limit = {
                        employer = ROOT
                        NOT = { has_religion = buddhism }
                    }
                    set_character_religion = buddhism
                }
            }
        }
        ordered_character = {
            limit = {
                loyalty >= 50
                NOT = { has_religion = buddhism }
                is_ruler = no
                from_ruler_family = no
            }
            max = 10
            order_by = prominence
            set_character_religion = buddhism
        }
        hidden_effect = {
            every_character = {
                limit = {
                    NOT = {
                        has_same_religion_as = employer.current_ruler
                    }
                }
                add_loyalty = wrong_religion_loyalty
            }
        }
    }
	
    option = {
        name = me_india_01_gandara.29.b
        custom_tooltip = me_india_01_gandara.29.b.tt
    }
}

me_indoparthia.15 = {
	type = country_event
	title = me_indoparthia.15.t
	desc = me_indoparthia.15.desc
	picture = greek_court
	
	option = {
		name = me_indoparthia.15.a

	}
}

me_indoparthia.9900 = {
	type = country_event
	title = me_indoparthia.9901.t
	desc = me_indoparthia.9901.desc
	picture = greek_court
	
	immediate = {
		save_scope_as = subject_scope
	}
	
	option = {
		name = me_indoparthia.9901.a
		root.overlord = { 
			trigger_event = {
				id = me_indoparthia.9901
				days = 1
			}
		}
	}
	
	option = {
		name = me_indoparthia.9901.b
		ai_chance = {
			factor = 0
		}
	}
}

me_indoparthia.9901 = {
	type = country_event
	title = "me_indoparthia.9901.t"
	desc = "me_indoparthia.9901.desc"
	picture = greek_court

	option = {
		name = me_indoparthia.9901.a
		custom_tooltip = me_indoparthia.9901.tt1
	}
	
	option = {
		name = me_indoparthia.9901.b
		custom_tooltip = me_indoparthia.9901.tt2
		p:6552 = {
			add_permanent_province_modifier = {
				name = ariana_capital_pmod
				duration = -1
			}
		}
		hidden_effect = {
			scope:subject_scope = {
				set_variable = allowed_indo_parthia_mission
				set_variable = indo_parthia_remove_mt
				change_law = relaxed_recruiting_standards
				set_capital = p:6552
			}
			set_player_country = scope:subject_scope
		}
	}
	
#	option = {
#		name = me_indoparthia.9901.c
#		custom_tooltip = me_indoparthia.9901.tt3
#		set_variable = pth_potential_inp_var
#	}
}

me_indoparthia.9902 = {
	type = country_event
	title = "me_indoparthia.9902.t"
	desc = "me_indoparthia.9902.desc"
	picture = greek_court

	option = {
		name = me_indoparthia.9901.b
		custom_tooltip = me_indoparthia.9901.tt2
		p:6552 = {
			add_permanent_province_modifier = {
				name = ariana_capital_pmod
				duration = -1
			}
		}
		hidden_effect = {
			scope:subject_scope = {
				set_variable = allowed_indo_parthia_mission
				set_variable = indo_parthia_remove_mt
				change_law = relaxed_recruiting_standards
				set_capital = p:6552
			}
			set_player_country = scope:subject_scope
		}
	}
	
	option = {
		name = me_indoparthia.9902.c
		custom_tooltip = me_indoparthia.9901.tt1
	}
}

me_indoparthia.9910 = {
	type = country_event
	hidden = yes
	
	immediate = {
		if = {
			limit = { 
				has_country_modifier = indoparthia_cmod1 
				OR = {
					is_subject = no
					NOT = { alliance_with = scope:parthia_scope }
				}
			}
		}
		if = {
			limit = { has_country_modifier = indoparthia_cmod1 }
			trigger_event = {
				id = me_indoparthia.9910
				days = 180
			}
		}
	}
}

me_indoparthia.9999 = {
	type = country_event
	title = "me_indoparthia.9901.t"
	desc = "me_indoparthia.9901.desc"
	picture = greek_court
	
	option = {
		name = me_indoparthia.9901.b
	}
	
	after = {
		set_capital = p:6552
	}
}

