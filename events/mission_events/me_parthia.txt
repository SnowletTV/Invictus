namespace = me_parthia

me_parthia.1 = {
	type = country_event

	title = "me_parthia.1.t"
	desc = "me_parthia.1.desc"

	left_portrait = current_ruler
	right_portrait = scope:peaceful_politician_dahae
	right_portrait = scope:warlike_politician_dahae

	picture = council_country
	
	trigger = {
		c:PAR = {
			has_land = yes
		}
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					exists = scope:peaceful_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
				}
				weight = {
					modifier = {
						factor = 2
						charisma > 8
					}
				}
				save_scope_as = peaceful_politician_dahae
			}
		}
		if = {
			limit = {
				NOT = {
					exists = scope:warlike_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
					NOT = {
						this = scope:peaceful_politician_dahae
					}
				}
				weight = {
					modifier = {
						factor = 2
						martial > 8
					}
				}
				save_scope_as = warlike_politician_dahae
			}
		}
	}

	option = {
		name = "me_parthia.1.a"
		scope:warlike_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
	}

	option = {
		name = "me_parthia.1.b"
		scope:peaceful_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
		add_dahae_help_plus_effect = yes
		add_treasury = -25
		c:PAR = {
			add_treasury = 25
		}
	}
}

me_parthia.2 = {
	type = country_event

	title = "me_parthia.2.t"
	desc = "me_parthia.2.desc"

	left_portrait = current_ruler
	right_portrait = scope:peaceful_politician_dahae
	right_portrait = scope:warlike_politician_dahae

	picture = council_country
	
	trigger = {
		c:PAR = {
			has_land = yes
		}
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					exists = scope:peaceful_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
				}
				weight = {
					modifier = {
						factor = 2
						charisma > 8
					}
				}
				save_scope_as = peaceful_politician_dahae
			}
		}
		if = {
			limit = {
				NOT = {
					exists = scope:warlike_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
					NOT = {
						this = scope:peaceful_politician_dahae
					}
				}
				weight = {
					modifier = {
						factor = 2
						martial > 8
					}
				}
				save_scope_as = warlike_politician_dahae
			}
		}
	}

	option = {
		name = "me_parthia.2.a"
		scope:warlike_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
	}

	option = {
		name = "me_parthia.2.b"
		scope:peaceful_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
		add_dahae_help_plus_effect = yes
		add_political_influence = -25
		c:PAR = {
			add_political_influence = 25
		}
	}
}

me_parthia.3 = {
	type = country_event

	title = "me_parthia.3.t"
	desc = "me_parthia.3.desc"

	left_portrait = current_ruler
	right_portrait = scope:peaceful_politician_dahae
	right_portrait = scope:warlike_politician_dahae

	picture = council_country
	
	trigger = {
		c:PAR = {
			has_land = yes
		}
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					exists = scope:peaceful_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
				}
				weight = {
					modifier = {
						factor = 2
						charisma > 8
					}
				}
				save_scope_as = peaceful_politician_dahae
			}
		}
		if = {
			limit = {
				NOT = {
					exists = scope:warlike_politician_dahae
				}
			}
			random_character = {
				limit = {
					has_any_position = yes
					is_ruler = no
					NOT = {
						this = scope:peaceful_politician_dahae
					}
				}
				weight = {
					modifier = {
						factor = 2
						martial > 8
					}
				}
				save_scope_as = warlike_politician_dahae
			}
		}
	}

	option = {
		name = "me_parthia.3.a"
		scope:warlike_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
	}

	option = {
		name = "me_parthia.3.b"
		scope:peaceful_politician_dahae = {
			add_loyalty = loyalty_feudatory_settlers_ignored_advisor
		}
		add_dahae_help_plus_effect = yes
		add_manpower = -4
		c:PAR = {
			add_manpower = 4
		}
	}
}

me_parthia.4 = {
	type = country_event
	title = "me_parthia.4.t"
	desc = "me_parthia.4.desc"

	picture = council_country
	
	trigger = {
		c:PAR = {
			has_land = yes
		}
	}
	
	immediate = {
		set_variable = {
			name = reward_roll
			value = {
				integer_range = { min = 0 max = 2 }
			}
		}
		change_variable = {
			name = dahae_help_var
			add = {
				value = var:reward_roll
			}
		}
		c:PAR = {
			set_variable = {
				name = dahae_help_var
				value = root.var:dahae_help_var
			}
		}
	}

	option = {
		name = "me_parthia.4.a"
		c:PAR = {
			trigger_event = {
				id = me_parthia.4000
				days = 10
			}
		}
		custom_tooltip = me_parthia.4.tt.1
	}
}

me_parthia.499 = { #TODO DELETE
	type = country_event
	title = "me_parthia.4.t"
	desc = "me_parthia.4.desc"

	picture = council_country

	immediate = {
		ROOT = { save_scope_as = root_scope }
	}

	option = {
		name = "me_parthia.4.a"
		custom_tooltip = me_parthia.4.a.tt
	}
}

me_parthia.4000 = {
	type = country_event
	title = "me_parthia.4000.t"
	desc = "me_parthia.4000.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:dahae_host

	option = { #Independence
		name = me_parthia.4000.a
		custom_tooltip = "me_parthia.4000.a.tt"
		c:DHE = {
			trigger_event = {
				id = me_parthia.4001
				days = 1
			}
		}
		c:SEL = {
			trigger_event = {
				id = me_parthia.4002
				days = 1
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				root.var:dahae_help_var >= 3
			}
        }
	}
	
	option = { #Remain loyal to SEL
		name = me_parthia.4000.b
		custom_tooltip = "me_parthia.4000.b.tt"
		ai_chance = {
			base = 1
			modifier = {
				add = -1
				root.var:dahae_help_var < 3
			}
		}
		c:DHE = {
			trigger_event = {
				id = me_parthia.4003
				days = 1
			}
		}
	}
}

me_parthia.4001 = {
	type = country_event

	title = "me_parthia.4001.t"
	desc = "me_parthia.4001.desc"
	picture = council_country
	left_portrait = current_ruler

	option = {
		name = me_parthia.4001.a
		custom_tooltip = "me_parthia.4001.a.tt"
	}
}

me_parthia.4002 = {
	type = country_event

	title = "me_parthia.4002.t"
	desc = "me_parthia.4002.desc"
	picture = council_country
	left_portrait = current_ruler

	option = {
		name = me_parthia.4002.a
		custom_tooltip = "me_parthia.4002.a.tt"
		hidden_effect = {
			every_province = {
				limit = {
					owner = c:PAR
				}
				add_claim = ROOT
			}
		}
		if = {
			limit = { 
				c:PAR = {
					is_subject_of = ROOT
				}
			}
			release_subject = c:PAR
		}
	}
}

me_parthia.4003 = {
	type = country_event

	title = "me_parthia.4003.t"
	desc = "me_parthia.4003.desc"
	picture = council_country
	left_portrait = current_ruler

	option = {
		name = me_parthia.4003.a
		custom_tooltip = "me_parthia.4003.a.tt"
		hidden_effect = {
			every_province = {
				limit = {
					owner = c:PAR
				}
				add_claim = ROOT
			}
		}
	}
}

me_parthia.5 = {
	type = country_event

	title = "me_parthia.5.t"
	desc = "me_parthia.5.desc"
	picture = council_country
	left_portrait = current_ruler

	immediate = {
		c:BAC = {
			declare_war_with_wargoal = {
				war_goal = conquer_wargoal
				province = ROOT.capital_scope
				target = ROOT
			}
		}
#		ROOT = {
#			declare_war_with_wargoal = {
#				war_goal = conquer_wargoal
#				province = p:6668
#				target = c:BAC
#			}
#		}
	}
	
	option = {
		name = me_parthia.5.a
		custom_tooltip = "me_parthia.5.a.tt"
	}
}

me_parthia.6 = {
	type = country_event

	title = "me_parthia.6.t"
	desc = "me_parthia.6.desc"
	picture = council_country
	left_portrait = current_ruler

	immediate = {
		every_province = {
			limit = {
				has_owner = yes
				OR = {
					is_in_area = margiana_area
					province_id = 6683
					province_id = 6671
					province_id = 6662
					province_id = 6661		
				}
			}
			add_to_list = dahae_margiana_list
		}
	}
	
	option = {
		name = me_parthia.6.a
		custom_tooltip = "me_parthia.6.a.tt"
		trigger = {
			p:6668 = {
				owner = c:BAC
				controller = ROOT
			}
		}
		every_province = {
			limit = {
				is_in_list = dahae_margiana_list
			}
			set_conquered_by = ROOT
		}
		set_variable = {
			name = parthia_dahae_bactrian_ally_var
		}
		every_current_war = {
			limit = {
				is_war_leader = ROOT
				is_war_leader = c:BAC
			}
			force_white_peace = THIS
		}
	}
	
	option = {
		name = me_parthia.6.b
		custom_tooltip = "me_parthia.6.b.tt"
		trigger = {
			p:6668 = {
				owner = c:BAC
				controller = c:BAC
			}
		}
		every_current_war = {
			limit = {
				is_war_leader = ROOT
				is_war_leader = c:BAC
			}
			force_white_peace = THIS
		}
		set_variable = {
			name = dahae_bactrian_raid_f_var
			days = 1825
		}		
	}
}

me_parthia.7 = {
	type = country_event

	title = "me_parthia.7.t"
	desc = "me_parthia.7.desc"
	picture = council_country
	left_portrait = current_ruler

	immediate = {
		set_variable = {
			name = number_pops_steppe
			value = 0
		}	    	
		every_owned_province = {
		    limit = {
				is_in_region = sakia_region
		    }
		    ROOT = {
			    change_variable = {
			    	name = number_pops_steppe
			    	add = 1
			    }
			}
		}
		every_owned_province = {
			limit = { 
				is_in_region = parthia_region 
				OR = {
					terrain = plains
					terrain = hills
					terrain = farmland
					terrain = desert
					terrain = marsh
				}
				NOT = { 
					THIS = p:3435 
					THIS = p:5423
				}
			}
			add_to_list = parthia_settling_list
		}
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_1
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_2
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_3
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_4
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_5
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_6
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_7
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_8
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_9
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_10
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_11
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_12
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_13
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_14
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_15
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_16
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_17
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_18
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_19
            remove_from_list = parthia_settling_list
        }
        random_in_list = {
            list = parthia_settling_list
            save_scope_as = parthia_settling_prov_20
            remove_from_list = parthia_settling_list
        }
	}
	
	option = {
		name = me_parthia.7.a
		custom_tooltip = "me_parthia.7.a.tt"
		hidden_effect = {
			while = {
				count = ROOT.var:number_pops_steppe
				every_owned_province = {
					limit = {
						OR = {
							is_in_region = sakia_region
							province_id = 5423						
							province_id = 5424
							province_id = 5425
							province_id = 5426
							province_id = 5427
							province_id = 5428						
						}						
					}
					every_pops_in_province = {
						limit = { 
							OR = {
								pop_culture = derbiccan
								pop_culture = parthian
							} 
						}
						random_list = {
							100 = { 
								trigger = {
									scope:parthia_settling_prov_1.total_population <= scope:parthia_settling_prov_1.population_cap
								}
								move_pop = scope:parthia_settling_prov_1 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_2.total_population <= scope:parthia_settling_prov_2.population_cap
								}
								move_pop = scope:parthia_settling_prov_2
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_3.total_population <= scope:parthia_settling_prov_3.population_cap
								}
								move_pop = scope:parthia_settling_prov_3
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_4.total_population <= scope:parthia_settling_prov_4.population_cap
								}
								move_pop = scope:parthia_settling_prov_4 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_5.total_population <= scope:parthia_settling_prov_5.population_cap
								}
								move_pop = scope:parthia_settling_prov_5 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_6.total_population <= scope:parthia_settling_prov_6.population_cap
								}
								move_pop = scope:parthia_settling_prov_6
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_7.total_population <= scope:parthia_settling_prov_7.population_cap
								}
								move_pop = scope:parthia_settling_prov_7
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_8.total_population <= scope:parthia_settling_prov_8.population_cap
								}
								move_pop = scope:parthia_settling_prov_8 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_9.total_population <= scope:parthia_settling_prov_9.population_cap
								}
								move_pop = scope:parthia_settling_prov_9
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_10.total_population <= scope:parthia_settling_prov_10.population_cap
								}
								move_pop = scope:parthia_settling_prov_10
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_11.total_population <= scope:parthia_settling_prov_11.population_cap
								}
								move_pop = scope:parthia_settling_prov_11 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_12.total_population <= scope:parthia_settling_prov_12.population_cap
								}
								move_pop = scope:parthia_settling_prov_12
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_13.total_population <= scope:parthia_settling_prov_13.population_cap
								}
								move_pop = scope:parthia_settling_prov_13
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_14.total_population <= scope:parthia_settling_prov_14.population_cap
								}
								move_pop = scope:parthia_settling_prov_14 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_15.total_population <= scope:parthia_settling_prov_15.population_cap
								}
								move_pop = scope:parthia_settling_prov_15 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_16.total_population <= scope:parthia_settling_prov_16.population_cap
								}
								move_pop = scope:parthia_settling_prov_16
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_17.total_population <= scope:parthia_settling_prov_17.population_cap
								}
								move_pop = scope:parthia_settling_prov_17
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_18.total_population <= scope:parthia_settling_prov_18.population_cap
								}
								move_pop = scope:parthia_settling_prov_18 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_19.total_population <= scope:parthia_settling_prov_19.population_cap
								}
								move_pop = scope:parthia_settling_prov_19 
							}
							100 = { 
								trigger = {
									scope:parthia_settling_prov_20.total_population <= scope:parthia_settling_prov_20.population_cap
								}
								move_pop = scope:parthia_settling_prov_20
							}
							1 = { 
								trigger = {
									p:3435.total_population <= p:3435.population_cap
								}
								move_pop = p:3435
							}
						}
					}
				}
			}
			trigger_event = {
				id = me_parthia.7000
				days = 1
			}
		}
	}
}

me_parthia.7000 = {
	type = country_event
	hidden = yes

	immediate = {	
		if = {
			limit = {
				owns = 5423
			}
			p:5423 = { add_to_list = small_list }
		}
		if = {
			limit = {
				owns = 5424
			}
			p:5424 = { add_to_list = small_list }
		}
		if = {
			limit = {
				owns = 5425
			}
			p:5425 = { add_to_list = small_list }
		}
		if = {
			limit = {
				owns = 5426
			}
			p:5426 = { add_to_list = small_list }
		}
		if = {
			limit = {
				owns = 5427
			}
			p:5427 = { add_to_list = small_list }
		}
		if = {
			limit = {
				owns = 5428
			}
			p:5428 = { add_to_list = small_list }
		}
		random_in_list = {
			list = small_list
			save_scope_as = temp_country_release_scope2_source
		}
		if = {
			limit = {
				has_variable = parthia_dahae_scythian_ally_var
				any_neighbour_country = {
					country_culture_group = scythia
					alliance_with = root
				}
			}
			random_country = {
				limit = {
					country_culture_group = scythia
					alliance_with = root
				}
				save_scope_as = scythian_ally_scope
			}
			if = {
				limit = {
					owns = 6683
					scope:scythian_ally_scope = {
						NOT = {
							tag = KRZ
						}
					}
				}
				p:6683 = {
					create_country = {
						save_scope_as = temp_country_release_scope
						change_government = tribal_chiefdom	
					}
				}
			}
			if = {
				limit = {
					exists = scope:temp_country_release_scope2_source
				}
				scope:temp_country_release_scope2_source = {
					create_country = {
						save_scope_as = temp_country_release_scope2
					}
				}
				scope:temp_country_release_scope2 = {
					every_in_list = {
						list = small_list
						set_conquered_by = PREV
					}
					change_government = tribal_chiefdom					
				}
			}
			every_area = {
				limit = { 
					any_area_province = {
						owner = ROOT
					}
					region = region:sakia_region
				}
				every_area_province = {
					limit = {
						owner = ROOT
					}
					set_conquered_by = scope:scythian_ally_scope
				}
			}
		}
		else = {
			if = {
				limit = {
					exists = scope:temp_country_release_scope2_source
				}
				scope:temp_country_release_scope2_source = {
					create_country = {
						save_scope_as = temp_country_release_scope2
					}
				}
				scope:temp_country_release_scope2 = {
					every_in_list = {
						list = small_list
						set_conquered_by = PREV
					}
					change_government = tribal_chiefdom						
				}
			}
			every_area = {
				limit = { 
					any_area_province = {
						owner = ROOT
					}
					region = region:sakia_region
				}
				ordered_area_province = {
					limit = {
						owner = ROOT
					}
					max = 1
					order_by = total_population
					add_to_list = to_shatter_list
				}
			}	
			every_in_list = {
				list = to_shatter_list
				create_country = {
					save_scope_as = temp_country_release_scope
					change_government = tribal_chiefdom	
				}
				hidden_effect = {
					area = {
						every_area_province = {
							limit = {
								owner = ROOT
							}
							set_owned_by = scope:temp_country_release_scope
						}
					}
				}
			}		
		}
	}
}

me_parthia.8 = {
	type = country_event

	title = "me_parthia.8.t"
	desc = "me_parthia.8.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {
		name = me_parthia.8.a
#		custom_tooltip = "me_parthia.8.a.tt"	
		set_capital = p:6656
	}
	
	option = {
		name = me_parthia.8.b
		custom_tooltip = "me_parthia.8.b.tt"	
	}
}

me_parthia.9 = {
	type = country_event
	title = "me_parthia.9.t"
	desc = "me_parthia.9.desc"
	
	picture = steppe_cavalry
	
	left_portrait = root.current_ruler
	right_portrait = scope:origin.current_ruler
	
	fire_only_once = yes
	
	immediate = {
		set_global_variable = triggered_parthian_horde
		c:SEL = {
			save_scope_as = origin
		}
		save_scope_as = target
		if = {
			limit = {
				p:1595 = {
					owner = c:SEL
				}
			}
			p:1595 = {
				save_scope_as = target_province				
			}		
		}
		else = {
			c:SEL = {
				ordered_owned_province = {
					limit = {
						OR = {
							is_in_region = media_region
							is_in_region = parthia_region
						}
						area = {
							any_area_province = {
								count > 3
								has_owner = yes
								owner = c:SEL
							}
						}
					}
					order_by = total_population
					save_scope_as = target_province	
				}
			}
		}
	}
	
	option = {
		name = "me_parthia.9.a"
		set_global_variable = triggered_parthian_horde
		set_variable = parthia_decentralized_wg
		set_variable = parthia_chosen_tree
		set_variable = {
			name = parthia_allowed_region_var
			value = 3
		}		
		declare_war_with_wargoal = {
			war_goal = horde_conquest
			target = scope:origin
		}
	}
	
	option = {
		name = "me_parthia.9.b"
		set_variable = parthia_centralized_wg
		set_variable = parthia_chosen_tree
		declare_war_with_wargoal = {
			war_goal = conquer_wargoal
			province = scope:target_province
			target = c:SEL
		}
	}
	
	after = {
		c:SEL = {
			trigger_event = {
				id = me_parthia.10
			}
		}
		every_country = {
			limit = {
				has_variable = parthia_dahae_bactrian_ally_var
			}
			trigger_event = {
				id = me_parthia.11
			}
		}		
		every_country = {
			limit = {
				in_diplomatic_range = c:SEL
				NOR = {
					this = root
					has_variable = parthia_dahae_bactrian_ally_var
					tag = PRM
					tag = SEL
				}
			}
			trigger_event = {
				id = me_parthia.13
			}
		}
		every_country = {
			limit = {
				tag = PRM
			}
			trigger_event = {
				id = me_parthia.14
			}
		}	
	}
}

me_parthia.10 = {
	type = country_event

	title = "me_parthia.10.t"
	desc = "me_parthia.10.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {
		name = me_parthia.10.a
		custom_tooltip = "me_parthia.10.a.tt"	
	}
}

me_parthia.11 = {
	type = country_event

	title = "me_parthia.11.t"
	desc = "me_parthia.11.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {
		name = me_parthia.11.a
		custom_tooltip = "me_parthia.11.a.tt"
		random_current_war = {
			limit = {
				any_war_participant = {
					this = c:SEL #Selucids
				}
				any_war_participant = {
					this = scope:target #Parthia
				}
				any_war_participant = {
					this = c:BAC #Bactria
				}
				is_war_leader = c:SEL
			}
			remove_from_war = c:BAC
		}
		if = {
			limit = { 
				c:BAC = {
					is_subject_of = c:SEL
				}
			}
			c:SEL = {
				release_subject = c:BAC
			}
		}
		c:BAC = {
			add_truce = {
				target = scope:target
				duration = 3650	#10 years
			}
		}
		c:SEL = {
			trigger_event = {
				id = me_parthia.12
			}		
		}
	}
}

me_parthia.12 = {
	type = country_event

	title = "me_parthia.12.t"
	desc = "me_parthia.12.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Leave them be...for now
		name = "diadochi_flavor.999.a"
		add_political_influence = -25
	}
	option = {	#We'll fight them too!
		name = "diadochi_flavor.999.b"
        declare_war_with_wargoal = {
            war_goal = conquer_wargoal
            province = c:BAC.capital_scope
            target = c:BAC
        }
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.13 = {
	type = country_event

	title = "me_parthia.13.t"
	desc = "me_parthia.13.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {
		name = me_parthia.13.a
		custom_tooltip = "me_parthia.13.a.tt"	
	}
}

me_parthia.14 = {
	type = country_event

	title = "me_parthia.14.t"
	desc = "me_parthia.14.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {
		name = me_parthia.14.a
		custom_tooltip = "me_parthia.14.a.tt"
		random_current_war = {
			limit = {
				any_war_participant = {
					this = c:SEL #Selucids
				}
				any_war_participant = {
					this = scope:target #Parthia
				}
				any_war_participant = {
					this = c:PRM #Bactria
				}
				is_war_leader = c:SEL
			}
			remove_from_war = c:PRM
		}
		if = {
			limit = { 
				c:PRM = {
					is_subject_of = c:SEL
				}
			}
			c:SEL = {
				release_subject = c:PRM
			}
		}
		c:PRM = {
			add_truce = {
				target = scope:target
				duration = 3650	#10 years
			}
		}
		c:SEL = {
			trigger_event = {
				id = me_parthia.15
			}		
		}
	}
}

me_parthia.15 = {
	type = country_event

	title = "me_parthia.15.t"
	desc = "me_parthia.15.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Leave them be...for now
		name = "diadochi_flavor.999.a"
		add_political_influence = -25
	}
	option = {	#We'll fight them too!
		name = "diadochi_flavor.999.b"
        declare_war_with_wargoal = {
            war_goal = conquer_wargoal
            province = c:PRM.capital_scope
            target = c:PRM
        }
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.1600 = { #lapse of SEL authority event generator
	type = country_event
	hidden = yes

	trigger = {
		tag = SEL
		any_countries_at_war_with = { tag = PTH }
		p:1595 = {
			OR = {
				controller = { tag = PTH }
				owner = { tag = PTH }
			}
		}
	}

	immediate = {
		random_list = {
            33 = {
	      		trigger = {
	      			NOT = { has_variable = had_pth16_var }
					any_owned_province = {
						is_in_area = osroene_area
			#			is_in_region = assyria_region #TODO maybe
					}
	      		}
				trigger_event = { id = me_parthia.16 }
			}
            33 = {
	      		trigger = {
	      			NOT = { has_variable = had_pth17_var }
					any_owned_province = {
						is_in_area = susiana_area
					}
	      		}
				trigger_event = { id = me_parthia.17 }
			}
			33 = {
	      		trigger = {
	      			NOT = { has_variable = had_pth18_var }
					any_owned_province = {
						is_in_area = meshan_area
					}
	      		}
				trigger_event = { id = me_parthia.18 }
			}
            33 = {
	      		trigger = {
	      			NOT = { has_variable = had_pth1801_var }
					any_owned_province = {
						is_in_area = qaraah_area
					}
	      		}
				trigger_event = { id = me_parthia.1801 }
			}
            33 = {
	      		trigger = {
	      			NOT = { has_variable = had_pth19_var }
					region:mesopotamia_region = {
						any_region_province = {
							percent < 0.3
							has_owner = yes
							owner = root
						}
					}
	      		}
				random_country = {
					limit = { tag = PTH }
					trigger_event = { id = me_parthia.19 }					
				}
			}
#			33 = {}
		}
	}
}

me_parthia.16 = { #lapse of SEL authority; spawn OSR
	type = country_event

	title = "me_parthia.15.t"
	desc = "me_parthia.15.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	immediate = {
		set_variable = had_pth16_var
		if = {
			limit = {
				random_owned_province = {
					is_in_area = osroene_area
				}
			}
			ordered_owned_province = { # Create Osroene
				limit = {
					is_in_area = osroene_area
				}
				order_by = total_population
				save_scope_as = scope_capital
				hidden_effect = {
					create_country = {
						save_scope_as = spawn_scope
					}
					scope:spawn_scope = {
						change_country_color = osroene_color
						change_country_tag = OSR
						change_country_name = OSR
						change_country_adjective = OSR_ADJ
						change_country_flag = OSR
						set_country_heritage = antigonid_heritage #TODO
						if = {
							limit = {
								NOT = {
									primary_culture = aramaic
								}
							}
							set_primary_culture_cleanup_effect = {
								NEW_PRIMARY_CULTURE = aramaic
								MAKE_OLD_CULTURE_INTEGRATED = no
							}
						}
						random_character = {
							limit = {
								is_ruler = yes
							}
							save_scope_as = the_important_guy
						}
						scope:the_important_guy = {
							family = {
								every_family_member = {
									set_culture = nabatean
								}
							}
						}
					}
					every_province = {
						limit = {
							owner = ROOT
							is_in_area = scope:scope_capital
						}
						set_owned_by = scope:spawn_scope
					}					
				}
			}
		}
#		else = { #TODO doesn't work
#			ordered_owned_province = { # Create Osroene stand-in
#				limit = {
#					NOT = {
#						is_in_area = osroene_area
#					}
#					is_in_region = assyria_region
#				}
#				order_by = total_population
#				save_scope_as = scope_capital
#				hidden_effect = {
#					create_country = {
#						save_scope_as = spawn_scope
#					}
#					scope:spawn_scope = {
#						change_country_tag = OSR
#						set_country_heritage = antigonid_heritage #TODO
#						set_variable = osroene_standin_var
#						if = {
#							limit = {
#								NOT = {
#									primary_culture = aramaic
#								}
#							}
#							set_primary_culture_cleanup_effect = {
#								NEW_PRIMARY_CULTURE = aramaic
#								MAKE_OLD_CULTURE_INTEGRATED = no
#							}
#						}
#					}
#					every_province = {
#						limit = {
#							owner = ROOT
#							is_in_area = scope:scope_capital
#						}
#						set_owned_by = scope:spawn_scope
#					}
#				}
#			}		
#		}
	}
	
	option = {	#Leave them be...for now
		name = "diadochi_flavor.999.a"
		add_political_influence = -25
	}
	option = {	#We'll fight them too!
		name = "diadochi_flavor.999.b"
        declare_war_with_wargoal = {
            war_goal = conquer_wargoal
            province = c:OSR.capital_scope
            target = c:OSR
        }
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.17 = { #lapse of SEL authority; spawn ELY
	type = country_event

	title = "me_parthia.17.t"
	desc = "me_parthia.17.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	immediate = {
		set_variable = had_pth17_var
		if = {
			limit = {
				random_owned_province = {
					is_in_area = susiana_area
				}
			}
			ordered_owned_province = { # Create Elymais
				limit = {
					is_in_area = susiana_area
				}
				order_by = total_population
				save_scope_as = scope_capital
				hidden_effect = {
					create_country = {
						save_scope_as = spawn_scope
					}
					scope:spawn_scope = {
						change_country_color = osroene_color #TODO
						change_country_tag = ELY
						change_country_name = OSR #TODO
						change_country_adjective = OSR_ADJ #TODO
						change_country_flag = OSR #TODO
						set_country_heritage = antigonid_heritage #TODO
						if = {
							limit = {
								NOT = {
									primary_culture = utian
								}
							}
							set_primary_culture_cleanup_effect = {
								NEW_PRIMARY_CULTURE = utian
								MAKE_OLD_CULTURE_INTEGRATED = no
							}
						}
					}
					every_province = {
						limit = {
							owner = ROOT
							OR = {
								is_in_area = scope:scope_capital
								is_in_area = pars_area
							}
						}
						set_owned_by = scope:spawn_scope
					}					
				}
			}
		}
	}
	
	option = {	#Leave them be...for now
		name = "diadochi_flavor.999.a"
		add_political_influence = -25
	}
	option = {	#We'll fight them too!
		name = "diadochi_flavor.999.b"
        declare_war_with_wargoal = {
            war_goal = conquer_wargoal
            province = c:ELY.capital_scope
            target = c:ELY
        }
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.18 = { #lapse of SEL authority; spawn CHA
	type = country_event

	title = "me_parthia.17.t"
	desc = "me_parthia.17.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	immediate = {
		set_variable = had_pth18_var
		if = {
			limit = {
				random_owned_province = {
					is_in_area = meshan_area
				}
			}
			ordered_owned_province = { # Create Characene
				limit = {
					is_in_area = meshan_area
				}
				order_by = total_population
				save_scope_as = scope_capital
				hidden_effect = {
					create_country = {
						save_scope_as = spawn_scope
					}
					scope:spawn_scope = {
						change_country_color = osroene_color #TODO
						change_country_tag = CHA
						change_country_name = OSR #TODO
						change_country_adjective = OSR_ADJ #TODO
						change_country_flag = OSR #TODO
						set_country_heritage = antigonid_heritage #TODO
						if = {
							limit = {
								NOT = {
									primary_culture = babylonian
								}
							}
							set_primary_culture_cleanup_effect = {
								NEW_PRIMARY_CULTURE = babylonian
								MAKE_OLD_CULTURE_INTEGRATED = no
							}
						}
					}
					every_province = {
						limit = {
							owner = ROOT
							is_in_area = scope:scope_capital
						}
						set_owned_by = scope:spawn_scope
					}					
				}
			}
		}
	}
	
	option = {	#Leave them be...for now
		name = "diadochi_flavor.999.a"
		add_political_influence = -25
	}
	option = {	#We'll fight them too!
		name = "diadochi_flavor.999.b"
        declare_war_with_wargoal = {
            war_goal = conquer_wargoal
            province = c:CHA.capital_scope
            target = c:CHA
        }
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.81 = {
    type = country_event

    title = me_pentapotamia_6_title
    desc = me_pentapotamia_6_desc
    picture = greek_philosophers

    option = {
        name = "me_pentapotamia_6.a"
        custom_tooltip = me_pentapotamia_6_tooltip
        random_country_culture = {
			limit = {
				is_culture = median
			}
			set_country_culture_right = citizen
		}
    }
}

me_parthia.1801 = { #lapse of SEL authority; throw out Arethousa
	type = country_event

	title = "me_parthia.1801.t"
	desc = "me_parthia.1801.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	immediate = {
		set_variable = had_pth1801_var
		if = {
			limit = {
				random_owned_province = {
					is_in_area = qaraah_area
				}
			}
			ordered_owned_province = { # Create whatever in Arethousa
				limit = {
					is_in_area = qaraah_area
				}
				order_by = total_population
				save_scope_as = scope_capital
				hidden_effect = {
					create_country = {
						save_scope_as = spawn_scope
					}
					every_province = {
						limit = {
							owner = ROOT
							is_in_area = scope:scope_capital
						}
						set_owned_by = scope:spawn_scope
					}					
				}
			}
		}
	}
	
	option = {	#Leave them be...for now
		name = "diadochi_flavor.999.a"
		add_political_influence = -25
	}
	option = {	#We'll fight them too!
		name = "diadochi_flavor.999.b"
        declare_war_with_wargoal = {
            war_goal = conquer_wargoal
            province = scope:spawn_scope.capital_scope
            target = scope:spawn_scope
        }
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.19 = { #event for peace with SEL; they stay in Syria
	type = country_event

	title = "me_parthia.19.t"
	desc = "me_parthia.19.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
#	trigger = { 
#		tag = PTH
#		any_countries_at_war_with = { tag = SEL }
#		region:mesopotamia_region = {
#			any_region_province = {
#				percent >= 0.7
#				has_owner = yes
#				owner = root
#			}
#		}
#	}
	
	option = {	#Offer SEL to stay in Syria
		name = "me_parthia.19.a"
		c:SEL = {
			trigger_event = {
				id = me_parthia.1900
				days = 10
			}
			set_variable = had_pth19_var
		}
	}
	
	option = {	#Fight to their death
		name = "me_parthia.19.b"
		ai_chance = {
			factor = 0
		}
		c:SEL = {
			set_variable = had_pth19_var
		}
	}
}

me_parthia.1900 = { #SEL response event
	type = country_event

	title = "me_parthia.1900.t"
	desc = "me_parthia.1900.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	immediate = {
		random_country = {
			limit = { tag = PTH }
			save_scope_as = parthia_scope
		}
	}
	
	option = {	
		name = "me_parthia.19.a"
		ai_chance = { factor = 100 }
		trigger_event = {
			id = me_parthia.9902
			days = 1
		}
		add_stability = 25
		every_current_war = {
			limit = {
				any_war_participant = {
					OR = {
						tag = SEL
						tag = PTH
					}
				}
			}
			force_white_peace = THIS
		}
		if = {
			limit = {
				any_character = {
					trigger_if = {
						limit = {
							employer.current_ruler = { is_minor_character = no }
						}
						from_ruler_family = yes
					}
					is_female = yes
					age > 15
				}
			}
			random_character = {
				limit = {
					trigger_if = {
						limit = {
							employer.current_ruler = { is_minor_character = no }
						}
						from_ruler_family = yes
					}
					is_female = yes
					is_adult = yes
					is_married = no
				}
				save_scope_as = seleucus_daughter
			}
		}
		else = {
			create_character = {
				age = 15
				culture = root.culture
				religion = root.religion
				set_family = current_ruler.family
				adapt_family_name = yes
				set_home_country = ROOT
				save_scope_as = seleucus_daughter				
			}
			trigger_event = { ##Give Offsprings Traits
				id = bloodlines_setup_completion.1
			}			
		}
		scope:parthia_scope = {		
			current_ruler = {
				if = {
					limit = { is_married = yes}
					hidden_effect = { divorce_character = THIS.spouse }
				}
				if = {
					limit = { exists = scope:seleucus_daughter }
					marry_character = scope:seleucus_daughter
				}
			}
			add_stability = 5
			add_country_modifier = {
				name = parthian_appeasing_stance
				duration = 3650
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						is_in_region = assyria_region
						is_in_region = mesopotamia_region
						is_in_region = media_region
						is_in_region = persis_region
						is_in_region = ariana_region
						is_in_region = parthia_region
						is_in_region = bactriana_region
						is_in_region = gandhara_region
						is_in_region = maru_region
						is_in_region = arabia_region
					}
				}
				set_owned_by = scope:parthia_scope
			}
			every_subject = {
				limit = {
					capital_scope = {
						OR = {
							is_in_region = assyria_region
							is_in_region = mesopotamia_region
							is_in_region = media_region
							is_in_region = persis_region
							is_in_region = ariana_region
							is_in_region = parthia_region
							is_in_region = bactriana_region
							is_in_region = gandhara_region
							is_in_region = maru_region
							is_in_region = arabia_region
						}
					}			
				}
				c:SEL = {
					release_subject = PREV
				}
			}		
		}
		add_truce = {
			target = scope:parthia_scope
			duration = 1500 #TODO; 25 years
		}		
	}
	
	option = {	#Fight to death
		name = "me_parthia.19.b"
		ai_chance = { factor = 0 }
	}
}

me_parthia.1901 = { #Allow defection of SEL subject?
	type = country_event

	title = "me_parthia.1901.t"
	desc = "me_parthia.1901.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Yes
		name = "me_parthia.1901.a"
		c:SEL = {
			trigger_event = {
				id = me_parthia.1902
				days = 3
			}
			hidden_effect = {
				release_subject = scope:defecting_subject
			}
		}
		make_subject = {
			target = scope:defecting_subject
			type = march
		}
		hidden_effect = {
			scope:defecting_subject = {
				new_march_colour_effect = yes	
			}
		}	
	}
	
	option = {	#No
		name = "me_parthia.1901.b"
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.1902 = { #SEL information
	type = country_event

	title = "me_parthia.1902.t"
	desc = "me_parthia.1902.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	
		name = "me_parthia.1902.a"
	}
}

me_parthia.1903 = { #Osroene, Characene and Elymais 
	type = country_event

	title = "me_parthia.1903.t"
	desc = "me_parthia.1903.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Yes
		name = "me_parthia.1903.a"
		make_subject = {
			target = scope:defecting_subject
			type = march
		}
		hidden_effect = {
			scope:defecting_subject = {
				new_march_colour_effect = yes
				set_variable = pth_excepted_var
			}
		}	
	}
	
	option = {	#No
		name = "me_parthia.1901.b"
		ai_chance = {
			factor = 0
		}
	}
}

me_parthia.20 = {
	type = country_event
	title = me_parthia.20.t
	desc = me_parthia.20.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.20.a
		add_political_influence = {
			value = parthia_dahae_pops_most
			multiply = -1
		}
		custom_tooltip = me_parthia.20.tt
	}
}

me_parthia.21 = { #Either become protected march or death
	type = country_event

	title = "me_parthia.21.t"
	desc = "me_parthia.21.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Yes
		name = "me_parthia.21.a"
		ai_chance = {
			base = 20
        }
		scope:pth_ruler_scope.employer = {
			make_subject = {
				target = ROOT
				type = march
			}
			add_country_modifier = {
				name = parthian_atropatene
				duration = 7300
			}
			trigger_event = me_parthia.2101
		}
		hidden_effect = {
			new_march_colour_effect = yes
			set_variable = pth_excepted_var
		}	
	}
	
	option = {	#No
		name = "me_parthia.21.b"
		every_owned_province = { add_claim = scope:pth_ruler_scope.employer }
		scope:pth_ruler_scope.employer = {
			trigger_event = me_parthia.2102
		}
		ai_chance = {
			base = 10
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 50 }
			}
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 100 }
			}
		}
	}
}

me_parthia.2101 = {
	type = country_event
	title = me_parthia.2101.t
	desc = me_parthia.2101.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.2101.a
		show_as_tooltip = {
			add_country_modifier = {
				name = parthian_atropatene
				duration = 7300
			}
		}
	}
}

me_parthia.2102 = {
	type = country_event
	title = me_parthia.2102.t
	desc = me_parthia.2102.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.2102.a
		custom_tooltip = me_parthia.2102.a.tt
	}
}

me_parthia.22 = { #Either become protected march or death
	type = country_event

	title = "me_parthia.22.t"
	desc = "me_parthia.22.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Yes
		name = "me_parthia.22.a"
		ai_chance = {
			base = 30
        }
		scope:pth_ruler_scope.employer = {
			make_subject = {
				target = ROOT
				type = march
			}
			add_country_modifier = {
				name = parthian_adiabene
				duration = 7300
			}
			trigger_event = me_parthia.2201
		}
		hidden_effect = {
			new_march_colour_effect = yes
			set_variable = pth_excepted_var
		}	
	}
	
	option = {	#No
		name = "me_parthia.22.b"
		every_owned_province = { add_claim = scope:pth_ruler_scope.employer }
		scope:pth_ruler_scope.employer = {
			trigger_event = me_parthia.2202
		}
		ai_chance = {
			base = 10
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 50 }
			}
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 100 }
			}
		}
	}
}

me_parthia.2201 = {
	type = country_event
	title = me_parthia.2201.t
	desc = me_parthia.2201.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.2201.a
		show_as_tooltip = {
			add_country_modifier = {
				name = parthian_adiabene
				duration = 7300
			}
		}
		if = {
			limit = {
				any_country = { 
					tag = OSR
					is_subject_of = ROOT
					is_subject_type = march					
				}
				any_province = {
					is_in_area = niniveh_area
					owner = {
						is_subject_of = ROOT
						is_subject_type = march
						NOT = { has_variable = pth_excepted_var }
					}
				}
			}
			custom_tooltip = me_parthia.2201.a.tt
			hidden_effect = {
				every_province = {
					limit = {
						is_in_area = niniveh_area
						owner = {
							is_subject_of = ROOT
							is_subject_type = march
							NOT = { has_variable = pth_excepted_var }
						}					
					}
					set_owned_by = c:ADI
				}
				random_country = {
					limit = {
						tag = OSR
					}
					save_scope_as = osr_scope
				}
				every_province = {
					limit = {
						is_in_region = assyria_region
						owner = {
							is_subject_of = ROOT
							is_subject_type = march
							NOT = { has_variable = pth_excepted_var }
						}					
					}
					set_owned_by = scope:osr_scope
				}
			}
		}
		else_if = {
			limit = {
				any_province = {
					is_in_region = assyria_region
					owner = {
						is_subject_of = ROOT
						is_subject_type = march
						NOT = { has_variable = pth_excepted_var }
					}
				}
			}
			custom_tooltip = me_parthia.2201.b.tt
			hidden_effect = {
				every_province = {
					limit = {
						is_in_region = assyria_region
						owner = {
							is_subject_of = ROOT
							is_subject_type = march
							NOT = { has_variable = pth_excepted_var }
						}					
					}
					set_owned_by = c:ADI
				}
			}
		}
	}
}

me_parthia.2202 = {
	type = country_event
	title = me_parthia.2202.t
	desc = me_parthia.2202.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.2202.a
		custom_tooltip = me_parthia.2202.a.tt
	}
}

me_parthia.23 = {            # Wooing SPH and CRD
    type = country_event
    title = me_parthia.23.t
    desc = me_parthia.23.desc
    picture = senator_conversing
    left_portrait =  scope:pth_wooing_ARM_root_scope.current_ruler
    left_portrait =  scope:pth_wooing_ARM_overlord_scope.current_ruler
	right_portrait =  scope:pth_wooing_ARM_target1_scope.current_ruler
	right_portrait =  scope:pth_wooing_ARM_target2_scope.current_ruler
    fire_only_once = yes

    immediate = {
		c:SPH = { save_scope_as = pth_wooing_ARM_target1_scope }
        c:CRD = { save_scope_as = pth_wooing_ARM_target2_scope }
        ROOT = { save_scope_as = pth_wooing_ARM_root_scope }
        c:ARM = { save_scope_as = pth_wooing_ARM_overlord_scope }
    }

    option = {
        name = me_parthia.23.a

        wooing_ARM_progress_moderate_effect = yes

		scope:pth_wooing_ARM_target1_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO Maybe?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
		
		scope:pth_wooing_ARM_target2_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO Maybe?
                target = scope:pth_wooing_ARM_root_scope
            }
        }

    }
}

me_parthia.24 = {            # Diplomatic insult
    type = country_event
    title = me_parthia.24.t
    desc = me_parthia.24.desc
    picture = scribe_tools
    left_portrait =  scope:pth_wooing_ARM_root_scope.current_ruler
    left_portrait =  scope:pth_wooing_ARM_overlord_scope.current_ruler
	right_portrait =  scope:pth_wooing_ARM_target1_scope.current_ruler
	right_portrait =  scope:pth_wooing_ARM_target2_scope.current_ruler
    fire_only_once = yes

    immediate = {
		c:SPH = { save_scope_as = pth_wooing_ARM_target1_scope }
        c:CRD = { save_scope_as = pth_wooing_ARM_target2_scope }
        ROOT = { save_scope_as = pth_wooing_ARM_root_scope }
        c:ARM = { save_scope_as = pth_wooing_ARM_overlord_scope }
    }

    option = {
        name = me_parthia.24.a

        wooing_ARM_progress_small_effect = yes

        scope:pth_wooing_ARM_target1_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_neg #TODO?
                target = scope:pth_wooing_ARM_overlord_scope
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_neg #TODO?
                target = scope:pth_wooing_ARM_overlord_scope
            }
        }

    }

    option = {
        name = me_parthia.24.b

        add_aggressive_expansion = 10
        scope:pth_wooing_ARM_overlord_scope = {
            add_opinion = {
                modifier = opinion_insult
                target = scope:pth_wooing_ARM_root_scope
            }
        }

        wooing_ARM_progress_moderate_effect = yes

        scope:pth_wooing_ARM_target1_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_neg #TODO?
                target = scope:pth_wooing_ARM_overlord_scope
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_neg #TODO?
                target = scope:pth_wooing_ARM_overlord_scope
            }
        }

    }
}

me_parthia.25 = {            # Gifts
    type = country_event
    title = me_parthia.25.t
    desc = me_parthia.25.desc
    picture = war_chest

    immediate = {
		c:SPH = { save_scope_as = pth_wooing_ARM_target1_scope }
        c:CRD = { save_scope_as = pth_wooing_ARM_target2_scope }
        ROOT = { save_scope_as = pth_wooing_ARM_root_scope }
        c:ARM = { save_scope_as = pth_wooing_ARM_overlord_scope }
		random_list = {
			1 = {
				scope:pth_wooing_ARM_target1_scope = {
					save_scope_as = pth_wooing_ARM_target_scope
				}
			}
			1 = {
				scope:pth_wooing_ARM_target2_scope = {
					save_scope_as = pth_wooing_ARM_target_scope
				}
			}
		}
    }

    option = {
        name = me_parthia.25.a

        wooing_ARM_progress_small_effect = yes

        scope:pth_wooing_ARM_target_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_neg #TODO?
                target = scope:pth_wooing_ARM_overlord_scope
            }
        }

    }

    option = {
        name = me_parthia.25.b

        add_treasury = -250
        scope:pth_wooing_ARM_target_scope = {add_treasury = 250}

		wooing_ARM_progress_moderate_effect = yes

        scope:pth_wooing_ARM_target_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }

    }

    option = {
        name = me_parthia.25.c

        trigger = {
            scope:pth_wooing_ARM_target_scope = {
                any_owned_province = {
                    has_city_status = yes
                    free_building_slots >= 1
                    num_of_temple_building = 0
                }
            }
        }

        add_treasury = -500
        scope:pth_wooing_ARM_target_scope = {
            ordered_owned_province = {
                limit = {
                        has_city_status = yes
                        free_building_slots >= 1
                        num_of_temple_building = 0
                }
                order_by = total_population
                max = 1
                check_range_bounds = no
                add_building_level = temple_building
            }
        }


        wooing_ARM_progress_large_effect = yes

        scope:pth_wooing_ARM_target_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
    }
}

me_parthia.26 = {            # Posturing
    type = country_event
    title = me_parthia.26.t
    desc = me_parthia.26.desc
    picture = greek_court
    fire_only_once = yes

    immediate = {
		c:SPH = { save_scope_as = pth_wooing_ARM_target1_scope }
        c:CRD = { save_scope_as = pth_wooing_ARM_target2_scope }
        ROOT = { save_scope_as = pth_wooing_ARM_root_scope }
        c:ARM = { save_scope_as = pth_wooing_ARM_overlord_scope }
    }


    option = {
        name = me_parthia.26.a


        wooing_ARM_progress_large_effect = yes

        scope:pth_wooing_ARM_target1_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_neg #TODO?
                target = scope:pth_wooing_ARM_overlord_scope
            }
        }
        scope:pth_wooing_ARM_target1_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_neg #TODO?
                target = scope:pth_wooing_ARM_overlord_scope
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
    }
}

me_parthia.27 = {            # Wooing Cyclades - Sponsoring Public Games
    type = country_event
    title = me_parthia.27.t
    desc = me_parthia.27.desc
    picture = religious_rite
    fire_only_once = yes

    immediate = {
		c:SPH = { save_scope_as = pth_wooing_ARM_target1_scope }
        c:CRD = { save_scope_as = pth_wooing_ARM_target2_scope }
        ROOT = { save_scope_as = pth_wooing_ARM_root_scope }
        c:ARM = { save_scope_as = pth_wooing_ARM_overlord_scope }
    }

    option = {
        name = me_parthia.27.a


        wooing_ARM_progress_small_effect = yes

        scope:pth_wooing_ARM_target1_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
    }

    option = {
        name = me_parthia.27.b

        add_treasury = -150
        add_political_influence = -30
        scope:pth_wooing_ARM_target1_scope = {
            add_country_modifier = {
                name = cyr_sponsored_games
                duration = 3650
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            add_country_modifier = {
                name = cyr_sponsored_games
                duration = 3650
            }
        }


        wooing_ARM_progress_large_effect = yes

        scope:pth_wooing_ARM_target1_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            add_opinion = {
                modifier = CYR_subject_wooed_pos #TODO?
                target = scope:pth_wooing_ARM_root_scope
            }
        }
    }
}

me_parthia.2800 = {            # TODO DELETE
    type = country_event
    title = me_parthia.28.t
    desc = me_parthia.28.desc
    picture = greek_court

    immediate = {
		while = {
			count = 4
			wooing_ARM_progress_large_effect = yes			
		}
    }
	
	option = {
		name = me_parthia.28.b
		custom_tooltip = me_parthia.4.a.tt
	}
}

me_parthia.28 = {            # Completion Event
    type = country_event
    title = me_parthia.28.t
    desc = me_parthia.28.desc
    picture = greek_court

    immediate = {
		c:SPH = { save_scope_as = pth_wooing_ARM_target1_scope }
        c:CRD = { save_scope_as = pth_wooing_ARM_target2_scope }
        ROOT = { save_scope_as = pth_wooing_ARM_root_scope }
        c:ARM = { save_scope_as = pth_wooing_ARM_overlord_scope }
    }

    option = {
        name = me_parthia.28.a        # Target reached, SPH/CRD is subject

        trigger = {
            var:wooing_ARM_progress >= 12
			OR = {
				scope:pth_wooing_ARM_target1_scope = { is_subject = yes }
				scope:pth_wooing_ARM_target2_scope = { is_subject = yes }
			}
		}
        custom_tooltip = me_parthia.28.a.tt
		trigger_event = {
			id = me_parthia.29
			days = { 5 14 }
        }
    }


    option = {
        name = me_parthia.28.b        # Target reached, SPH&CRD NOT subjects

        trigger = {
            var:wooing_ARM_progress >= 12
			AND = {
				scope:pth_wooing_ARM_target1_scope = { is_subject = no }
				scope:pth_wooing_ARM_target2_scope = { is_subject = no }
			}
        }

        custom_tooltip = me_parthia.28.b.tt
        scope:pth_wooing_ARM_target1_scope = {
            trigger_event = {
                id = me_parthia.30
                days = { 5 14 }
            }
        }
        scope:pth_wooing_ARM_target2_scope = {
            trigger_event = {
                id = me_parthia.30
                days = { 5 14 }
            }
        }
    }


    option = {
        name = me_parthia.18.c        # Target not reached

        trigger = {
            var:wooing_ARM_progress < 12
        }

        custom_tooltip = me_parthia.18.c.tt
        trigger_event = {
            id = me_parthia.31
            days = { 5 14 }
        }
    }
}

me_parthia.29 = {            # SPH/CRD accept
    type = country_event
    title = me_parthia.29.t
    desc = me_parthia.29.desc
    picture = throneroom

    option = {
        name = me_parthia.29.a
        scope:pth_wooing_ARM_overlord_scope = {
            release_subject = scope:pth_wooing_ARM_target1_scope
			release_subject = scope:pth_wooing_ARM_target2_scope
        }
        make_subject = {
            target = scope:pth_wooing_ARM_target1_scope
            type = march
        }
		scope:pth_wooing_ARM_target1_scope = {
			set_variable = pth_excepted_var
			hidden_effect = {
				new_march_colour_effect = yes
			}
		}
        make_subject = {
            target = scope:pth_wooing_ARM_target2_scope
            type = march
        }
		scope:pth_wooing_ARM_target2_scope = {
			set_variable = pth_excepted_var
			hidden_effect = {
				new_march_colour_effect = yes
			}
		}
        current_ruler = { add_popularity = 10 }
    }
}

me_parthia.30 = {            # SPH/CRD NOT subject
    type = country_event
    title = me_parthia.30.t
    desc = me_parthia.30.desc
    picture = greek_court

    option = {
        name = me_parthia.30.a        # accepts

        scope:pth_wooing_ARM_root_scope = {
            trigger_event = { id = me_parthia.30 }
        }
        custom_tooltip = me_parthia.30.a.tt

    }


    option = {
        name = me_parthia.30.b        # rejects
		save_scope_as = rejected_scope
        scope:pth_wooing_ARM_root_scope = {
            trigger_event = { id = me_parthia.31 }
        }
        current_ruler = { add_popularity = 10 }
        ai_chance = {factor = 0}
    }
}

me_parthia.31 = {            # SPH/CRD rejects
    type = country_event
    title = me_parthia.31.t
    desc = me_parthia.31.desc
    picture = greek_court

    option = {
        name = me_parthia.31.a
        scope:rejected_scope.capital_scope = {
            custom_tooltip = seleukid_mission_02_syria_task_1_effect_tt
            hidden_effect = {
                area = {
                    every_area_province = {
                        limit = {
                            NOT = { owner = root }
                        }
                        add_claim = root
                    }
                }
            }
        }
    }
}

me_parthia.32 = { #Either become protected march or death
	type = country_event

	title = "me_parthia.32.t"
	desc = "me_parthia.32.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Yes
		name = "me_parthia.32.a"
		ai_chance = {
			base = 10
        }
		scope:pth_ruler_scope.employer = {
			make_subject = {
				target = ROOT
				type = march
			}
			add_country_modifier = {
				name = parthian_armenia
				duration = 7300
			}
			trigger_event = me_parthia.3201
		}
		hidden_effect = {
			new_march_colour_effect = yes
			set_variable = pth_excepted_var
		}	
	}
	
	option = {	#No
		name = "me_parthia.32.b"
		every_owned_province = { add_claim = scope:pth_ruler_scope.employer }
		scope:pth_ruler_scope.employer = {
			trigger_event = me_parthia.3202
		}
		ai_chance = {
			base = 10
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 50 }
			}
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 100 }
			}
		}
	}
}

me_parthia.3201 = {
	type = country_event
	title = me_parthia.3201.t
	desc = me_parthia.3201.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.3201.a
		show_as_tooltip = {
			add_country_modifier = {
				name = parthian_armenia
				duration = 7300
			}
		}
	}
}

me_parthia.3202 = {
	type = country_event
	title = me_parthia.3202.t
	desc = me_parthia.3202.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.3202.a
		custom_tooltip = me_parthia.3202.a.tt
	}
}

me_parthia.33 = { #Either become protected march or death
	type = country_event

	title = "me_parthia.33.t"
	desc = "me_parthia.33.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	option = {	#Yes
		name = "me_parthia.33.a"
		ai_chance = {
			base = 20
        }
		scope:pth_ruler_scope.employer = {
			make_subject = {
				target = ROOT
				type = march
			}
			add_country_modifier = {
				name = parthian_iberia
				duration = 7300
			}
			trigger_event = me_parthia.3301
		}
		hidden_effect = {
			new_march_colour_effect = yes
			set_variable = pth_excepted_var
		}	
	}
	
	option = {	#No
		name = "me_parthia.33.b"
		every_owned_province = { add_claim = scope:pth_ruler_scope.employer }
		scope:pth_ruler_scope.employer = {
			trigger_event = me_parthia.3202
		}
		ai_chance = {
			base = 10
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 50 }
			}
			modifier = {
				add = -5
				opinion = { target = scope:pth_ruler_scope.employer value >= 100 }
			}
		}
	}
}

me_parthia.3301 = {
	type = country_event
	title = me_parthia.3301.t
	desc = me_parthia.3301.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.3301.a
		show_as_tooltip = {
			add_country_modifier = {
				name = parthian_iberia
				duration = 7300
			}
		}
	}
}

me_parthia.3302 = {
	type = country_event
	title = me_parthia.3302.t
	desc = me_parthia.3302.desc
	picture = greek_states_path_1_event

	left_portrait = current_ruler

	option = { #
		name = me_parthia.3302.a
		custom_tooltip = me_parthia.3302.a.tt
	}
}

me_parthia.3303 = {
	type = country_event
	hidden = yes
	
	immediate = {
		set_variable = had_pth3303_var
		if = {
			limit = {
				random_owned_province = {
					is_in_area = machelonia_area
				}
			}
			ordered_owned_province = { # Create whatever in Machelonia
				limit = {
					is_in_area = machelonia_area
				}
				order_by = total_population
				save_scope_as = scope_capital
				hidden_effect = {
					create_country = {
						save_scope_as = spawn_scope
					}
					every_province = {
						limit = {
							owner = ROOT
							is_in_area = scope:scope_capital
						}
						set_owned_by = scope:spawn_scope
					}					
				}
			}
		}
	}
}

me_parthia.9900 = { #Choose what region to hold directly - 1st step
    type = country_event 
	title = "me_parthia.9900.t"
	desc = "me_parthia.9900.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler

	immediate = {
		if = {
			limit = {
				any_region = {
					count >= 1
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
			}
			ordered_region = {
				limit = {
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_1
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 2
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1	
					}
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_2
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 3
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1
						this = scope:parthia_region_2	
					}
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_3
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 4
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1
						this = scope:parthia_region_2
						this = scope:parthia_region_3
					}
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_4
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 5
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = {
						this = scope:parthia_region_1
						this = scope:parthia_region_2
						this = scope:parthia_region_3
						this = scope:parthia_region_4
					}
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_5
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 6
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1
						this = scope:parthia_region_2
						this = scope:parthia_region_3
						this = scope:parthia_region_4
						this = scope:parthia_region_5	
					}
					any_region_province = {
						owner = ROOT
						NOT = { has_variable = allowed_province }
					}
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_6
			}
		}
	}
	
	option = { #1
		name = me_parthia.9900.a
		trigger = {
			exists = scope:parthia_region_1
		}
		if = {
			limit = { 
				scope:parthia_region_1 = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_1
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 1 }		
		}
		parthian_culture_effect = { WHICH = 1 }
		subtract_allowed_region_effect = yes
	}
	
	option = { #2
		name = me_parthia.9900.b
		trigger = {
			exists = scope:parthia_region_2
		}
		if = {
			limit = { 
				scope:parthia_region_2 = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_2
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 2 }		
		}
		parthian_culture_effect = { WHICH = 2 }
		subtract_allowed_region_effect = yes
	}
	
	option = { #3
		name = me_parthia.9900.c
		trigger = {
			exists = scope:parthia_region_3
		}
		if = {
			limit = { 
				scope:parthia_region_3 = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_3
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 3 }		
		}
		parthian_culture_effect = { WHICH = 3 }
		subtract_allowed_region_effect = yes
	}
	
	option = { #4
		name = me_parthia.9900.d
		trigger = {
			exists = scope:parthia_region_4
		}
		if = {
			limit = { 
				scope:parthia_region_4 = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_4
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 4 }		
		}
		parthian_culture_effect = { WHICH = 4 }
		subtract_allowed_region_effect = yes
	}
	
	option = { #5
		name = me_parthia.9900.e
		trigger = {
			exists = scope:parthia_region_5
		}
		if = {
			limit = { 
				scope:parthia_region_5 = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_5
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 5 }		
		}
		parthian_culture_effect = { WHICH = 5 }
		subtract_allowed_region_effect = yes
	}
	
	option = { #6
		name = me_parthia.9900.f
		trigger = {
			exists = scope:parthia_region_6
		}
		if = {
			limit = { 
				scope:parthia_region_6 = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_6
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}		
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 6 }		
		}
		parthian_culture_effect = { WHICH = 6 }
		subtract_allowed_region_effect = yes
	}
	
	after = {
		set_variable = {
			name = pth_region_cooldown
			days = 7300
		}
		if = {
			limit = {
				var:parthia_allowed_region_var >= 1
			}			
			trigger_event = me_parthia.9901
		}
		if = {
			limit = {
				var:parthia_allowed_region_var < 1
			}			
			trigger_event = me_parthia.9902
		}
	}
}

me_parthia.9901 = { #Choose what region to hold directly - later steps
    type = country_event 
	title = "me_parthia.9901.t"
	desc = "me_parthia.9901.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler

	immediate = {
		if = {
			limit = {
				any_region = {
					count >= 1
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }	
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}
				}
			}
			ordered_region = {
				limit = {
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}					
					}					
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_1a
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 2
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1a	
					}
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_2a
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 3
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1a
						this = scope:parthia_region_2a
					}
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_3a
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 4
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1a
						this = scope:parthia_region_2a
						this = scope:parthia_region_3a
					}
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_4a
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 5
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1a
						this = scope:parthia_region_2a
						this = scope:parthia_region_3a
						this = scope:parthia_region_4a
					}
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_5a
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 5
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1a
						this = scope:parthia_region_2a
						this = scope:parthia_region_3a
						this = scope:parthia_region_4a
						this = scope:parthia_region_5a					
					}
					any_region_province = {
						OR = {
							owner = ROOT
							owner = { is_subject_of = ROOT }
						}
						NOT = { has_variable = allowed_province }
						any_neighbor_province = {
							has_variable = allowed_province
						}
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_6a
			}
		}
	}
	
	option = { #1
		name = me_parthia.9900.a
		trigger = {
			exists = scope:parthia_region_1a
		}
		if = {
			limit = { 
				scope:parthia_region_1a = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_1a
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 1a }		
		}
		parthian_culture_effect = { WHICH = 1a }
		subtract_allowed_region_effect = yes
	}
	
	option = { #2
		name = me_parthia.9900.b
		trigger = {
			exists = scope:parthia_region_2a
		}
		if = {
			limit = { 
				scope:parthia_region_2a = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_2a
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march					
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 2a }		
		}
		parthian_culture_effect = { WHICH = 2a }
		subtract_allowed_region_effect = yes
	}
	
	option = { #3
		name = me_parthia.9900.c
		trigger = {
			exists = scope:parthia_region_3a
		}
		if = {
			limit = { 
				scope:parthia_region_3a = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_3a
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march				
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 3a }		
		}
		parthian_culture_effect = { WHICH = 3a }
		subtract_allowed_region_effect = yes
	}
	
	option = { #4
		name = me_parthia.9900.d
		trigger = {
			exists = scope:parthia_region_4a
		}
		if = {
			limit = { 
				scope:parthia_region_4a = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_4a
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march				
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 4a }		
		}
		parthian_culture_effect = { WHICH = 4a }
		subtract_allowed_region_effect = yes
	}
	
	option = { #5
		name = me_parthia.9900.e
		trigger = {
			exists = scope:parthia_region_5a
		}
		if = {
			limit = { 
				scope:parthia_region_5a = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_5a
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march				
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 5a }		
		}
		parthian_culture_effect = { WHICH = 5a }
		subtract_allowed_region_effect = yes
	}
	
	option = { #6
		name = me_parthia.9900.f
		trigger = {
			exists = scope:parthia_region_6a
		}
		if = {
			limit = { 
				scope:parthia_region_6a = region:parthia_region
			}
			custom_tooltip = me_parthia.9900.a.tt
		}
		if = {
			limit = { 
				any_subject = {
					capital_scope.region = scope:parthia_region_6a
					NOT = { has_variable = pth_excepted_var }
					is_subject_type = march				
				}
			}
			custom_tooltip = me_parthia.9900.b.tt
		}
		hidden_effect = {
			parthia_allow_region_eff = { WHICH = 6a }		
		}
		parthian_culture_effect = { WHICH = 6a }
		subtract_allowed_region_effect = yes
	}
	
	after = {
		if = {
			limit = {
				var:parthia_allowed_region_var >= 1
			}			
			trigger_event = me_parthia.9901
		}
		if = {
			limit = {
				var:parthia_allowed_region_var < 1
			}
			trigger_event = me_parthia.9902
		}
	}
}

me_parthia.9902 = { #spawn a march in an illegal region
    type = country_event 
    hidden = yes 

    immediate = {
		parthia_march_border_cleanup_eff = yes
		ordered_owned_province = {
			order_by = total_population
			limit = {
				NOT = {
					has_variable = allowed_province					
				}			
			}
			save_scope_as = capital_scope
		}
		scope:capital_scope = {
			create_country = {
				save_scope_as = spawn_scope
			}
		}
		ROOT = {
			make_subject = {
				target = scope:spawn_scope
				type = march
			} 						
		}
		scope:capital_scope.region = {
			every_region_province = {
				limit = {
					owner = ROOT
					NOT = {
						has_variable = allowed_province
					}
				}
				set_owned_by = scope:spawn_scope
			}
		}
		hidden_effect = {
			scope:spawn_scope = {
				new_march_colour_effect = yes
				parthia_rename_march_effect = yes
				parthian_change_culture_march_effect = yes
			}		
		}
		if = {
			limit = {
				any_subject = {
					is_subject_type = march
					capital_scope.region = scope:spawn_scope.capital_scope.region
					NOT = { THIS = scope:spawn_scope }
					NOT = { has_variable = pth_excepted_var }
				}
			}
			random_subject = {
				limit = {
					is_subject_type = march
					capital_scope.region = scope:spawn_scope.capital_scope.region
					NOT = { THIS = scope:spawn_scope }
					NOT = { has_variable = pth_excepted_var }
				}
				save_scope_as = previous_march
			}
			scope:spawn_scope = {
				every_owned_province = {
					set_owned_by = scope:previous_march
				}
				every_character = {
					death = {
						death_reason = death_obscurity
					}
				}
				every_country_treasure = { transfer_treasure_to_country = scope:previous_march }
			}
			scope:previous_march = {
				new_march_colour_effect = yes
				parthia_rename_march_effect = yes
				parthian_change_culture_march_effect = yes
				ordered_owned_province = {
					order_by = total_population
					save_scope_as = new_capital
				}
				set_capital = scope:new_capital
				if = {
					limit = {
						any_owned_province = {
							has_variable = allowed_province
						}
					}
					every_owned_province = {
						limit = {
							has_variable = allowed_province
						}
						set_owned_by = ROOT
					}
				}				
			}
		}
		if = { #debugging CAR and PES provinces, TODO maybe more elegant and universal solution
			limit = {
				any_subject = {
					THIS = c:CAM
					is_subject_type = march
					capital_scope.region = scope:spawn_scope.capital_scope.region
				}
			}
			c:CAM = {
				every_owned_province = {
					set_owned_by = ROOT
				}
				every_character = {
					death = {
						death_reason = death_obscurity
					}
				}
				every_country_treasure = { transfer_treasure_to_country = ROOT }
			}
		}
		if = {
			limit = {
				any_owned_province = {
					NOT = {
						has_variable = allowed_province
					}
				}
			}
			trigger_event = {
				id = me_parthia.9902
				days = 1
			}
		}
    }
}

me_parthia.9903 = { # change held region - once every 20 years
    type = country_event 
	title = "me_parthia.9903.t"
	desc = "me_parthia.9903.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler
	
	immediate = {
		if = {
			limit = {
				any_region = {
					count >= 1
					any_region_province = {
						has_variable = allowed_province					
					}
				}
			}
			ordered_region = {
				limit = {
					any_region_province = {
						has_variable = allowed_province					
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_1
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 2
					any_region_province = {
						has_variable = allowed_province					
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1
					}
					any_region_province = {
						has_variable = allowed_province					
					}			
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_2
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 3
					any_region_province = {
						has_variable = allowed_province					
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1
						this = scope:parthia_region_2
					}
					any_region_province = {
						has_variable = allowed_province					
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_3
			}
		}
		if = {
			limit = {
				any_region = {
					count >= 4
					any_region_province = {
						has_variable = allowed_province					
					}
				}
			}
			ordered_region = {
				limit = {
					NOR = { 
						this = scope:parthia_region_1
						this = scope:parthia_region_2
						this = scope:parthia_region_3
					}
					any_region_province = {
						has_variable = allowed_province					
					}				
				}
				order_by = parthia_region_pop_svalue
				save_scope_as = parthia_region_4
			}
		}
	}
	
	option = { #Remove region 1; annex
		name = me_parthia.9903.a
		trigger = {
			exists = scope:parthia_region_1
		}
		set_variable = {
			name = pth_region_cooldown
			days = 7300
		}
		custom_tooltip = me_parthia.9903.a.tt
		if = {
			limit = { 
				scope:parthia_region_1 = region:parthia_region
			}
			custom_tooltip = me_parthia.9903.aa.tt
		}
		scope:march_scope.capital_scope.region = {
			every_region_province = {
				set_variable = allowed_province			
			}
		}
		scope:march_scope = {
			hidden_effect = {
				every_owned_province = {
					set_owned_by = ROOT
				}
				ROOT = {
					random_country_culture = {
						limit = { THIS.culture = scope:march_scope.culture } 
						ROOT = { 
							integrate_country_culture = PREV 
						}
					}					
				}
				every_character = {
					death = {
						death_reason = death_obscurity
					}
				}
				every_country_treasure = { transfer_treasure_to_country = ROOT }
			}
		}
		pth_change_region_eff = { WHICH = 1 }
	}
	option = { #2
		name = me_parthia.9903.b
		trigger = {
			exists = scope:parthia_region_2
		}
		set_variable = {
			name = pth_region_cooldown
			days = 7300
		}
		custom_tooltip = me_parthia.9903.b.tt
		if = {
			limit = { 
				scope:parthia_region_2 = region:parthia_region
			}
			custom_tooltip = me_parthia.9903.aa.tt
		}
		scope:march_scope.capital_scope.region = {
			every_region_province = {
				set_variable = allowed_province			
			}
		}
		scope:march_scope = {
			hidden_effect = {
				every_owned_province = {
					set_owned_by = ROOT
				}
				ROOT = {
					random_country_culture = {
						limit = { THIS.culture = scope:march_scope.culture } 
						ROOT = { 
							integrate_country_culture = PREV 
						}
					}					
				}
				every_character = {
					death = {
						death_reason = death_obscurity
					}
				}
				every_country_treasure = { transfer_treasure_to_country = ROOT }
			}
		}
		pth_change_region_eff = { WHICH = 2 }
	}
	option = { #3
		name = me_parthia.9903.c
		trigger = {
			exists = scope:parthia_region_1
		}
		set_variable = {
			name = pth_region_cooldown
			days = 7300
		}
		if = {
			limit = { 
				scope:parthia_region_3 = region:parthia_region
			}
			custom_tooltip = me_parthia.9903.aa.tt
		}
		custom_tooltip = me_parthia.9903.c.tt
		scope:march_scope.capital_scope.region = {
			every_region_province = {
				set_variable = allowed_province			
			}
		}
		scope:march_scope = {
			hidden_effect = {
				every_owned_province = {
					set_owned_by = ROOT
				}
				ROOT = {
					random_country_culture = {
						limit = { THIS.culture = scope:march_scope.culture } 
						ROOT = { 
							integrate_country_culture = PREV 
						}
					}					
				}
				every_character = {
					death = {
						death_reason = death_obscurity
					}
				}
				every_country_treasure = { transfer_treasure_to_country = ROOT }
			}
		}
		pth_change_region_eff = { WHICH = 3 }
	}
	option = { #4
		name = me_parthia.9903.d
		trigger = {
			exists = scope:parthia_region_4
		}
		set_variable = {
			name = pth_region_cooldown
			days = 7300
		}
		if = {
			limit = { 
				scope:parthia_region_4 = region:parthia_region
			}
			custom_tooltip = me_parthia.9903.aa.tt
		}
		custom_tooltip = me_parthia.9903.d.tt
		scope:march_scope.capital_scope.region = {
			every_region_province = {
				set_variable = allowed_province			
			}
		}
		scope:march_scope = {
			hidden_effect = {
				every_owned_province = {
					set_owned_by = ROOT
				}
				ROOT = {
					random_country_culture = {
						limit = { THIS.culture = scope:march_scope.culture } 
						ROOT = { 
							integrate_country_culture = PREV 
						}
					}					
				}
				every_character = {
					death = {
						death_reason = death_obscurity
					}
				}
				every_country_treasure = { transfer_treasure_to_country = ROOT }
			}
		}
		pth_change_region_eff = { WHICH = 4 }
	}
	option = { # Don't
		name = me_parthia.9903.e
	}
	
	after = {
		if = {
			limit = {
				any_province = {
					has_variable = allowed_province
					owner = {
						NOT = { THIS = ROOT }
						NOT = { has_variable = pth_excepted_var }
						is_subject_of = ROOT
						is_subject_type = march
					}
				}
			}
			every_province = {
				limit = {
					has_variable = allowed_province
					owner = {
						NOT = { THIS = ROOT }
						NOT = { has_variable = pth_excepted_var }
						is_subject_of = ROOT
						is_subject_type = march
					}
				}
				set_owned_by = ROOT
			}
		}
		if = {
			limit = {
				any_owned_province = {
					NOT = {
						has_variable = allowed_province
					}
				}
			}
			trigger_event = {
				id = me_parthia.9902
			}
		}
	}
}

me_parthia.9910 = { #Build in march - choose whether city or settlement
    type = country_event 
	title = "me_parthia.9910.t"
	desc = "me_parthia.9910.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler

	option = { # settlement
		name = me_parthia.9910.a
		trigger_event = me_parthia.9911
	}

	option = { # settlement
		name = me_parthia.9910.b
		trigger_event = me_parthia.9913
	}
	
	option = { # nothing; leave
		name = me_parthia.9911.g
	}
}

me_parthia.9911 = { #Build in march - choose province
    type = country_event 
	title = "me_parthia.9911.t"
	desc = "me_parthia.9911.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler

	immediate = {
		scope:march_scope = {
			if = {
				limit = {
					any_owned_province = {
						count >= 1
						has_city_status = yes
					}
				}
				ordered_owned_province = {
					limit = {
						has_city_status = yes					
					}
					order_by = total_population
					save_scope_as = build_in_1
				}
			}
			if = {
				limit = {
					any_owned_province = {
						count >= 2
						has_city_status = yes
					}
				}
				ordered_owned_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
						}
						has_city_status = yes						
					}
					order_by = total_population
					save_scope_as = build_in_2
				}
			}
			if = {
				limit = {
					any_owned_province = {
						count >= 3
						has_city_status = yes
					}
				}
				ordered_owned_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
						}
						has_city_status = yes					
					}
					order_by = total_population
					save_scope_as = build_in_3
				}
			}
			if = {
				limit = {
					any_owned_province = {
						count >= 4
						has_city_status = yes
					}
				}
				ordered_owned_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3
						}
						has_city_status = yes					
					}
					order_by = total_population
					save_scope_as = build_in_4
				}
			}
			if = {
				limit = {
					any_owned_province = {
						count >= 5
						has_city_status = yes
					}
				}
				ordered_owned_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
						}
						has_city_status = yes					
					}
					order_by = total_population
					save_scope_as = build_in_5
				}
			}
			if = {
				limit = {
					any_owned_province = {
						count >= 6
						has_city_status = yes
					}
				}
				ordered_owned_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
							this = scope:build_in_5
						}
						has_city_status = yes						
					}
					order_by = total_population
					save_scope_as = build_in_6
				}
			}			
		}
	}

	option = { #1
		name = me_parthia.9911.a
		trigger = {
			exists = scope:build_in_1
		}
		scope:build_in_1 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9912
	}
	option = { #2
		name = me_parthia.9911.b
		trigger = {
			exists = scope:build_in_2
		}
		scope:build_in_2 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9912
	}
	option = { #3
		name = me_parthia.9911.c
		trigger = {
			exists = scope:build_in_3
		}
		scope:build_in_3 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9912
	}
	option = { #4
		name = me_parthia.9911.d
		trigger = {
			exists = scope:build_in_4
		}
		scope:build_in_4 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9912
	}
	option = { #5
		name = me_parthia.9911.e
		trigger = {
			exists = scope:build_in_5
		}
		scope:build_in_5 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9912
	}
	option = { #6
		name = me_parthia.9911.f
		trigger = {
			exists = scope:build_in_6
		}
		scope:build_in_6 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9912
	}
	option = { #Leave
		name = me_parthia.9911.g
	}	
}

me_parthia.9912 = { #Build in march - choose building
    type = country_event 
	title = "me_parthia.9912.t"
	desc = "me_parthia.9912.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler

	option = { #fortress
		name = me_parthia.9912.a
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = fortress_building
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #foundry
		name = me_parthia.9912.b
		trigger = {
			treasury >= building_T3_cost
			invention = centralised_production_inv
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = foundry_building 
		}
		add_treasury = {
			value = building_T3_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #aqueduct
		name = me_parthia.9912.c
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = aqueduct_building  
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #temple
		name = me_parthia.9912.d
		trigger = {
			treasury >= building_T3_cost
			invention = global_unrest_inv_2
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = temple_building   
		}
		add_treasury = {
			value = building_T3_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #theatre
		name = me_parthia.9912.e
		trigger = {
			treasury >= building_T3_cost
			invention = agressive_expansion_monthly_decay_inv_3
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = theathre_building    
		}
		add_treasury = {
			value = building_T3_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #academy
		name = me_parthia.9912.f
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = academy_building		
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #forum
		name = me_parthia.9912.g
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = forum_building			
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #mill
		name = me_parthia.9912.h
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = workshop_building
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #some pops
		name = me_parthia.9912.j
		trigger = {
			treasury >= 40
		}
		scope:build_in_scope = {
            while = {
                count = 5
				random_province = {   
					limit = {
						owner = scope:march_scope
						any_pops_in_province = {
							pop_type = slaves
						}
					}
					random_pops_in_province = {     
						limit = {
							pop_type = slaves
						}
						move_pop = scope:build_in_scope
					}
				}
				ROOT = { add_treasury = -8 }
			}
		}
	}
	option = { #nothing; leave event
		name = me_parthia.9910.g
	}
}

me_parthia.9913 = { #Build in march - settlement - choose area
    type = country_event
    title = me_parthia.9913.t
    desc = me_parthia.9913.desc
    picture = greek_home

    trigger = {}
	
	immediate = {
		if = {
			limit = {
				any_area = {
					count >= 1
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_1
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 2
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOT = { this = scope:area_1 }
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_2
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 3
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_3
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 4
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
						this = scope:area_3
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_4
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 5
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
						this = scope:area_3
						this = scope:area_4
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_5
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 6
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
						this = scope:area_3
						this = scope:area_4
						this = scope:area_5
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_6
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 7
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
						this = scope:area_3
						this = scope:area_4
						this = scope:area_5
						this = scope:area_6
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_7
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 8
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
						this = scope:area_3
						this = scope:area_4
						this = scope:area_5
						this = scope:area_6
						this = scope:area_7
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_8
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 9
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
						this = scope:area_3
						this = scope:area_4
						this = scope:area_5
						this = scope:area_6
						this = scope:area_7
						this = scope:area_8
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_9
			}
		}
		if = {
			limit = {
				any_area = {
					count >= 10
					any_area_province = {
						owner = scope:march_scope
					}
				}
			}
			ordered_area = {
				limit = {
					NOR = { 
						this = scope:area_1
						this = scope:area_2
						this = scope:area_3
						this = scope:area_4
						this = scope:area_5
						this = scope:area_6
						this = scope:area_7
						this = scope:area_8
						this = scope:area_9						
					}
					any_area_province = {
						owner = scope:march_scope
					}
				}
				save_scope_as = area_10
			}
		}
	}
	
	option = { #1
		name = me_parthia.9913.a
		trigger = {
			exists = scope:area_1
		}
		scope:area_1 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #2
		name = me_parthia.9913.b
		trigger = {
			exists = scope:area_2
		}
		scope:area_2 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #3
		name = me_parthia.9913.c
		trigger = {
			exists = scope:area_3
		}
		scope:area_3 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #4
		name = me_parthia.9913.d
		trigger = {
			exists = scope:area_4
		}
		scope:area_4 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #5
		name = me_parthia.9913.e
		trigger = {
			exists = scope:area_5
		}
		scope:area_5 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #6
		name = me_parthia.9913.f
		trigger = {
			exists = scope:area_6
		}
		scope:area_6 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #7
		name = me_parthia.9913.g
		trigger = {
			exists = scope:area_7
		}
		scope:area_7 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #8
		name = me_parthia.9913.h
		trigger = {
			exists = scope:area_8
		}
		scope:area_8 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #9
		name = me_parthia.9913.i
		trigger = {
			exists = scope:area_9
		}
		scope:area_9 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #10
		name = me_parthia.9913.j
		trigger = {
			exists = scope:area_10
		}
		scope:area_10 = { save_scope_as = build_in_area }
		trigger_event = me_parthia.9914
	}
	option = { #Leave
		name = me_parthia.9911.g
	}
}

me_parthia.9914 = { #Build in march - settlement - choose province
    type = country_event 
	title = "me_parthia.9914.t"
	desc = "me_parthia.9914.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler

	immediate = {
		scope:build_in_area = {
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0						
					}
					order_by = total_population
					save_scope_as = build_in_1
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0						
					}
					order_by = total_population
					save_scope_as = build_in_2
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0					
					}
					order_by = total_population
					save_scope_as = build_in_3
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0					
					}
					order_by = total_population
					save_scope_as = build_in_4
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0					
					}
					order_by = total_population
					save_scope_as = build_in_5
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
							this = scope:build_in_5
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0						
					}
					order_by = total_population
					save_scope_as = build_in_6
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
							this = scope:build_in_5
							this = scope:build_in_6
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0					
					}
					order_by = total_population
					save_scope_as = build_in_7
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
							this = scope:build_in_5
							this = scope:build_in_6	
							this = scope:build_in_7
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0					
					}
					order_by = total_population
					save_scope_as = build_in_8
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
							this = scope:build_in_5
							this = scope:build_in_6	
							this = scope:build_in_7
							this = scope:build_in_8	
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0						
					}
					order_by = total_population
					save_scope_as = build_in_9
				}
			}
			if = {
				limit = {
					any_area_province = {
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0
					}
				}
				ordered_area_province = {
					limit = {
						NOR = { 
							this = scope:build_in_1	
							this = scope:build_in_2
							this = scope:build_in_3	
							this = scope:build_in_4
							this = scope:build_in_5
							this = scope:build_in_6	
							this = scope:build_in_7
							this = scope:build_in_8	
							this = scope:build_in_9
						}
						has_city_status = no
						owner = scope:march_scope
						free_building_slots > 0						
					}
					order_by = total_population
					save_scope_as = build_in_10
				}
			}			
		}
	}

	option = { #1
		name = me_parthia.9914.a
		trigger = {
			exists = scope:build_in_1
		}
		scope:build_in_1 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #2
		name = me_parthia.9914.b
		trigger = {
			exists = scope:build_in_2
		}
		scope:build_in_2 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #3
		name = me_parthia.9914.c
		trigger = {
			exists = scope:build_in_3
		}
		scope:build_in_3 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #4
		name = me_parthia.9914.d
		trigger = {
			exists = scope:build_in_4
		}
		scope:build_in_4 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #5
		name = me_parthia.9914.e
		trigger = {
			exists = scope:build_in_5
		}
		scope:build_in_5 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #6
		name = me_parthia.9914.f
		trigger = {
			exists = scope:build_in_6
		}
		scope:build_in_6 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #7
		name = me_parthia.9914.g
		trigger = {
			exists = scope:build_in_7
		}
		scope:build_in_7 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #4
		name = me_parthia.9914.h
		trigger = {
			exists = scope:build_in_8
		}
		scope:build_in_8 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #9
		name = me_parthia.9914.i
		trigger = {
			exists = scope:build_in_9
		}
		scope:build_in_9 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #10
		name = me_parthia.9914.j
		trigger = {
			exists = scope:build_in_10
		}
		scope:build_in_10 = { save_scope_as = build_in_scope }
		trigger_event = me_parthia.9915
	}
	option = { #Leave
		name = me_parthia.9911.g
	}	
}

me_parthia.9915 = { #Build in march - settlement - choose building
    type = country_event 
	title = "me_parthia.9915.t"
	desc = "me_parthia.9915.desc"
	picture = event_horses_escaping
	left_portrait = current_ruler

	option = { #fortress
		name = me_parthia.9915.a
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = fortress_building
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #slave estate
		name = me_parthia.9915.b
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0 
			}
		}
		scope:build_in_scope = {
			add_building_level = latifundia_building 
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #mine 
		name = me_parthia.9915.c
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0
				has_minable_trade_good_trigger = yes				
			}
		}
		scope:build_in_scope = {
			add_building_level = slave_mine_building  
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #farm  
		name = me_parthia.9915.d
		trigger = {
			treasury >= building_T2_cost
			scope:build_in_scope = {
				free_building_slots > 0
				has_food_trade_good_trigger = yes
			}
		}
		scope:build_in_scope = {
			add_building_level = basic_settlement_infratructure_building   
		}
		add_treasury = {
			value = building_T2_cost
			multiply = build_cost_reductions
			multiply = -1
		}
	}
	option = { #found a city  
		name = me_parthia.9915.e
		trigger = {
			political_influence >= 50
		}
		scope:build_in_scope = {
			show_as_tooltip = { found_city_effect = yes }
			trigger_event = {
				id = state_improvement.6
			}
		}
		add_political_influence = -50
	}
	option = { #Leave
		name = me_parthia.9911.g
	}
}
