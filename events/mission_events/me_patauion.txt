namespace = me_patauion

me_patauion.1 = {
	type = country_event
	hidden = yes

	immediate = {
	    trigger_event = { id = me_patauion.16 }
	}
}

me_patauion.2 = {
	type = country_event
	hidden = yes

	immediate = {
		random_character = {
			limit = {
				is_alive = yes
	    		culture =  peloponnesian
	    		is_ruler = no
	    		NOR = {
	    		    has_variable = pat_event_choosen_character_1
	    		    has_variable = pat_event_choosen_character_2
	    		    has_variable = pat_event_choosen_character_3
	    		}
			}
			set_variable = pat_event_choosen_character_1
			save_scope_as = choosen_character_1
		}
		random_character = {
			limit = {
				is_alive = yes
	    		culture =  peloponnesian
	    		is_ruler = no
	    		NOR = {
	    		    has_variable = pat_event_choosen_character_1
	    		    has_variable = pat_event_choosen_character_2
	    		    has_variable = pat_event_choosen_character_3
	    		}
			}
			set_variable = pat_event_choosen_character_2
			save_scope_as = choosen_character_2
		}
		random_character = {
			limit = {
				is_alive = yes
	    		culture =  peloponnesian
	    		is_ruler = no
	    		NOR = {
	    		    has_variable = pat_event_choosen_character_1
	    		    has_variable = pat_event_choosen_character_2
	    		    has_variable = pat_event_choosen_character_3
	    		}
			}
			set_variable = pat_event_choosen_character_3
			save_scope_as = choosen_character_3
		}
	    trigger_event = { id = me_patauion.17 }#flavour event, - us spartans must stick together
	    every_character = {
	    	limit = {
	    		is_alive = yes
	    		culture =  peloponnesian
	    	}
	    	add_loyalty = loyalty_alliance
	    }
	}
}

me_patauion.3 = {
	type = country_event
	hidden = yes

	immediate = {
	    
	}
}

me_patauion.4 = {
	type = country_event
	hidden = yes

	immediate = {
	    
	}
}

me_patauion.5 = {
	type = country_event
	hidden = yes

	immediate = {
	    trigger_event = { id = me_patauion.18 }
	}
}

me_patauion.6 = {
	type = country_event
	hidden = yes

	immediate = {
	    remove_country_modifier = me_angry_patavi_cmod
	}
}

me_patauion.7 = {
	type = country_event
	hidden = yes

	immediate = {
	    remove_country_modifier = me_pat_difficulty_with_taxation_cmod
	}
}

me_patauion.8 = {
	type = country_event
	hidden = yes

	immediate = {
	    remove_country_modifier = me_pat_outnumbered_aristocracy_cmod
	    trigger_event = {
	    	id = me_patauion.19
	    }
	}
}

me_patauion.9 = {
	type = country_event
	hidden = yes

	immediate = {
	    remove_country_modifier = me_pat_difficulty_with_taxation_cmod
	}
}

me_patauion.10 = {
	type = country_event
	hidden = yes

	immediate = {
	    remove_country_modifier = me_angry_patavi_cmod
	}
}

me_patauion.11 = {
	type = country_event
	hidden = yes

	immediate = {
	    remove_country_modifier = me_pat_outnumbered_aristocracy_cmod
	    trigger_event = { id = me_patauion.20 }
	}
}

me_patauion.12 = {
	type = country_event
	hidden = yes

	immediate = {
	    
	}
}

me_patauion.13 = {
	type = country_event
	hidden = yes

	immediate = {
	    
	}
}

me_patauion.14 = {
	type = country_event
	hidden = yes

	immediate = {
	    
	}
}

me_patauion.15 = {
	type = country_event
	hidden = yes

	immediate = {
	    
	}
}

me_patauion.16 = { #unstable patauion flavour event
	type = country_event 
	title = me_patauion.16.t
	desc = me_patauion.16.desc 
	picture = dagger_behind_back
	left_portrait = current_ruler

	immediate = {
		add_country_modifier = {
			name = me_angry_patavi_cmod
			duration = -1
		}
		add_country_modifier = {
			name = me_pat_outnumbered_aristocracy_cmod
			duration = -1
		}
		add_country_modifier = {
			name = me_pat_difficulty_with_taxation_cmod
			duration = -1
		}
	}

	option = {
		name = me_patauion.16.a
		custom_tooltip = "me_patauion.16.a_tt"
	}
}

me_patauion.17 = { #united aristocracy flavour event
	type = country_event 
	title = me_patauion.17.t
	desc = me_patauion.17.desc 
	picture = greek_court
	left_portrait = current_ruler
	left_portrait = scope:choosen_character_1
	right_portrait = scope:choosen_character_2
	right_portrait = scope:choosen_character_3

	option = {
		name = me_patauion.17.a #Us Spartans must stick together
		custom_tooltip = "me_patauion.17.a_tt" 
	}
}

me_patauion.18 = { #future of Patauion
	type = country_event 
	title = me_patauion.18.t
	desc = me_patauion.18.desc 
	picture = trial_govtype
	left_portrait = current_ruler

	option = {
		name = me_patauion.18.a #Kleonymos is gone, we must look for another destiny to follow...
		custom_tooltip = "me_patauion.18.a_tt" 
        trigger = {
            NOT = {
            	current_ruler = char:176
            }
        }
        set_variable = PAT_forging_a_new_path_for_patauion
	}

	option = {
		name = me_patauion.18.b #Kleonymos will lead us, as he lead us to this land.
		custom_tooltip = "me_patauion.18.b_tt" 
        trigger = {
            current_ruler = char:176
        }
        set_variable = PAT_forging_a_true_spartan_patauion
	}

	option = {
		name = me_patauion.18.c #Kleonymos' plans will lead us to ruin, we need new leadership.
		custom_tooltip = "me_patauion.18.c_tt" 
        trigger = {
            current_ruler = char:176
        }
        set_variable = PAT_forging_a_new_path_for_patauion
        hidden_effect = {
            set_as_ruler = root.primary_heir
        }
	}
}

me_patauion.19 = { #A new venetic-spartan patauion
	type = country_event 
	title = me_patauion.19.t
	desc = me_patauion.19.desc 
	picture = greek_philosophers
	left_portrait = current_ruler

	option = {
		name = me_patauion.19.a
		custom_tooltip = "me_patauion.19.a_tt"
		custom_tooltip = "reform_patauion_completion_tt_1"
	    custom_tooltip = "reform_patauion_completion_tt_2"
	    set_country_heritage = spartan_patavium_late_heritage_1
	    hidden_effect = {
            every_owned_province = {
            	every_pops_in_province = {
            		if = {
            		    limit = {
            		    	pop_culture = peloponnesian
            		    }
            		    set_pop_culture = enetoian
            		    set_pop_religion = root.religion
            		}
            	}
            	random_pops_in_province = {
            		limit = {
            			pop_culture = venetic
            		}
            		set_pop_culture = enetoian
            		set_pop_religion = root.religion
            	}
            	random_pops_in_province = {
            		limit = {
            			pop_culture = venetic
            		}
            		set_pop_culture = enetoian
            		set_pop_religion = root.religion
            	}
            	random_pops_in_province = {
            		limit = {
            			pop_culture = venetic
            		}
            		set_pop_culture = enetoian
            		set_pop_religion = root.religion
            	}
            	random_pops_in_province = {
            		limit = {
            			pop_culture = venetic
            		}
            		set_pop_culture = enetoian
            		set_pop_religion = root.religion
            	}
            	random_pops_in_province = {
            		limit = {
            			pop_culture = venetic
            		}
            		set_pop_culture = enetoian
            		set_pop_religion = root.religion
            	}
            	random_pops_in_province = {
            		limit = {
            			pop_culture = venetic
            		}
            		set_pop_culture = enetoian
            		set_pop_religion = root.religion
            	}
            }    
            set_primary_culture_cleanup_effect = {
                NEW_PRIMARY_CULTURE = enetoian
                MAKE_OLD_CULTURE_INTEGRATED = yes
            }
            every_character = {
            	limit = {
            		is_alive = yes
            		OR = {
            		    has_culture = peloponnesian
            		    has_religion = roman_pantheon
            		}
            	}
            	set_culture = enetoian
            }	
        }
	}
}

me_patauion.20 = { #A new Spartan Kingdom
	type = country_event 
	title = me_patauion.20.t
	desc = me_patauion.20.desc 
	picture = greek_city
	left_portrait = current_ruler

	option = {
		name = me_patauion.20.a
		custom_tooltip = "me_patauion.20.a_tt"
        set_country_heritage = spartan_patavium_late_heritage_2
	}
}