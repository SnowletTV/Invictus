namespace = me_rhodes

me_rhodes.1 = {	#Egyptian Ties
    type = country_event
    title = me_rhodes_1_title
    desc = me_rhodes_1_desc
    picture = interesting_histories_greek_debate

    left_portrait = current_ruler
    right_portrait = char:42

    option = {
        name = me_rhodes.1.a
        #Offer to enter an Alliance
        #Lose traditionalist support and add other support
		add_party_approval = {
			party_type = oligarchic_party
			value = 5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = -5
		}
		c:EGY = {
			trigger_event = {
				id = me_rhodes.2
				days = { 5 10 }
			}
		}
    }
    option = {
        name = me_rhodes.1.b
        #Send gifts with the offer
        add_treasury = -50
        current_ruler = {
        	add_gold = -100
        }
    	reverse_add_opinion = {
    		target = c:EGY
    		modifier = opinion_gift
    	}
		add_party_approval = {
			party_type = oligarchic_party
			value = 5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = -5
		}
		c:EGY = {
			set_variable = {
				name = rhodes_sent_us_da_cash
				days = 180
			}
			trigger_event = {
				id = me_rhodes.2
				days = { 5 10 }
			}
		}
    }
    option = {
        name = me_rhodes.1.c
        #Rhodes will stay neutral
        #Add traditionalist support and lose other support
        add_political_influence = 15
		add_party_approval = {
			party_type = oligarchic_party
			value = -5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = 5
		}
    }
}
me_rhodes.2 = {	#Egypt response
    type = country_event
    title = me_rhodes_2_title
    desc = me_rhodes_2_desc
    picture = interesting_histories_greek_debate

    right_portrait = c:RHO.current_ruler
    left_portrait = current_ruler

    immediate = {
    	if = {
    		limit = {
    			has_variable = rhodes_sent_us_da_cash
    		}
    		add_treasury = 50
    		current_ruler = {
    			add_gold = 100
    		}
            set_variable = {
                name = ptolemy_alliance_decision_var
                value = {
                    integer_range = {
                        min = 3
                        max = 6
                    }
                }
                days = 180
            }
    	}
        else = {
            set_variable = {
                name = ptolemy_alliance_decision_var
                value = {
                    integer_range = {
                        min = 1
                        max = 5
                    }
                }
                days = 180
            }
        }
    }

    option = {
        name = me_rhodes.2.a
        #We will accept their alliance offer
        add_alliance = c:RHO
        c:RHO = {
        	set_variable = {
        		name = egypt_accepted_alliance
        		days = 180
        	}
			trigger_event = {
				id = me_rhodes.3
				days = { 15 30 }
			}
        }
		ai_chance = {
			base = 5
			modifier = {
				factor = -50
				var:ptolemy_alliance_decision_var <= 3
			}
            modifier = {
                factor = 50
                var:ptolemy_alliance_decision_var >= 4
            }
		}
    }
    option = {
        name = me_rhodes.2.b
        #Offer them to become a tributary (ai only)
        trigger = {
        	c:RHO = { is_ai = yes }
        	c:EGY = { is_ai = yes }
        }
		make_subject = {
			target = c:RHO
			type = tributary
		}
		ai_chance = {
			base = 5
            modifier = {
                factor = 25
                var:ptolemy_alliance_decision_var <= 3
            }
            modifier = {
                factor = -25
                var:ptolemy_alliance_decision_var >= 4
            }
		}
    }
    option = {
        name = me_rhodes.2.c
        #Egypt wants nothing to do with Rhodes!
        add_political_influence = 5
        c:RHO = {
        	set_variable = {
        		name = egypt_declined_alliance
        		days = 180
        	}
			trigger_event = {
				id = me_rhodes.3
				days = { 15 30 }
			}
        }
		ai_chance = {
			base = 5
            modifier = {
                factor = 50
                var:ptolemy_alliance_decision_var <= 3
            }
            modifier = {
                factor = -50
                var:ptolemy_alliance_decision_var >= 4
            }
		}
    }
}
me_rhodes.3 = {
    type = country_event
    title = me_rhodes_3_title
	desc = {
		first_valid = {
			triggered_desc = {	##Accepted Description
				trigger = { has_variable = egypt_declined_alliance }
				desc = "me_rhodes_3_desc_1"
			}
			triggered_desc = {	##Declined Description
				trigger = { has_variable = egypt_accepted_alliance }
				desc = "me_rhodes_3_desc_2"
			}
		}
	}
    picture = interesting_histories_greek_debate

    left_portrait = current_ruler
    right_portrait = char:42

    option = {
        name = me_rhodes.3.a
        trigger = { has_variable = egypt_declined_alliance }
        #Oh Well
    }
    option = {
        name = me_rhodes.3.b
        trigger = { has_variable = egypt_accepted_alliance}
        #This is Great News!
        show_as_tooltip = {
        	add_alliance = c:EGY
        }
    }
}
me_rhodes.4 = {
    type = country_event
    title = me_rhodes_4_title
	desc = me_rhodes_4_desc
    picture = war_chest
    left_portrait = current_ruler

    immediate = {
    	random_list = {
    		25 = {
	    		set_variable = {
	    			name = small_rewards
	    			days = 365
	    		}
    		}
    		25 = {
	    		set_variable = {
	    			name = medium_rewards
	    			days = 365
	    		}
    		}
    		25 = {
	    		set_variable = {
	    			name = large_rewards
	    			days = 365
	    		}
    		}
    		25 = {
	    		set_variable = {
	    			name = massive_rewards
	    			days = 365
	    		}
    		}
    	}
    }

    option = {
        name = me_rhodes.4.a
        #Find some buyers
        set_variable = {
        	name = gold_rewards
        	days = 365
        }
    }
    option = {
        name = me_rhodes.4.b
        #Integrate them into the army (add mil xp)
        set_variable = {
        	name = military_rewards
        	days = 365
        }
    }
    option = {
        name = me_rhodes.4.c
        #Study their methods (Add siege ability modifier)
        set_variable = {
        	name = knowledge_rewards
        	days = 365
        }
    }
    option = {
        name = me_rhodes.4.d
        #Break it down for building materials
        set_variable = {
        	name = building_rewards
        	days = 365
        }
    }
}
me_rhodes.5 = {
    type = country_event
    title = me_rhodes_5_title
	desc = me_rhodes_5_desc
    picture = war_chest

    option = {
        name = me_rhodes.5.a
        trigger = { has_variable = gold_rewards }
        switch = {
        	trigger = has_variable
        	small_rewards = { add_treasury = 150 }
        	medium_rewards = { add_treasury = 200 }
        	large_rewards = { add_treasury = 250 }
        	massive_rewards = { add_treasury = 400 }
        }
    }
    option = {
        name = me_rhodes.5.b
        trigger = { has_variable = military_rewards }
        switch = {
        	trigger = has_variable
        	small_rewards = { add_military_experience = 10 }
        	medium_rewards = { add_military_experience = 20 }
        	large_rewards = { add_military_experience = 30 }
        	massive_rewards = { add_military_experience = 40 }
        }
        add_country_modifier = {
        	name = siegeworks_morale_boost
        	duration = 3650
        }
    }
    option = {
        name = me_rhodes.5.c
        trigger = { has_variable = knowledge_rewards }
        switch = {
        	trigger = has_variable
        	small_rewards = { add_military_experience = 10 }
        	medium_rewards = { add_military_experience = 20 }
        	large_rewards = { add_military_experience = 30 }
        	massive_rewards = { add_military_experience = 40 }
        }
        add_country_modifier = {
        	name = siegeworks_siege_boost
        	duration = 3650
        }
    }
    option = {
        name = me_rhodes.5.d
        trigger = { has_variable = building_rewards }
        switch = {
        	trigger = has_variable
        	small_rewards = { add_treasury = 50 }
        	medium_rewards = { add_treasury = 75 }
        	large_rewards = { add_treasury = 100 }
        	massive_rewards = { add_treasury = 150 }
        }
        add_country_modifier = {
        	name = siegeworks_build_boost
        	duration = 1925
        }
    }
}
me_rhodes.6 = {	#Restoration of Rhodes: Securing Funds
    type = country_event
    title = me_rhodes_6_title
	desc = me_rhodes_6_desc
    picture = interesting_histories_hellenic_city_rebuild
    left_portrait = current_ruler

    option = {
        name = me_rhodes.6.a
        #GET RULER will cover the costs
      	current_ruler = {
      		add_gold = -200
      	}
    }
    option = {
        name = me_rhodes.6.b
        #Dig into the national treasury
        add_treasury = -200
    }
    option = {	#Extort Party leaders
        name = me_rhodes.6.c
        #
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                add_gold = -100
                add_loyalty = party_leader_extorted
            }
			add_party_approval = {
				party_type = traditionalist_party
				value = -5
			}
        }
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                add_gold = -100
                add_loyalty = party_leader_extorted
            }
			add_party_approval = {
				party_type = democratic_party
				value = -5
			}
        }
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                add_gold = -100
                add_loyalty = party_leader_extorted
            }
			add_party_approval = {
				party_type = oligarchic_party
				value = -5
			}
        }
        if = {
        	limit = {
        		NOT = { current_ruler = { has_trait = corrupt } }
        	}
	        current_ruler = {
	        	add_trait = corrupt
	        }
        }
    }
}
me_rhodes.7 = {	#Rhodes Rebuilt
    type = country_event
    title = me_rhodes_7_title
	desc = me_rhodes_7_desc
    picture = interesting_histories_hellenic_dock

    option = {
        name = me_rhodes.7.a
        add_political_influence = 25
        p:266.state = {
            add_state_modifier = {
                name = restored_rhodes
                duration = 9125
            }
        }
		p:266 = {
			remove_province_modifier = devestation
		}
		p:1830 = {
			remove_province_modifier = devestation
		}
		p:8015 = {
			remove_province_modifier = devestation
		}
    }
}
me_rhodes.8 = {	#The People of Kos
    type = country_event
    title = me_rhodes_8_title
	desc = me_rhodes_8_desc
    picture = interesting_histories_greek_debate


    option = {
        name = me_rhodes.8.a
        #Advocating for Independence
        trigger = {
        	c:KOS = {
         		is_subject = yes
         	}
        }
        add_treasury = -50
        hidden_effect = {
	    	random_country = {
	    		limit = {
	    			is_overlord = yes
					any_subject = {
						tag = KOS
					}
	    		}
	    		save_scope_as = kos_overlord_country
	    	}
	    	scope:kos_overlord_country = {
	    		trigger_event = {
	    			id = me_rhodes.14
	    		}
	    	}
        }
    }
    option = {
        name = me_rhodes.8.b
        #Send an offer to become our feudatory
        trigger = {
        	c:KOS = {
         		is_subject = no
         	}
        }
        add_treasury = -50
        c:KOS = {
        	trigger_event = {
        		id = me_rhodes.15
        	}
        }
    }
    option = {
        name = me_rhodes.8.c
        #We don't need them!
    }
}
me_rhodes.9 = {	#The People of Knidos
    type = country_event
    title = me_rhodes_9_title
	desc = me_rhodes_9_desc
    picture = interesting_histories_greek_debate


    option = {
        name = me_rhodes.9.a
        #Aggitating for Independence
        trigger = {
        	c:KNI = {
         		is_subject = yes
         	}
        }
        hidden_effect = {
	    	random_country = {
	    		limit = {
	    			is_overlord = yes
					any_subject = {
						tag = KNI
					}
	    		}
	    		save_scope_as = knidos_overlord_country
	    	}
	    	scope:knidos_overlord_country = {
	    		trigger_event = {
	    			id = me_rhodes.16
	    		}
	    	}
        }
        add_treasury = -50
    }
    option = {
        name = me_rhodes.9.b
        #Send an offer to become our feudatory
        trigger = {
        	c:KNI = {
         		is_subject = no
         	}
        }
        add_treasury = -50
        trigger_event = {
        	id = me_rhodes.13
        	days = { 60 90 }
        }
    }
    option = {
        name = me_rhodes.9.c
        #We don't need them!
    }
}
me_rhodes.10 = {	#Independence of Kos
    type = country_event
    title = me_rhodes_10_title
	desc = {
		first_valid = {
			triggered_desc = {	##Independence Accepted
				trigger = { has_global_variable = kos_independence_accepted }
				desc = "me_rhodes_10_desc_1"
			}
			triggered_desc = {	##Independence Rejected
				trigger = { has_global_variable = kos_independence_rejected }
				desc = "me_rhodes_10_desc_2"
			}
		}
	}
    picture = interesting_histories_greek_debate

    immediate = {
    	random_country = {
    		limit = {
    			is_overlord = yes
				any_subject = {
					tag = KOS
				}
    		}
    		save_scope_as = kos_overlord_country
    	}
    }

    option = {
        name = me_rhodes.10.a
        trigger = { has_global_variable = kos_independence_accepted }
        scope:kos_overlord_country = {
        	release_subject = c:KOS
        }
    }
    option = {
        name = me_rhodes.10.b
        trigger = { has_global_variable = kos_independence_rejected }
        add_political_influence = -5
    }
}
me_rhodes.11 = {	#Kos: The question of Independence
    type = country_event
    title = me_rhodes_11_title
	desc = {
		first_valid = {
			triggered_desc = {	##Subject Accepted
				trigger = { has_global_variable = kos_subject_accepted }
				desc = "me_rhodes_11_desc_1"
			}
			triggered_desc = {	##Subject Rejected
				trigger = { has_global_variable = kos_subject_rejected }
				desc = "me_rhodes_11_desc_2"
			}
		}
	}
    picture = interesting_histories_greek_debate

    option = {
        name = me_rhodes.11.a
        trigger = { has_global_variable = kos_subject_accepted }
        make_subject = {
        	type = feudatory
            target = c:KOS
        }
    }
    option = {
        name = me_rhodes.11.b
        trigger = { has_global_variable = kos_subject_rejected }
        add_political_influence = -5
    }
}
me_rhodes.12 = {	#Independence of Knidos
    type = country_event
    title = me_rhodes_12_title
	desc = {
		first_valid = {
			triggered_desc = {	##Independence Accepted
				trigger = { has_global_variable = knidos_independence_accepted }
				desc = "me_rhodes_12_desc_1"
			}
			triggered_desc = {	##Independence Rejected
				trigger = { has_global_variable = knidos_independence_rejected }
				desc = "me_rhodes_12_desc_2"
			}
		}
	}
    picture = interesting_histories_greek_debate

    immediate = {
    	random_country = {
    		limit = {
    			is_overlord = yes
				any_subject = {
					tag = KNI
				}
    		}
    		save_scope_as = knidos_overlord_country
    	}
    }

    option = {
        name = me_rhodes.12.a
        trigger = { has_global_variable = knidos_independence_accepted }
        scope:knidos_overlord_country = {
        	release_subject = c:KNI
        }
    }
    option = {
        name = me_rhodes.12.b
        trigger = { has_global_variable = knidos_independence_rejected }
        add_political_influence = -5
    }
}
me_rhodes.13 = {	#Knidos: A New Subject
    type = country_event
    title = me_rhodes_13_title
	desc = {
		first_valid = {
			triggered_desc = {	##Independence Accepted
				trigger = { has_global_variable = knidos_subject_accepted }
				desc = "me_rhodes_13_desc_1"
			}
			triggered_desc = {	##Independence Rejected
				trigger = { has_global_variable = knidos_subject_rejected }
				desc = "me_rhodes_13_desc_2"
			}
		}
	}
    picture = interesting_histories_greek_debate

    option = {
        name = me_rhodes.13.a
        trigger = { has_global_variable = knidos_subject_accepted }
        make_subject = {
        	type = feudatory
            target = c:KNI
        }
    }
    option = {
        name = me_rhodes.13.b
        trigger = { has_global_variable = knidos_subject_rejected }
        add_political_influence = -5
    }
}
me_rhodes.14 = {	#Kos Overlord Response
    type = country_event
    title = me_rhodes_14_title
	desc = me_rhodes_14_desc
    picture = interesting_histories_greek_debate

    immediate = {
    	random_list = {
    		50 = {
				modifier = {
					factor = 50
					c:EGY = {
						alliance_with = c:RHO
					}
				}
    			set_global_variable = {
    				name = kos_independence_accepted
    				days = 180
    			}
    		}
    		25 = {
    			set_global_variable = {
    				name = kos_independence_rejected
    				days = 180
    			}
    		}
    	}
    }

    option = {
        name = me_rhodes.14.a
        #Not a chance
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = kos_independence_rejected
			}
		}
    }
    option = {
        name = me_rhodes.14.b
        #We don't need them anyway
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = kos_independence_accepted
			}
		}
    }
    after = {
    	c:RHO = {
	        trigger_event = {
	        	id = me_rhodes.10
	        	days = { 60 90 }
	        }
        }
    }
}
me_rhodes.15 = {	#Kos Subject Response
    type = country_event
    title = me_rhodes_15_title
	desc = me_rhodes_15_desc
    picture = interesting_histories_greek_debate

    immediate = {
    	random_list = {
    		50 = {
    			set_global_variable = {
    				name = kos_subject_accepted
    				days = 180
    			}
    		}
    		50 = {
    			set_global_variable = {
    				name = kos_subject_rejected
    				days = 180
    			}
    		}
    	}
    }

    option = {
        name = me_rhodes.15.a
        #Not a chance
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = kos_subject_rejected
			}
		}
    }
    option = {
        name = me_rhodes.15.b
        #We don't need Rhodes
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = kos_subject_rejected
			}
		}
    }
    after = {
    	c:RHO = {
	        trigger_event = {
	        	id = me_rhodes.11
	        	days = { 30 40 }
	        }
        }
    }
}
me_rhodes.16 = {	#Knidos Overlord Response
    type = country_event
    title = me_rhodes_16_title
	desc = me_rhodes_16_desc
    picture = interesting_histories_greek_debate

    immediate = {
    	random_list = {
    		50 = {
				modifier = {
					factor = 50
					scope:knidos_overlord_country = {
						alliance_with = c:RHO
					}
				}
    			set_global_variable = {
    				name = knidos_independence_accepted
    				days = 180
    			}
    		}
    		25 = {
    			set_global_variable = {
    				name = knidos_independence_rejected
    				days = 180
    			}
    		}
    	}
    }

    option = {
        name = me_rhodes.16.a
        #Not a chance
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = knidos_independence_rejected
			}
		}
    }
    option = {
        name = me_rhodes.16.b
        #We don't need them anyway
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = knidos_independence_accepted
			}
		}
    }
    after = {
    	c:RHO = {
	        trigger_event = {
	        	id = me_rhodes.12
	        	days = { 60 90 }
	        }
        }
    }
}
me_rhodes.17 = {	#Knidos Subject Response
    type = country_event
    title = me_rhodes_17_title
	desc = me_rhodes_17_desc
    picture = interesting_histories_greek_debate

    immediate = {
    	random_list = {
    		50 = {
    			set_global_variable = {
    				name = knidos_subject_accepted
    				days = 180
    			}
    		}
    		50 = {
    			set_global_variable = {
    				name = knidos_subject_rejected
    				days = 180
    			}
    		}
    	}
    }

    option = {
        name = me_rhodes.17.a
        #Not a chance
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = kos_subject_rejected
			}
		}
    }
    option = {
        name = me_rhodes.17.b
        #We don't need Rhodes
		ai_chance = {
			base = 5
			modifier = {
				factor = 1000
				has_global_variable = kos_subject_rejected
			}
		}
    }
    after = {
    	c:RHO = {
	        trigger_event = {
	        	id = me_rhodes.13
	        	days = { 30 40 }
	        }
        }
    }
}
me_rhodes.18 = {	#The Matter of Lindos
    type = country_event
    title = me_rhodes_18_title
	desc = me_rhodes_18_desc
    picture = hellenic_marketplace

    option = {
        name = me_rhodes.18.a
        #A Trading Center
        p:1830 = {
        	add_province_modifier = {
        		name = rhodes_trading_center
        		duration = -1
        	}
        }
    }
    option = {
        name = me_rhodes.18.b
        #A Military Center
        p:1830 = {
        	add_province_modifier = {
        		name = rhodes_military_center
        		duration = -1
        	}
        }
    }
    option = {
        name = me_rhodes.18.c
        #Focus on Civic Development
        p:1830 = {
        	add_province_modifier = {
        		name = rhodes_civic_center
        		duration = -1
        	}
        }
    }
    after = {
    	custom_tooltip = me_rhodes.18.c.tt
    	trigger_event = {
    		id = me_rhodes.19
    		days = { 5 10 }
    	}
    }
}
me_rhodes.19 = {	#Trade Goods of Lindos
    type = country_event
    title = me_rhodes_19_title
	desc = me_rhodes_19_desc
    picture = hellenic_marketplace

    option = {
        name = me_rhodes.19.a
        #Stick to Wine
    }
    option = {
        name = me_rhodes.19.b
        #Glass
        trigger = {
            p:1830.state = {
                trade_good_surplus = { target = glass value >= 1 }
            }
        }
        p:1830 = {
        	set_trade_goods = glass
        }
    }
    option = {
        name = me_rhodes.19.c
        #Marble
        trigger = {
            p:1830.state = {
                trade_good_surplus = { target = marble value >= 1 }
            }
        }
        p:1830 = {
        	set_trade_goods = marble
        }
    }
    option = {
        name = me_rhodes.19.d
        #Dyes
        trigger = {
            p:1830.state = {
                trade_good_surplus = { target = dye value >= 1 }
            }
        }
        p:1830 = {
        	set_trade_goods = dye
        }
    }
    option = {
        name = me_rhodes.19.e
        #papyrus
        trigger = {
            p:1830.state = {
                trade_good_surplus = { target = papyrus value >= 1 }
            }
        }
        p:1830 = {
        	set_trade_goods = papyrus
        }
    }
    option = {
        name = me_rhodes.19.f
        #cloth
        trigger = {
            p:1830.state = {
                trade_good_surplus = { target = cloth value >= 1 }
            }
        }
        p:1830 = {
        	set_trade_goods = cloth
        }
    }
    option = {
        name = me_rhodes.19.g
        #precious_metals
        trigger = {
            p:1830.state = {
                trade_good_surplus = { target = precious_metals value >= 1 }
            }
        }
        p:1830 = {
        	set_trade_goods = precious_metals
        }
    }
}
me_rhodes.20 = {	#Creatan Ties: Sending an Offer
    type = country_event
    title = me_rhodes_20_title
	desc = me_rhodes_20_desc
    picture = interesting_histories_greek_debate

    immediate = {
    	ordered_country = {
    		limit = {
    			primary_culture = cretan
    			alliance_with = c:RHO
    		}
    		order_by = num_of_cities
    		max = 1
    		save_scope_as = crete_ally_country
    	}
    }

    option = {
        name = me_rhodes.20.a
        #Send Gifts with our offer
        add_treasury = -100
		add_party_approval = {
			party_type = oligarchic_party
			value = 5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = -5
		}
        set_global_variable = {
        	name = sent_some_gifts
        	days = 365
        }
    }
    option = {
        name = me_rhodes.20.b
        #The Ruler will personally pay for it
        current_ruler = { add_gold = -100 }
		add_party_approval = {
			party_type = oligarchic_party
			value = 5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = -5
		}
        set_global_variable = {
        	name = sent_some_gifts
        	days = 365
        }
    }
    option = {
        name = me_rhodes.20.c
        #Extort the Parties
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                add_gold = -50
                add_loyalty = party_leader_extorted
            }
			add_party_approval = {
				party_type = traditionalist_party
				value = -5
			}
        }
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                add_gold = -50
                add_loyalty = party_leader_extorted
            }
			add_party_approval = {
				party_type = democratic_party
				value = -5
			}
        }
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                add_gold = -50
                add_loyalty = party_leader_extorted
            }
			add_party_approval = {
				party_type = oligarchic_party
				value = -5
			}
        }
        set_global_variable = {
        	name = sent_some_gifts
        	days = 365
        }
    }
    option = {
        name = me_rhodes.20.d
        #Apply Political Pressure
        add_political_influence = -35
        set_global_variable = {
        	name = sent_some_gifts
        	days = 365
        }
    }
    option = {
        name = me_rhodes.20.e
        #A Simple offer will do
    }
    option = {
        name = me_rhodes.20.f
        #We shall stay allies...for now
		add_party_approval = {
			party_type = oligarchic_party
			value = -5
		}
		add_party_approval = {
			party_type = traditionalist_party
			value = 5
		}
        set_variable = {
        	name = why_would_you_pick_this_option
        	days = 365
        }
    }
    after = {
    	if = {
    		limit = {
    			NOT = { has_variable = why_would_you_pick_this_option }
    		}
    		scope:crete_ally_country = {
    			trigger_event = {
    				id = me_rhodes.21
    				days = { 5 10 }
    			}
    		}
    	}
    }
}
me_rhodes.21 = {	#Crete Ally country Response
    type = country_event
    title = me_rhodes_21_title
	desc = me_rhodes_21_desc
    picture = interesting_histories_greek_debate

    immediate = {
        if = {
            limit = { has_global_variable = sent_some_gifts }
            set_variable = {
                name = crete_alliance_decision_var
                value = {
                    integer_range = {
                        min = 3
                        max = 6
                    }
                }
                days = 180
            }
        }
        else = {
            set_variable = {
                name = crete_alliance_decision_var
                value = {
                    integer_range = {
                        min = 1
                        max = 5
                    }
                }
                days = 180
            }
        }
    }

    option = {
        name = me_rhodes.21.a
        #We Accept
        set_global_variable = {
        	name = subject_offer_accepted
        	days = 365
        }
        c:RHO = {
			make_subject = {
				target = scope:crete_ally_country
				type = feudatory
			}
        }
        ai_chance = {
            base = 5
            modifier = {
                factor = -50
                var:crete_alliance_decision_var <= 3
            }
            modifier = {
                factor = 50
                var:crete_alliance_decision_var >= 4
            }
        }
    }
    option = {
        name = me_rhodes.21.b
        #Not a Chance
        set_global_variable = {
        	name = subject_offer_declined
        	days = 365
        }
        ai_chance = {
            base = 5
            modifier = {
                factor = 50
                var:crete_alliance_decision_var <= 3
            }
            modifier = {
                factor = -50
                var:crete_alliance_decision_var >= 4
            }
        }
    }
    after = {
    	c:RHO = {
    		trigger_event = {
    			id = me_rhodes.22
    			days = { 10 30 }
    		}
    	}
    }
}
me_rhodes.22 = {	#Crete Ally country Response (final)
    type = country_event
    title = me_rhodes_22_title
	desc = {
		first_valid = {
			triggered_desc = {	##Subject Accepted
				trigger = { has_global_variable = subject_offer_accepted }
				desc = "me_rhodes_22_desc_1"
			}
			triggered_desc = {	##Subject Rejected
				trigger = { has_global_variable = subject_offer_declined }
				desc = "me_rhodes_22_desc_2"
			}
		}
	}
    picture = interesting_histories_greek_debate

    option = {
        name = me_rhodes.22.a
        #We Accept
        trigger = { has_global_variable = subject_offer_accepted }
        show_as_tooltip = {
	        c:RHO = {
				make_subject = {
					target = scope:crete_ally_country
					type = feudatory
				}
	        }
        }
    }
    option = {
        name = me_rhodes.22.b
        trigger = { has_global_variable = subject_offer_declined }
        #Very Unfortunate
        add_political_influence = -5
        scope:crete_ally_country = {
			add_opinion = { target = c:RHO modifier = opinion_declined_tribute_offer }
        }
    }
}
me_rhodes.23 = {	#A Merchant Navy
    type = country_event
    title = me_rhodes_23_title
	desc = me_rhodes_23_desc
    picture = naval_battle

    immediate = {
        random_navy = {
            limit = {
                any_sub_unit = {
                    count >= 30
                    OR = {
                        sub_unit_type = trireme
                        sub_unit_type = liburnian
                    }
                }
                has_commander = yes
            }
            commander = { save_scope_as = aegean_merchant_admiral }
        }
        scope:aegean_merchant_admiral = {
            if = {
                limit = {
                    NOT = { has_trait = squadron_leader }
                }
                add_trait = squadron_leader
            }
            else_if = {
                limit = {
                    NOT = { has_trait = oarmaster}
                }
                add_trait = oarmaster
            }
   		}
    }

    option = {
        name = me_rhodes.23.a
       	#The Merchants will make Rhodes rich!
       	show_as_tooltip = {
            add_country_modifier = {
                name = rhodian_merchant_navy
                duration = -1
            }
       	}
    }
}
me_rhodes.24 = {	#A Military Navy
    type = country_event
    title = me_rhodes_24_title
	desc = me_rhodes_24_desc
    picture = naval_battle

    immediate = {
        random_navy = {
            limit = {
                any_sub_unit = {
                    count >= 15
                    OR = {
                        sub_unit_type = trireme
                        sub_unit_type = liburnian
                    }
                }
                any_sub_unit = {
                    count >= 15
                    OR = {
                        sub_unit_type = tetrere
                        sub_unit_type = hexere
                    }
                }
                has_commander = yes
            }
            commander = { save_scope_as = aegean_military_admiral }
        }
        scope:aegean_military_admiral = {
            if = {
                limit = {
                    NOT = { has_trait = seadog }
                }
                add_trait = seadog
            }
            else_if = {
                limit = {
                    NOT = { has_trait = tough }
                }
                add_trait = tough
            }
   		}
    }

    option = {
        name = me_rhodes.24.a
       	#The Merchants will make Rhodes rich!
       	show_as_tooltip = {
            add_country_modifier = {
                name = rhodian_military_navy
                duration = -1
            }
       	}
    }
}
me_rhodes.25 = { #Hidden Navy battle counter
    type = country_event
    hidden = yes

    trigger = {
        #May want to add more triggers
        tag = RHO
        NOT = { has_variable = no_more_naval_counting }
        scope:actor = { #This is the unit scope
            commander = { has_triggered_character_modifier = rhodes_badass_admiral }
        }
    }

    immediate = {
        if = {
            limit = {
                NOR = {
                    has_variable = error_log_appeasing_var
                    has_variable = armada_battle_counter
                }
            }
            set_variable = error_log_appeasing_var
        }
        if = {
            limit = {
                NOT = { has_variable = armada_battle_counter }
            }
            set_variable = {
                name = armada_battle_counter
                value = 1
            }
        }
        else_if = {
            limit = { var:armada_battle_counter < 11 }
            change_variable = {
                name = armada_battle_counter
                add = 1
            }
        }
#        else = {
#            limit = { var:armada_battle_counter > 11 }
#
#        }
    }
}
me_rhodes.26 = { #A Reorganized Navy
    type = country_event
    title = me_rhodes_26_title
    desc = me_rhodes_26_desc
    picture = naval_battle

    immediate = {
        scope:appointed_rhodian_admiral = {
            add_triggered_character_modifier = {
                name = rhodes_badass_admiral
                duration = -1
            }
        }
        ordered_navy = {
            limit = {
                unit_size >= 50
            }
            order_by = unit_size
            max = 1
            save_scope_as = new_rhodian_navy
        }
        scope:new_rhodian_navy = {
            if = {
                limit = { exists = commander }
                commander = { remove_command = yes }
                set_as_commander = scope:appointed_rhodian_admiral
            }
            else = {
                set_as_commander = scope:appointed_rhodian_admiral
            }
        }
    }

    option = {
        name = me_rhodes.26.a

    }
}
me_rhodes.27 = { #A Naval Coup! (triggerd by modifier)
    type = country_event
    title = me_rhodes_27_title
    desc = me_rhodes_27_desc
    picture = naval_battle

    trigger = {
        NOT = { has_variable = naval_coup_happened }
        scope:removed_or_dead_admiral = {   #This scope is saved in the modifier
            is_alive = yes
        }
    }

    immediate = {
        set_variable = naval_coup_happened
        hidden_effect = {
        if = {
            limit = {
                scope:removed_or_dead_admiral = {
                    is_alive = yes
                }
            }
            ordered_governorships = {
                limit = {
                    NOT = {
                        any_governorship_state = {
                            is_capital_state = yes
                        }
                    }
                }
                max = 1
                order_by = {
                    every_governorship_state = {
                        every_state_province = {
                            add = total_population
                        }
                    }
                }
                save_scope_as = bad_guys_capital
            }
            if = {
                limit = {
                    scope:removed_or_dead_admiral = {
                        is_governor = no
                    }
                }
                scope:bad_guys_capital = {
                    random_governorship_state = {
                        random_state_province = {
                            set_as_governor = scope:removed_or_dead_admiral
                        }
                    }
                }
            }
            start_civil_war = scope:removed_or_dead_admiral
            scope:removed_or_dead_admiral.location = {
                save_scope_as = civil_war_capital
            }
            scope:removed_or_dead_admiral.employer = {
                change_country_name = "rebels_of_rhodes"
                change_country_adjective = "rebels_of_rhodes_adjective"
                change_country_color = sapphire_blue
                change_government = plutocratic_republic
                save_scope_as = rhodes_revolt_country
            }
                ordered_governorships = {
                    limit = {
                        NOT = {
                            any_governorship_state = {
                                is_capital_state = yes
                            }
                        }
                        trigger_if = {
                            limit = {
                                exists = governor
                            }
                            governor = {
                                OR = {
                                    from_ruler_family = no
                                    loyalty < 60
                                }
                            }
                        }
                    }
                    max = {
                        ROOT = {
                            every_governorships = {
                                add = 1
                            }
                        }
                        divide = 4
                        min = 1
                    }
                    order_by = {
                        every_governorship_state = {
                            every_state_province = {
                                limit = {
                                    dominant_province_culture = root.culture
                                }
                                add = total_population
                            }
                        }
                    }
                    every_governorship_state = {
                        every_state_province = {
                            set_owned_by = scope:rhodes_revolt_country
                            add_claim = root
                        }
                    }
                }
                every_subject = {
                    limit = {
                        OR = {
                            is_subject_type = feudatory
                            is_subject_type = satrapy
                            is_subject_type = client_state
                        }
                        has_subject_loyalty < 70
                    }
                    switch = { #Must remain the same type of subject
                        trigger = is_subject_type
                        feudatory = {
                            random_list = {
                                50 = {
                                    ROOT = { release_subject = THIS }
                                    save_scope_as = released_subject
                                    scope:rhodes_revolt_country = {
                                        make_subject = {
                                            target = scope:released_subject
                                            type = feudatory
                                        }
                                    }
                                }
                                50 = { }
                            }
                        }
                        client_state = {
                            random_list = {
                                50 = {
                                    ROOT = { release_subject = THIS }
                                    save_scope_as = released_client_subject
                                    scope:rhodes_revolt_country = {
                                        make_subject = {
                                            target = scope:released_client_subject
                                            type = client_state
                                        }
                                    }
                                }
                                50 = { }
                            }
                        }
                    }
                }
            every_owned_province = {
                add_claim = scope:rhodes_revolt_country
            }
            every_character = {
                limit = { loyalty < 50 }
                move_country = scope:rhodes_revolt_country
            }
        }
        }
    }

    option = {
        name = me_rhodes.27.a
        #We're Doomed

    }
}
me_rhodes.28 = { #Naval Hegemony
    type = country_event
    title = me_rhodes_28_title
    desc = me_rhodes_28_desc
    picture = naval_battle
#    interface_lock = no


    immediate = {
        ordered_country = {
            limit = {
                NOT = { tag = RHO }
                NOT = { alliance_with = c:RHO }
                NOT = { has_truce_with = c:RHO }
                any_owned_province = {
                    OR = {
                        city_is_in_greece_or_balkans = yes
                        city_is_in_anatolia = yes
                        is_in_egypt_trigger = yes
                        is_in_cyrenaica_trigger = yes
                    }
                }
            }
            order_by = num_of_ships
            max = 1
            save_scope_as = naval_hegemony_victim
        }
    }

    option = {
        name = me_rhodes.28.a
        #Declare the war!!!
        declare_war_with_wargoal = {
            war_goal = naval_wargoal
            target = scope:naval_hegemony_victim
        }
        add_country_modifier = {
            name = naval_hegemon
            duration = -1
        }
    }
    option = {
        name = me_rhodes.28.b
        #Back down
        add_political_influence = -15
        current_ruler = {
            add_popularity = -10
        }
    }
}
me_rhodes.29 = { #A Feudatory or a new State?
    type = country_event
    title = me_rhodes_29_title
    desc = me_rhodes_29_desc
    picture = interesting_histories_greek_debate

    option = {
        name = me_rhodes.29.a
        p:1992.state = {
            add_state_modifier = {
                name = lycian_prosperity
                duration = -1
            }
        }
    }
    option = {
        name = me_rhodes.29.b
        #Release a feudatory subject
        hidden_effect = {
            p:1992 = {
                create_country = {
                    name = {
                        name = LYCIA_FEUDATORY_NAME
						adjective = LYCIA_FEUDATORY_ADJECTIVE
                    }
#                    change_country_flag = KUSH_CLIENT_C_FLAG
                    change_country_color = achaemenid_mauve
                    set_country_religion = roman_pantheon
					if = {
						limit = {
							NOT = {
								primary_culture = root.culture
							}
						}
						set_primary_culture_cleanup_effect = {
							NEW_PRIMARY_CULTURE = root.culture
							MAKE_OLD_CULTURE_INTEGRATED = yes
						}
					}
                    change_government = plutocratic_republic
                    save_scope_as = lycia_country_scope
                }
            }
            area:lycia_area = {
                every_area_province = {
                    limit = { owned_or_subject_owned = root }
                    set_owned_by = scope:lycia_country_scope
                }
            }
            make_subject = {
                target = scope:lycia_country_scope
                type = feudatory
            }
        }
    }
}
me_rhodes.30 = { #Aegean League
    type = country_event
    title = me_rhodes_30_title
    desc = me_rhodes_30_desc
    picture = interesting_histories_hellenic_dock

    option = {
        name = me_rhodes.30.a
        #Form the Aegean League
        c:RHO = {
            change_country_name = "aegean_league_name"
            hidden_effect = {
            change_country_adjective = "aegean_league_adjective"
            change_country_color = aegean_league_country_color
            change_country_flag = aegean_league_flag
            }
            add_country_modifier = {
                name = aegean_league_modifier
                duration = -1
            }
        }
    }
    option = {
        name = me_rhodes.30.b
        #Gain "Proud Rhodian Heritage" modifier
        add_country_modifier = {
            name = proud_rhodian_heritage
            duration = 3650
        }
    }
    after = {
        trigger_event = {
            id = me_rhodes.38
            days = { 5 25 }
        }
    }
}
me_rhodes.31 = { #Rhodian Peraia
    type = country_event
    title = me_rhodes_31_title
    desc = me_rhodes_31_desc
    picture = greek_philosophers

    option = {
        name = me_rhodes.31.a
        add_treasury = -100
        custom_tooltip = me_rhodes.31.tt
    }
}
me_rhodes.32 = { #The Ionians
    type = country_event
    title = me_rhodes_32_title
    desc = me_rhodes_32_desc
    picture = greek_philosophers

    option = {
        name = me_rhodes.32.a
        add_treasury = -100
        custom_tooltip = me_rhodes.32.tt
    }
}
me_rhodes.33 = { #Hidden Legion Battle Counter
    type = country_event
    hidden = yes
    trigger = {
        #May want to add more triggers
        tag = RHO
        NOT = { has_variable = no_more_legion_counting }
        scope:actor = { #This is the unit scope
            has_legion_trigger = yes
        }
    }
    immediate = {
        if = {
            limit = {
                NOR = {
                    has_variable = error_log_appeasing_var_2
                    has_variable = legion_battle_counter
                }
            }
            set_variable = error_log_appeasing_var_2
        }
        if = {
            limit = {
                NOT = { has_variable = legion_battle_counter }
            }
            set_variable = {
                name = legion_battle_counter
                value = 1
            }
        }
        else_if = {
            limit = { var:legion_battle_counter < 16 }
            change_variable = {
                name = legion_battle_counter
                add = 1
            }
        }
    }
}
me_rhodes.34 = { #The Legion of Rhodes
    type = country_event
    title = me_rhodes_34_title
    desc = me_rhodes_34_desc
    picture = hellenistic_army
    left_portrait = scope:legion_of_rhodes.commander

    immediate = {
        hidden_effect = {
            random_unit = {
                limit = { legion = ROOT.capital_scope.governorship.legion }
                save_scope_as = legion_of_rhodes
            }
        }
    }

    option = {
        name = me_rhodes.34.a
        add_country_modifier = {
            name = temp_army_morale_mod
            duration = 1825
        }
    }
}
me_rhodes.37 = { #Peloponessian Prosperity
    type = country_event
    title = me_rhodes_37_title
    desc = me_rhodes_37_desc
    picture = interesting_histories_greek_city_man

    option = {  #Laconia
        name = me_rhodes.37.a
        p:427.state = {
            add_state_modifier = {
               name = peloponessian_prosperity
                duration = -1
            }
        }
    }
    option = {  #Achaea
        name = me_rhodes.37.b
        p:439.state = {
            add_state_modifier = {
               name = peloponessian_prosperity
                duration = -1
            }
        }
    }
    option = {  #Arcadia
        name = me_rhodes.37.c
        p:440.state = {
            add_state_modifier = {
               name = peloponessian_prosperity
                duration = -1
            }
        }
    }
}
me_rhodes.38 = { #A New Administration
    type = country_event
    title = me_rhodes_38_title
    desc = me_rhodes_38_desc
    picture = interesting_histories_greek_debate

    option = {  #Democracy is the only way
        name = me_rhodes.38.a
        custom_tooltip = me_rhodes_38_tt_1
    }
    option = {  #We could explore other alternatives...
        name = me_rhodes.38.b
        custom_tooltip = me_rhodes_38_tt_2
        trigger_event = {
            id = me_rhodes.39
            days = { 10 20 }
        }
    }

}
me_rhodes.39 = { #Dictatorship of Rhodes
    type = country_event
    title = me_rhodes_39_title
    desc = me_rhodes_39_desc
    picture = war_council
    immediate = {
        #Get fucked
        hidden_effect = {
            if = {
                limit = {
                    any_character = {
                        is_adult = yes
                        is_primary_heir = no
                        is_ruler = no
                        is_governor = yes
                    }
                }
                ordered_character = {
                    limit = {
                        is_adult = yes
                        is_primary_heir = no
                        is_ruler = no
                        is_governor = yes
                    }
                    check_range_bounds = no
                    order_by = power_base
                    save_scope_as = leader_of_da_opps
                    max = 1
                }
            }
            else = {
                ordered_character = {
                    limit = {
                        is_ruler = no
                        is_adult = yes
                        is_primary_heir = no
                        is_minor_character = yes
                    }
                    max = 1
                    check_range_bounds = no
                    order_by = power_base
                    save_scope_as = leader_of_da_opps
               }
            }
            ordered_governorships = {
                limit = {
                    NOT = {
                        any_governorship_state = {
                            is_capital_state = yes
                        }
                    }
                }
                max = 1
                order_by = {
                    every_governorship_state = {
                        every_state_province = {
                            add = total_population
                        }
                    }
                }
                save_scope_as = da_opps_spot
            }
            if = {
                limit = {
                    scope:leader_of_da_opps = {
                        is_governor = no
                    }
                }
                scope:da_opps_spot = {
                    random_governorship_state = {
                        random_state_province = {
                            set_as_governor = scope:leader_of_da_opps
                        }
                    }
                }
            }
            start_civil_war = scope:leader_of_da_opps
            scope:leader_of_da_opps.location = {
                save_scope_as = home_of_da_opps
            }
            scope:home_of_da_opps.owner = {
                change_country_name = "rhodia_revolter_name"
                change_country_adjective = "rhodian_revolter_adjective"
                change_country_color = onyx_black
                save_scope_as = da_opps
            }
            ordered_governorships = {
                limit = {
                    NOT = {
                        any_governorship_state = {
                            is_capital_state = yes
                        }
                    }
                    trigger_if = {
                        limit = {
                            exists = governor
                        }
                        governor = {
                            OR = {
                                from_ruler_family = no
                                loyalty < 60
                            }
                        }
                    }
                }
                max = {
                    ROOT = {
                        every_governorships = {
                            add = 1
                        }
                    }
                    divide = 3
                    min = 1
                }
                order_by = {
                    every_governorship_state = {
                        every_state_province = {
                            limit = {
                                dominant_province_culture = root.culture
                            }
                            add = total_population
                        }
                    }
                }
                every_governorship_state = {
                    every_state_province = {
                        set_owned_by = scope:da_opps
                        add_claim = root
                    }
                }
            }
            every_subject = {
                limit = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                    has_subject_loyalty < 70
                }
                switch = { #Must remain the same type of subject
                    trigger = is_subject_type
                    feudatory = {
                        random_list = {
                            50 = {
                                ROOT = { release_subject = THIS }
                                save_scope_as = released_subject
                                scope:da_opps = {
                                    make_subject = {
                                        target = scope:released_subject
                                        type = feudatory
                                    }
                                }
                            }
                            50 = { }
                        }
                    }
                    client_state = {
                        random_list = {
                            50 = {
                                ROOT = { release_subject = THIS }
                                save_scope_as = released_client_subject
                                scope:da_opps = {
                                    make_subject = {
                                        target = scope:released_client_subject
                                        type = client_state
                                    }
                                }
                            }
                            50 = { }
                        }
                    }
                }
            }
            every_owned_province = {
                add_claim = scope:da_opps
            }
            every_character = {
                limit = { loyalty < 55 }
                move_country = scope:da_opps
            }
        }
    }
    option = {  #GetRuler will lead Rhodes to Glory!
        name = me_rhodes.39.a
        add_stability = -20
        republic_to_monarchy_law_variable_effect = yes # decide which legion law should be transferred
		change_government = dictatorship
		republic_to_monarchy_law_change_effect = yes # change legion law based on variable if present
    }
}