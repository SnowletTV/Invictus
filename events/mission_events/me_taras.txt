namespace = me_taras

me_taras.1 = {
    type = country_event

    title = me_taras_1_title
    desc = me_taras_1_desc
    picture = event_soldiers_marching_through_town
    option = {
        name = "me_taras_1.a"
        custom_tooltip = me_taras_1_tooltip
        if = {
            limit = {
                has_global_variable = lucania_lost_war
            }
            add_treasury = 150
            add_political_influence = 50
            current_ruler = {
                add_popularity = 20
                add_trait = victorious
            }
        }
        else_if = {
            limit = {
                has_global_variable = tarentum_lost_war
            }
            current_ruler = {
                add_popularity = -20
            }
            add_country_modifier = {
                name = taras_war_lost_recovery
                duration = 1825 # 5 years
            }
        }
        else = { # fallback, although not really necessary. you never knoe though what those players will cook up
            add_political_influence = 50
        }
    }
}
me_taras.2 = {
    type = country_event

    title = me_taras_2_title
    desc = me_taras_2_desc
    picture = city_construction

    option = {
        name = "me_taras_2.a"
        custom_tooltip = me_taras_2_tooltip
        add_treasury = 150
        add_country_modifier = {
            name = taras_ruins_building
            duration = 1825
        }
    }
    option = {
        name = "me_taras_2.b"
        custom_tooltip = me_taras_2_b_tooltip
        add_treasury = -100
        add_political_influence = -20
        trigger_event = {
			id = me_taras.28
			days = 365
        }
    }
    option = {
        trigger = {
		    current_ruler = {
			    has_trait = crafty
                OR = {
                    has_trait = shrewd
                }
		    }
	    }
        name = "me_taras_2.c"
        custom_tooltip = me_taras_2_c_tooltip
        add_treasury = 75
        trigger_event = {
			id = me_taras.28
			days = 365
        }
    }
}
me_taras.3 = {
    type = country_event

    title = me_taras_3_title
    desc = me_taras_3_desc
    picture = interesting_histories_greek_lady

    option = {
        name = "me_taras_3.a"
        custom_tooltip = me_taras_3_tooltip
        add_party_approval = {
				party_type = traditionalist_party
				value = 10
		}
        create_country_treasure = {
				key = "tarentine_vase"
				icon = "treasure_urn_2"
				modifier = {
		        local_happiness_for_same_culture_modifier = 0.10
                local_country_civilization_value = 0.10
			}
        }
        current_ruler = {
            add_trait = cultured
        }
    }
}
me_taras.4 = {
    type = country_event

    title = me_taras_4_title
    desc = me_taras_4_desc
    picture = event_dancing_party_wine

    option = {
        name = "me_taras_4.a"
        custom_tooltip = me_taras_4_tooltip
        p:56 = {
            add_building_level = temple_building
            add_province_modifier = {
                    name = taras_temple
                    duration = 3650
            }
        }
    }
}
me_taras.5 = {
    type = country_event

    title = me_taras_5_title
    desc = me_taras_5_desc
    picture = great_library

    option = {
        name = "me_taras_5.a"
        custom_tooltip = me_taras_5_tooltip
        p:56 = {
            add_province_modifier = {
                name = tarentine_academy
                    duration = -1
                }
            }
            create_character = {
            	culture = italiotian
				religion = roman_pantheon
				age = 25
                no_stats = yes
                no_traits = yes
				first_name = "Leonidas"
                hidden_effect = {
				save_scope_as = leonidas_character
				add_trait = orator
				add_trait = scholar
                add_martial = 4
                add_finesse = 7
                add_zeal = 7
                add_charisma = 9
            }
        }
        #trigger_event = me_taras. ADD LEONIDAS EVENT-EPIRUS-TARAS ALLIANCE
    }
}
me_taras.6 = {
    type = country_event

    title = me_taras_6_title
    desc = me_taras_6_desc
    picture = event_busy_market_generic

    option = {
        name = "me_taras_6.a"
        custom_tooltip = me_taras_6_tooltip
        add_treasury = 50
        add_country_modifier = {
            name = trade_boom
            duration = 1825
        }
        p:56 = {
            add_province_modifier = {
                name = trade_outpost
                duration = -1
            }
        }
    }
}
me_taras.8 = {
    type = country_event

    title = me_taras_8_title
    desc = me_taras_7_desc
    picture = proscription

    option = {
        name = "me_taras_7.a"
        custom_tooltip = me_taras_8_tooltip
        add_military_experience = -15
        add_country_modifier = {
                name = spartan_heritage
                duration = -1
            }
            add_country_modifier = {
                name = recruitment_campaign
                duration = 1825
        }
    }
}
me_taras.7 = {
    type = country_event

    title = me_taras_7_title
    desc = me_taras_8_desc
    picture = interesting_histories_veneti_horses
    left_portrait = current_ruler
    right_portrait = scope:hired_mercenary

    immediate = {
        random_character = {
            limit = { is_mercenary = yes}
            save_scope_as = hired_mercenary
        }
    }

    option = {
        name = "me_taras_8.a" 
        custom_tooltip = me_taras_7_tooltip
        add_military_experience = 10
        add_country_modifier = {
            name = italic_mercenaries
            duration = 3650
        }
    }
}
me_taras.9 = {
    type = country_event

    title = me_taras_9_title
    desc = me_taras_9_desc
    picture = greek_states_path_2_event

    option = {
        name = "me_taras_9.a"
        custom_tooltip = me_taras_9_tooltip
        add_political_influence = -30
        add_country_modifier = {
            name = true_tarantines
            duration = -1
        }
    }
    option = {
        name = "me_taras_9.b"
        custom_tooltip = me_taras_9_tooltip
        add_political_influence = -30
        add_country_modifier = {
            name = mixed_tarantines
            duration = -1
        }
    }
    option = {
        name = "me_taras_9.c"
        custom_tooltip = me_taras_9_tooltip
        add_political_influence = -30
        add_country_modifier = {
            name = heavy_tarantines
            duration = -1
        }
    }
}
me_taras.10 = {
    type = country_event

    title = me_taras_10_title
    desc = me_taras_10_desc
    picture = event_large_armies_in_formation

    option = {
        name = "me_taras_10.a"
        custom_tooltip = me_taras_10_tooltip
        declare_war_with_wargoal = {
                war_goal = conquer_wargoal
                province = P:55
                target = MET
            }
            add_country_modifier = {
                name = glorious_battle
                duration = 1825
        }
    }
}
me_taras.11 = {
    type = country_event

    title = me_taras_11_title
    desc = me_taras_11_desc
    picture = greek_political_discussion

    option = {
        name = "me_taras_11.a"
        custom_tooltip = me_taras_11_a_tooltip
        trigger_event = {
        id = me_taras.30
        }
    }

    option = {
        name = "me_taras_11.b"
        custom_tooltip = me_taras_11_b_tooltip
        break_alliance = c:MSP
        trigger_event = {
            id = me_taras.29
        }
    }
}
me_taras.12 = {
    type = country_event

    title = me_taras_12_title
    desc = me_taras_12_desc
    picture = latin_tribal_path_2_event

    option = {
        name = "me_taras_12.a" #Release Poseidonia + Lucania
        custom_tooltip = me_taras_12_a_tooltip
        hidden_effect = {
            p:11 = {
				create_country = {
					name = {
					    name = "POSEIDONIA_NAME"
						adjective = "POSEIDONIA_ADJECTIVE"
				    }
                    hidden_effect = {
                        change_country_tag = PSD
				        change_country_flag = POSEIDONIA_FLAG
				        change_country_color = poseidonia_color
				        set_primary_culture = italiotian
				        set_country_religion = roman_pantheon
				        set_country_heritage = poseidonia_heritage
				        change_government = plutocratic_republic
				        add_treasury = 50.0
				        save_scope_as = poseidonia_scope
			        }
                }
            }
            make_subject = {
                target = scope:poseidonia_scope
                type = feudatory
            }
            scope:poseidonia_scope = {
                add_country_modifier = {
                    name = freed_poseidonia
                    duration = -1
                }
            }
            ordered_owned_province = {
                limit = {
                    dominant_province_culture = lucanian
                    is_coastal = no
                    NOT = { province_id = 60 }
                }
                order_by = total_population
                create_country = {
                    name = {
                        name = LCA
                        adjective = LCA_ADJ
                    }
                    change_government = tribal_federation
                    save_scope_as = lucania_scope
                    change_country_flag = LCA
                    set_country_heritage = lucania_heritage
                    change_country_color = lucania_color
                }
            }
            make_subject = {
                target = scope:lucania_scope
                type = client_state
            }
            scope:lucania_scope = {
                add_country_modifier = {
                    name = subjugated_lucania
                    duration = -1
                }
            }
            every_owned_province = {
                limit = {
                    dominant_province_culture = lucanian
                    is_coastal = no
                    NOT = { province_id = 60 }
                }
            
            set_owned_by = scope:lucania_scope
        }
        }
	}
    option = {
        name = "me_taras_12.b" #Release Poseidonia
        custom_tooltip = me_taras_12_b_tooltip
        hidden_effect = {
            p:11 = {
				create_country = {
					name = {
					    name = "POSEIDONIA_NAME"
						adjective = "POSEIDONIA_ADJECTIVE"
				    }
                    hidden_effect = {
                        change_country_tag = PSD
				        change_country_flag = POSEIDONIA_FLAG
				        change_country_color = poseidonia_color
				        set_primary_culture = italiotian
				        set_country_religion = roman_pantheon
				        set_country_heritage = poseidonia_heritage
				        change_government = plutocratic_republic
				        add_treasury = 50.0
				        save_scope_as = poseidonia_scope
			        }
                }
			}
            make_subject = {
                target = scope:poseidonia_scope
                type = feudatory
            }
            scope:poseidonia_scope = {
                add_country_modifier = {
                    name = freed_poseidonia
                    duration = -1
                }
            }
        }
        }
        option = {
        name = "me_taras_12.c" #Release Lucania
        custom_tooltip = me_taras_c_12_tooltip
        hidden_effect = {
        ordered_owned_province = {
                limit = {
                    dominant_province_culture = lucanian
                    is_coastal = no
                    NOT = { province_id = 60 }
                }
                order_by = total_population
                create_country = {
                    name = {
                        name = LCA
                        adjective = LCA_ADJ
                    }
                    hidden_effect = {
                    change_government = tribal_federation
                    save_scope_as = lucania_scope
                    change_country_flag = LCA
                    set_country_heritage = lucania_heritage
                    change_country_color = lucania_color
                    }
                }
            }
        }
        hidden_effect = {
            make_subject = {
                target = scope:lucania_scope
                type = client_state
            }
            scope:lucania_scope = {
                add_country_modifier = {
                    name = subjugated_lucania
                    duration = -1
                }
            }
        }
        hidden_effect = {
            every_owned_province = {
                limit = {
                    dominant_province_culture = lucanian
                    is_coastal = no
                    NOT = { province_id = 60 }
            }
            set_owned_by = scope:lucania_scope
            }
        }
    }
    option = {
        name = "me_taras_12.d" #Release No One
        custom_tooltip = me_taras_12_d_tooltip
        add_political_influence = 50
        #if = { Elea subject event-change?????
           #limit = {
               # c:ELE = {
                   # num_of_provinces >= 1
                   # NOT = {
                       # war_with = ROOT
                    #}
                #}
            #}
            #trigger_event = {
			  #  id = me_taras.31
			    #days = 30
            #}
        #}
    } 
}
me_taras.13 = {
    type = country_event

    title = me_taras_13_title
    desc = me_taras_13_desc
    picture = great_library

    option = {
        name = "me_taras_13.a"
        custom_tooltip = me_taras_13_tooltip

    }
}
me_taras.14 = {
    type = country_event

    title = me_taras_14_title
    desc = me_taras_14_desc
    picture = senator_conversing

    option = {
        name = "me_taras_14.a"
        custom_tooltip = me_taras_14_tooltip
        c:BRT = {
                every_owned_province = {
                    add_claim = root
            }
        }
    }
}
me_taras.15 = {
    type = country_event

    title = me_taras_15_title
    desc = me_taras_15_desc
    picture = event_crowd_speech_celebration

    option = {
        name = "me_taras_15.a"
        custom_tooltip = me_taras_15_tooltip
        p:56 = {
            add_province_modifier = {
                name = taras_restored
                duration = -1
            }
            create_state_pop = nobles
            create_state_pop = citizen
            create_state_pop = citizen
            create_state_pop = freemen
        }
        add_party_approval = {
		party_type = oligarchic_party
		value = 10
		}
        add_party_approval = {
		party_type = traditionalist_party
		value = 10
		}
        add_party_approval = {
		party_type = democratic_party
		value = 10
        }
    }
}
me_taras.16 = {
    type = country_event

    title = me_taras_16_title
    desc = me_taras_16_desc
    picture = event_crowd_speech_celebration

    option = {
        name = "me_taras_16.a"
        custom_tooltip = me_taras_16_tooltip
        add_political_influence = 100
        add_2_free_province_investments = yes
        change_country_name = ITA
        hidden_effect = {
    		change_country_adjective = ITA_ADJ
    		change_country_tag = ITA
    		change_country_flag = ITA_FLAG
    		change_country_color = rust_brown
    	}
    	custom_tooltip = me_taras_1_final_tt
    	hidden_effect = {
    		region:magna_graecia_region = {
    			every_region_province = {
    				add_claim = root
    			}
    		}
    	}
    }
    option = {
        name = "me_taras_16.b"
        add_political_influence = 100
        add_2_free_province_investments = yes
        custom_tooltip = me_taras_16_tooltip
        change_country_name = TAL
        hidden_effect = {
    		change_country_adjective = TAL_ADJ
    		change_country_tag = ITA
    		change_country_flag = TARENTINE_LEAGUE_FLAG
    		change_country_color = royal_taras_color
    	}
    	custom_tooltip = me_taras_1_final_tt
    	hidden_effect = {
    		region:magna_graecia_region = {
    			every_region_province = {
    				add_claim = root
    			}
    		}
    	}
    }
    option = {
        name = "me_taras_16.c"
        custom_tooltip = me_taras_16_tooltip
        add_political_influence = 100
        add_2_free_province_investments = yes
        switch_government_type_event_clearup_effect = yes
        add_stability = -30
        add_tyranny = 20
        add_aggressive_expansion = 10
        add_country_modifier = {
            name = tarentine_kingdom
            duration = 3650
        }
        change_government = spartan_monarchy
        hidden_effect = {
    		change_country_tag = ITA
    		change_country_flag = ROYAL_TARAS_FLAG
    		change_country_color = royal_taras_country_color
    	}
        custom_tooltip = me_taras_1_final_tt
    	hidden_effect = {
    		region:magna_graecia_region = {
    			every_region_province = {
    				add_claim = root
    			}
    		}
    	}
    }
}
me_taras.17 = {
    type = country_event

    title = me_taras_17_title
    desc = me_taras_17_desc
    picture = event_villa_in_countryside

    option = {
        trigger = {
            ROOT = {
                owns = 71
            }
        }
        name = "me_taras_17.a"
        custom_tooltip = me_taras_17_tooltip

    }
}
me_taras.18 = {
    type = country_event

    title = me_taras_18_title
    desc = me_taras_18_desc
    picture = great_library

    option = {
        name = "me_taras_18.a"
        custom_tooltip = me_taras_18_tooltip

    }
}
me_taras.19 = {
    type = country_event

    title = me_taras_19_title
    desc = me_taras_19_desc
    picture = great_library

    option = {
        name = "me_taras_19.a"
        custom_tooltip = me_taras_19_tooltip

    }
}
me_taras.20 = {
    type = country_event

    title = me_taras_20_title
    desc = me_taras_20_desc
    picture = great_library

    option = {
        name = "me_taras_20.a"
        custom_tooltip = me_taras_20_tooltip

    }
}
me_taras.21 = {
    type = country_event

    title = me_taras_21_title
    desc = me_taras_21_desc
    picture = event_farmers_in_green_countryside

    option = {
        name = "me_taras_21.a"
        custom_tooltip = me_taras_21_tooltip
        add_treasury = -50
        p:56 = {
            add_province_modifier = {
                name = expanded_farms
                duration = -1
            } 
        }
    }
}
me_taras.22 = {
    type = country_event

    title = me_taras_22_title
    desc = me_taras_22_desc
    picture = event_wise_men_indoors_debate

    option = {
        name = "me_taras_22.a"
        custom_tooltip = me_taras_22_tooltip
        add_treasury = 200
        c:TAR = {
			release_subject = c:HCL
		}
        add_alliance = c:HCL

        ai_chance = { factor = 90 }
    }
    option = {
        name = "me_taras_22.b"
        custom_tooltip = me_taras_22_tooltip
        add_political_influence = -30
        c:HCL = {
            add_country_modifier = {
                name = loyal_tarentine_colony
                duration = -1
            }
        }

        ai_chance = { factor = 10 }
    }
    option = {
        trigger = {
            is_ai = no
        }
        name = "me_taras_22.c"
        custom_tooltip = me_taras_22_tooltip
        p:54 = {
         set_conquered_by = root
        }
        add_aggressive_expansion = 5
        current_ruler = {
            add_popularity = -20
        }
    }
}
me_taras.23 = {
    type = country_event

    title = me_taras_23_title
    desc = me_taras_23_desc
    picture = great_library

    option = {
        name = "me_taras_23.a"
        custom_tooltip = me_taras_23_tooltip

    }
}
me_taras.24 = {
    type = country_event

    title = me_taras_24_title
    desc = me_taras_24_desc
    picture = great_library

    option = {
        name = "me_taras_24.a"
        custom_tooltip = me_taras_24_tooltip

    }
}
me_taras.25 = {
    type = country_event

    title = me_taras_25_title
    desc = me_taras_25_desc
    picture = great_library

    option = {
        name = "me_taras_25.a"
        custom_tooltip = me_taras_25_tooltip

    }
}
me_taras.26 = { #Startup
    type = country_event

    title = me_taras_26_title
    desc = me_taras_26_desc
    picture = interesting_histories_greek_city_man

    option = {
        name = "me_taras_26.a"
        add_political_influence = 20
        current_ruler = {
            add_character_modifier = {
                name = ambitious_tarentine
                duration = 1825
            }
        }
    }
}
me_taras.27 = {
    type = country_event

    title = me_taras_27_title
    desc = me_taras_27_desc
    picture = great_library

    option = {
        name = "me_taras_27.a"
        custom_tooltip = me_taras_27_tooltip

    }
}
me_taras.28 = { #Ruins of Taras Event
    type = country_event

    title = me_taras_28_title
    desc = me_taras_28_desc
    picture = aqueducts

    option = {
        name = "me_taras_28.a"
        p:56 = {
            create_state_pop = freemen
            create_state_pop = freemen
            add_province_modifier = {
                name = rebuilt_ruins
                duration = -1
            }
        }
    }
}
me_taras.29 = { #Sacking Mandyrion
    type = country_event

    title = me_taras_29_title
    desc = me_taras_29_desc
    picture = event_city_night_moonlight

    option = {
        name = "me_taras_29.a"
        custom_tooltip = me_taras_11_tooltip
        add_treasury = 150
        add_aggressive_expansion = 10
        declare_war_with_wargoal = {
            war_goal = conquer_wargoal
            province = p:63
            target = MSP
        }
        p:62 = {
            set_owned_by = ROOT
            set_city_status = settlement
			while = {
				count = 8
				random_pops_in_province = {
					kill_pop = yes
				}
				destroy_building_effect = yes
			}
            add_province_modifier = {
                name = mandyrion_destroyed
                duration = 73000
            }
        }
        current_ruler = {
            add_trait = cruel
            add_trait = assertive
        }
    }
}
me_taras.30 = { #Messapia Diplomatic Envoy
    type = country_event

    title = me_taras_30_title
    desc = me_taras_30_desc
    picture = celtic_diplomacy

    option = {
        name = "me_taras_30.a"
        custom_tooltip = me_taras_11_tooltip
        add_political_influence = -30
        add_opinion = {
            modifier = messapian_tarentum_agreement
            target = c:MSP
        }
        reverse_add_opinion = {
            modifier = messapian_tarentum_agreement
            target = c:MSP
        }
        c:TAR = {
                add_truce = {
                    target = root
                    duration = 1825
                }
            }
        p:63 = {
            set_owned_by = ROOT
        }
        p:64 = {
            set_owned_by = ROOT
        }
    }
    option = {
        name = "me_taras_30.b"
        custom_tooltip = me_taras_11_tooltip
        trigger = {
            current_ruler = {
                has_trait = orator
                OR = {
                has_trait = silver_tongued
                }
            }
        }
        add_stability = 10
        c:TAR = {
            make_subject = {
                target = c:MSP
                type = tributary
            }
        }
    }
    option = {
        name = "me_taras_30.c"
        custom_tooltip = me_taras_11_tooltip
        break_alliance = c:MSP
        add_country_modifier = {
            name = inevitable_conflict
            duration = 1825
        }
        c:MSP = {
            add_opinion = {
                modifier = diplomacy_refused
                target = ROOT
            }
        }
        c:MSP = {
            every_owned_province = {
                add_claim = root
            }
        }
    }
}
me_taras.31 = { #Elea requests protection
    type = country_event

    title = me_taras_31_title
    desc = me_taras_31_desc
    picture = interesting_histories_greek_debate

    option = {
        name = "me_taras_31.a"
        c:TAR = {
            make_subject = {
                target = c:ELE
                type = feudatory
            }
        }
    }
}
me_taras.32 = { #Bruttian Subjects Defect
    type = country_event

    title = me_taras_32_title
    desc = me_taras_32_desc
    picture = oration

    option = {
        name = "me_taras_32.a"
        c:BRT = {
			release_subject = c:HPO
            release_subject = c:THU
		    }
		    c:TAR = {
			    make_subject = {
				    target = c:HPO
				    type = feudatory
                }
                make_subject = {
				    target = c:THU
				    type = feudatory
                }
            }
    }
}
me_taras.33 = { 
    type = country_event

    title = me_taras_33_title
    desc = me_taras_33_desc
    picture = aqueducts

    option = {
        name = "me_taras_33.a"
    }
}