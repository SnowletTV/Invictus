namespace = me_tayuan

me_tayuan.1 = {
	type = country_event

    title = me_tayuan.1.title
    desc = me_tayuan.1.desc
    picture = greeks_marching

	option = {
		name = "me_tayuan.1.a"
		custom_tooltip = make_history_tt
	}
}

me_tayuan.2 = {
	type = country_event

	title = me_tayuan.2.title
    desc = me_tayuan.2.desc
    picture = interesting_histories_generic_market
	left_portrait = current_ruler
	right_portrait = scope:tayuan_explorer

	option = {
		name = "me_tayuan.2.a"
	}
}

me_tayuan.3 = {
	type = country_event

	title = me_tayuan.3.title
    desc = me_tayuan.3.desc
    picture = steppe_cavalry
	left_portrait = current_ruler
	left_portrait = scope:tayuan_explorer
	right_portrait = c:WUS.current_ruler
	goto_location = p:8751

	immediate = {
		c:WUS = {
            current_ruler = {
                save_scope_as = amyrgian_ruler
            }
        }
	}
	option = {
		name = "me_tayuan.3.a"
		every_country = {
			limit = {
					tag = WUS
			}
			add_opinion = {
				modifier = tayuan_amyopinion
				target = ROOT
			}
		}
		trigger_event = { id = me_tayuan.4 }
	}
	option = {
		name = "me_tayuan.3.b"
		add_military_experience = 2.5
		trigger_event = { id = me_tayuan.4 }
	}
}

me_tayuan.4 = {
	type = country_event
	left_portrait = scope:tayuan_explorer
	right_portrait = c:WUS.current_ruler

	title = me_tayuan.4.title
    desc = me_tayuan.4.desc
    picture = interesting_histories_eastern_tribes

	option = {
		name = "me_tayuan.4.a"
		custom_tooltip = "amyrgia_claims_tt"
		every_country = {
			limit = {
					tag = WUS
			}
			add_opinion = {
				modifier = tayuan_ants
				target = ROOT
			}
		}
		hidden_effect = {
			c:TAY = {
				every_owned_province = { add_claim = c:WUS }
			}
		}
		
	
	}
}

me_tayuan.5 = {
	type = country_event

	title = me_tayuan.5.title
	desc = me_tayuan.5.desc
	picture = event_horses_escaping
	left_portrait = scope:tayuan_explorer
	right_portrait = c:SOG.current_ruler
	goto_location = p:6784

	option = {
		name = "me_tayuan.5.a"
		trigger_event = me_tayuan.24
	}
}

me_tayuan.6 = {
	type = country_event

	title = me_tayuan.6.title
	desc = me_tayuan.6.desc
	picture = interesting_histories_asia_mountains
	left_portrait = scope:tayuan_explorer

	option = {
		name = "me_tayuan.6.a"
		trigger_event = { id = me_tayuan.13 }
	}
}

me_tayuan.7 = {
	type = country_event

	title = me_tayuan.7.title
	desc = me_tayuan.7.desc
	picture = diadochi_seleucus_elephant
	left_portrait = scope:tayuan_explorer
	left_portrait = scope:explorerlove
	right_portrait = c:BAC.current_ruler
	right_portrait = c:SEL.current_ruler
	goto_location = p:6678

	immediate = {
		hidden_effect = {
			create_character = {
				female = yes
				culture = bactrian
				age = 39
				save_scope_as = explorerlove
			}
		}
	}

	option = {
		name = "me_tayuan.7.a"
		custom_tooltip = tayuanexplorershome_tt
		
		hidden_effect = {
			create_unit = {
				navy = no
				commander = scope:tayuan_explorer
				location = capital_scope
				add_subunit = light_infantry
				add_subunit = light_cavalry
				name = TAYUAN_EXPLORERS
			}
		}
		add_gold = 45
	}
}

me_tayuan.8 = {
	type = country_event

	title = me_tayuan.8.title
	desc = me_tayuan.8.desc
	picture = aqueducts

	immediate = {
        hidden_effect = {
            random_character = {
                limit  = {
                 has_tech_office_of = civic_tech
                }
                save_scope_as = tayuancivman 
            }
        }
    }

	option = {
		name = "me_tayuan.8.a"
	}
}

me_tayuan.9 = {
	type = country_event

	title = me_tayuan.9.title
	desc = me_tayuan.9.desc
	picture = interesting_histories_sparta_city
	left_portrait = current_ruler
	right_portrait = scope:tayuan_steward

	immediate = {
		hidden_effect = {
			random_character = { 
							   limit = {
								has_office = office_steward
							}
							save_scope_as = tayuan_steward
			 }
		}
	}

	option = {
		name = "me_tayuan.9.a"
		custom_tooltip = tayuan_great_investment_tt
		hidden_effect = {
			random_list = {
				95 = {
					trigger_event = { id = me_tayuan.14 days = { 190 200 } }
				}
				05 = {
					trigger_event = { id = me_tayuan.15 days = { 190 200 } }
				}
			}
		}
		add_treasury = -200
		add_political_influence = -50
	}

	option = {
		name = "me_tayuan.9.b"
		custom_tooltip = tayuan_big_investment_tt
		hidden_effect = {
			random_list = {
				60 = {
					trigger_event = { id = me_tayuan.14 days = { 190 200 } }
				}
				40 = {
					trigger_event = { id = me_tayuan.15 days = { 190 200 } }
				}
			}
		}
		add_treasury = -100
		add_political_influence = -10
	}

	option = {
		name = "me_tayuan.9.c"
		custom_tooltip = tayuan_meh_investment_tt
		hidden_effect = {
			random_list = {
				10 = {
					trigger_event = { id = me_tayuan.14 days = { 190 200 } }
				}
				90 = {
					trigger_event = { id = me_tayuan.15 days = { 190 200 } }
				}
			}
		}
		add_treasury = -30
	}
}

me_tayuan.10 = {
	type = country_event

	title = me_tayuan.10.title
	desc = me_tayuan.10.desc
	picture = event_hellenic_soldiers_fortress_hill

	option = {
		name = "me_tayuan.10.a"
		p:6773 = {
			add_province_modifier = {
				name = tayuan_gulka_pass
				duration = -1
			}
		}
		add_stability = 3
	}
}

me_tayuan.11 = {
	type = country_event

	title = me_tayuan.11.title
	desc = me_tayuan.11.desc
	picture = chinese_favorable_conditions
	left_portrait = current_ruler
	right_portrait = scope:chinesecommander

	immediate = {
		hidden_effect = {
			create_character = {
				culture = qin
				religion = chinese_religions
				first_name = "Qian"
				family_name = "Zhang"
				add_trait = assertive
				add_trait = tough
				age = 67
				save_scope_as = chinesecommander
			}
		}
	}

	option = {
		name = "me_tayuan.11.a"
		custom_tooltip = me_tayuan.11.a.tt
		add_political_influence = -15
		set_variable = helped_zhang
	}
	option = {
		name = "me_tayuan.11.b"
		custom_tooltip = me_tayuan.11.b.tt
		set_variable = ignored_zhang
	}
}

me_tayuan.12 = {
	type = country_event

	title = me_tayuan.12.title
	desc = me_tayuan.12.desc
	picture = greek_home

	option = {
		name = "me_tayuan.12.a"
	}
}

me_tayuan.13 = {
	type = country_event

	title = me_tayuan.13.title
	desc = me_tayuan.13.desc
	picture = event_city_life_columns_colours
	left_portrait = scope:tayuan_explorer
	right_portrait = c:KSA.current_ruler
	goto_location = p:7184

	option = {
		name = "me_tayuan.13.a"
		add_treasury = 30
		
        add_research = {
        	technology = civic_tech
            value = 12
        }
    }
}

me_tayuan.14 = {
	type = country_event

	title = me_tayuan.14.title
	desc = me_tayuan.14.desc
	picture = event_countryside_merchants_gifts_harvest

	option = {
		name = "me_tayuan.14.a"
		custom_tooltip = spreadvalley_tt
		hidden:every_owned_province = {
			limit = {
				is_in_area = ferghana_area
				has_city_status = no
			}
			random_list = {
				32 = {
					create_state_pop = nobles
					create_state_pop = freemen
				}
				32 = {
					create_state_pop = citizen
					create_state_pop = freemen
				}
				32 = {
					create_state_pop = freemen
					create_state_pop = freemen
				}
				4 = {
					create_state_pop = slaves
					create_state_pop = citizen
				}
			}
		}
	}

	option = {
		name = "me_tayuan.14.b"
		custom_tooltip = dawan_city_tt
		p:6735 = {
			set_city_status = city
			hidden_effect = {
				create_state_pop = nobles
				create_state_pop = nobles
				create_state_pop = nobles
				create_state_pop = citizen
				create_state_pop = citizen
				create_state_pop = citizen
				create_state_pop = citizen
				create_state_pop = citizen
				create_state_pop = freemen
				create_state_pop = freemen
				create_state_pop = freemen
				create_state_pop = freemen
				create_state_pop = freemen
				create_state_pop = freemen
				create_state_pop = freemen
			}
			change_province_name = Dawan_Phygeias
		}
	}
}

me_tayuan.15 = {
	type = country_event

	title = me_tayuan.15.title
	desc = me_tayuan.15.desc
	picture = event_city_night_moonlight
	left_portrait = current_ruler


	option = {
		name = "me_tayuan.15.a"
		p:6734 = {
			create_state_pop = citizen
			create_state_pop = freemen
		}
		p:6737 = {
			create_state_pop = freemen
		}
		p:6704 = {
			create_state_pop = nobles
			create_state_pop = citizen
		}
	}
}

me_tayuan.16 = {
	type = country_event

	title = me_tayuan.16.title
	desc = me_tayuan.16.desc
	picture = event_horses_escaping
	left_portrait = scope:tayuan_marshal
	right_portrait = c:SOG.current_ruler

	immediate = {
		hidden_effect = {
			random_character = { 
							   limit = {
								has_office = office_marshal
							}
							save_scope_as = tayuan_marshal
			 }
		}
	}

	option = {
		name = "me_tayuan.16.a"
		add_treasury = 100
		add_country_modifier = {
			name = sogdian_ion_cav
		}
	}
}

me_tayuan.17 = {
	type = country_event

	title = me_tayuan.17.title
	desc = me_tayuan.17.desc
	picture = steppe_cavalry
	left_portrait = scope:tayuan_marshal2

	immediate = {
		hidden_effect = {
			random_character = { 
							   limit = {
								has_office = office_marshal
							}
							save_scope_as = tayuan_marshal2
			 }
		}
	}

	option = {
		name = "me_tayuan.17.a"
		add_country_modifier = {
			name = sogdian_horses
		}
		random_country_culture = {
			limit = {
				is_culture = sogdian
			}
			add_country_culture_modifier = {
				name = sogdian_conquered
				duration = 3650
			}
		}	
	}
}

me_tayuan.18 = {
	type = country_event

	title = me_tayuan.18.title
	desc = me_tayuan.18.desc
	picture = event_city_life_columns_colours
	left_portrait = current_ruler
	right_portrait = scope:tayuan_fm

	immediate = {
		hidden_effect = {
			random_character = { 
				limit = {
					has_office = office_foreign_minister
				}
				save_scope_as = tayuan_fm
			 }
		}
	}

	option = {
		name = "me_tayuan.18.a"
		add_treasury = 150
	}
}

me_tayuan.19 = {
	type = country_event

	title = me_tayuan.19.title
	desc = me_tayuan.19.desc
	picture = event_crowd_speech_celebration
	left_portrait = current_ruler
	right_portrait = scope:tayuan_artist

	option = {
		name = "me_tayuan.19.a"
		create_country_treasure = {
			key = "copper_tayuan_altar"
			icon = "treasure_sarcophagus"
			modifier = {
				local_migration_attraction = 2
				local_output_modifier = 0.05
			}
		}
	}
}

me_tayuan.20 = {
	type = country_event

	title = me_tayuan.20.title
	desc = me_tayuan.20.desc
	picture = event_infantry_horse_bodies_desert
	left_portrait = current_ruler
	right_portrait = c:WUS.current_ruler
	right_portrait = c:SHU.current_ruler

	option = {
		name = "me_tayuan.20.a"
		add_military_experience = 5
		add_country_modifier = {
			name = tayuan_sakan_cav
			duration = 3650
		}
	}
}

me_tayuan.21 = {
	type = country_event

	title = me_tayuan.21.title
	desc = me_tayuan.21.desc
	picture = event_farmers_in_green_countryside
	left_portrait = current_ruler
	right_portrait = scope:tayuan_marshal3

	immediate = {
		hidden_effect = {
			random_character = { 
							   limit = {
								has_office = office_marshal
							}
							save_scope_as = tayuan_marshal3
			 }
		}
	}

	option = {
		name = "me_tayuan.21.a"
	}
}

me_tayuan.22 = {
	type = country_event

	title = me_tayuan.22.title
	desc = me_tayuan.22.desc
	picture = interesting_histories_greek_soldiers_pops
	left_portrait = current_ruler

	option = {
		name = "me_tayuan.22.a"
	}
}

me_tayuan.23 = {
	type = country_event

	title = me_tayuan.23.title
	desc = me_tayuan.23.desc
	picture = event_wise_men_indoors_debate
	left_portrait = current_ruler

	option = {
		name = "me_tayuan.23.a"
	}
}

me_tayuan.24 = {
	type = country_event

	title = me_tayuan.24.title
	desc = me_tayuan.24.desc
	picture = event_horses_escaping
	left_portrait = scope:tayuan_explorer
	right_portrait = c:SOG.current_ruler

	option = {
		name = "me_tayuan.24.a"
		scope:tayuan_explorer = {
			add_martial = 1
			add_trait = crafty
		}
		add_manpower = -0.5
		add_treasury = 40
	}
}

me_tayuan.25 = {
	type = country_event

	title = me_tayuan.25.title
	desc = me_tayuan.25.desc
	picture = event_horses_escaping
	left_portrait = scope:tayuan_marshal
	right_portrait = c:SOG.current_ruler

	immediate = {
		hidden_effect = {
			random_character = { 
							   limit = {
								has_office = office_marshal
							}
							save_scope_as = tayuan_marshal
			 }
		}
	}

	option = {
		name = "me_tayuan.16.a"
		add_treasury = 100
		add_country_modifier = {
			name = sogdian_ion_cav
		}
		add_country_modifier = {
			name = sogdian_champion
		}
	}
}