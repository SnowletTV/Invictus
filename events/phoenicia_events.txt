namespace = phoenicia_events
#NOT NEEDED AT PRESENT
#Master List for conquest events
phoenicia_events.1001 = {
    type = province_event
    hidden = yes

	trigger = {
		controller = { 
			NOT = { has_variable = epigoni } #No longer usable if you had the Epigoni event
			has_variable = war_of_the_diadochs #Turns on after the intro event which explains what it does.
			primary_culture = macedonian
		}
	}

    immediate = {
		if = {
			limit = {
				province_id = 743
				owner = { 
					tag = TYE 
				}
				c:TYE = { 
					is_subject = yes 
					is_subject_type = client_state
				}
				c:TYE.overlord = { 
					NOT = { has_variable = epigoni } #No longer usable if you had the Epigoni event
					has_variable = war_of_the_diadochs #Turns on after the intro event which explains what it does.
					primary_culture = macedonian
				 }	
				controller = { not = { tag = PRY } }
			}
			p:743.controller = {
			    trigger_event = {
			        id = phoenicia_events.1 #Tyre transfer for Antigonus decision
#			        days = { 5 15 }
			    }
			}
		}
		else_if = {
			limit = {
				province_id = 743
				owner = { 
					tag = TYE 
				}
				c:TYE = { 
					is_subject = yes 
					is_subject_type = client_state
				}
				c:TYE.overlord = { 
					NOT = { has_variable = epigoni } #No longer usable if you had the Epigoni event
					has_variable = war_of_the_diadochs #Turns on after the intro event which explains what it does.
					primary_culture = macedonian
				 }	
				controller = { tag = PRY }				
			}
			p:743.controller = {
#			    trigger_event = {
#			        id = phoenicia_events.2 #Tyre transfer - Antigonids
#			        days = { 5 15 }
			    }
			}
		}
    }
}

phoenicia_events.1002 = { #Join the war
    type = province_event
    hidden = yes

    immediate = {
		every_current_war = {
            limit = {
                any_war_attacker = { THIS = ROOT }
            }
            scope:newly_liberated_state = {
                add_to_war = {
                    target = PREV
                    attacker = yes
                    leader = no
                }
            }
        }
        every_current_war = {
            limit = {
                any_war_defender = { THIS = ROOT }
            }
            scope:newly_liberated_state = {
                add_to_war = {
                    target = PREV
                    attacker = no
                    leader = no
                }
            }
        }
    }
}

# Tyre conquest -NOT USED
phoenicia_events.0001 = {
	type = country_event
	title = "phoenicia_events.0001.t"
	desc = "phoenicia_events.0001.desc"
	picture = tyre_city
	
	left_portrait = current_ruler
	right_portrait = c:TYE.overlord.current_ruler
	right_portrait = c:TYE.current_ruler

	goto_location = p:743


	option = {
		name = "phoenicia_events.0001.a"
        custom_tooltip = phoenicia_events.0001.a.t
        hidden_effect = {
	        c:TYE = {
		        if = {
		            limit = {
		                is_subject = yes 
		            }
		            prev.overlord = {
		                release_subject = PREV
		            }
		        }      	
				save_scope_as = newly_liberated_state
		    }
        }
		root = {
			make_subject = {
				type = client_state
				target = c:TYE
			}
		}        
		ai_chance = {
			modifier = {
				factor = 20
			}
		}
	}
	after = {
		c:TYE = {
		    trigger_event = {
		        id = phoenicia_events.1001 #Join the war
		    }
		}
	}

}