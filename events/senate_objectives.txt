namespace = senate_objectives

senate_objectives.1 = { # Change Law Generic - Oligarchic
	type = country_event
	title = "senate_objectives.1.t"
	desc = "senate_objectives.1.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope

	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = oligarchic_party }
                any_character = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
                save_scope_as = politician_scope
            }
        }
	}	

	option = { # Allow
		name = "senate_objectives.1.a"
		set_variable = {
			name = party_law_change_cooldown
			days = 7300 # 20 years
			value = var:sen_obj_cha_law_oli_target
		}
		if = {
			limit = { var:sen_obj_cha_law_oli_target = 1 }
			if = {
				limit = { tag = CAR }
				change_law = republican_religious_car_4 # Invest in Mrzhs
			}
			else = {
				change_law = republican_religious_4 # Senatorial Veto
			}
			
		}
		else_if = {
			limit = { var:sen_obj_cha_law_oli_target = 2 }
			if = {
				limit = { tag = CAR }
				change_law = republican_integration_car_3 # Rights of Wealth
			}
			else = {
				change_law = republican_integration_3 # Rights of Nobility
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_oli_target = 3 }
			if = {
				limit = { tag = CAR }
				change_law = republican_citizen_car_4 # Berber Sharecroppers
			}
			else = {
				change_law = republican_citizen_4 # Manumittance Policy
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_oli_target = 4 }
			if = {
				limit = { tag = CAR }
				change_law = republican_land_reform_car_4 # Penal Colonies
			}
			else = {
				change_law = republican_land_reform_4 # Seizure Amendments
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_oli_target = 5 }
			if = {
				limit = { tag = CAR }
				change_law = republican_mediterranean_car_2 # Strategic Monopolies
			}
			else = {
				change_law = republican_mediterranean_2 # Lowered Import Tariff
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_oli_target = 6 }
			if = {
				limit = { tag = CAR }
				change_law = republic_corruption_car_4 # Adirim Administration
			}
			else = {
				change_law = republic_corruption_4 # Abolish Assemblies
			}
		}
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = oligarchic_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.1.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = oligarchic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = oligarchic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.2 = { # Change Law Generic - Democratic
	type = country_event
	title = "senate_objectives.2.t"
	desc = "senate_objectives.2.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = democratic_party }
                any_character = {
                    is_ruler = no
                    party_type = democratic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = democratic_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.2.a"
		set_variable = {
			name = party_law_change_cooldown
			days = 7300 # 20 years
			value = var:sen_obj_cha_law_dem_target
		}
		if = {
			limit = { var:sen_obj_cha_law_dem_target = 1 } # Deny Priests in Senate
			if = {
				limit = { tag = CAR }
				change_law = republican_religious_car_3
			}
			else = {
				change_law = republican_religious_3
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_dem_target = 2 } # Devolved Administration
			if = {
				limit = { tag = CAR }
				change_law = republican_integration_car_4
			}
			else = {
				change_law = republican_integration_4
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_dem_target = 3 } # Cultural Primacy
			if = {
				limit = { tag = CAR }
				change_law = republican_citizen_car_3
			}
			else = {
				change_law = republican_citizen_3
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_dem_target = 4 } # Land Seizure Protocols
			if = {
				limit = { tag = CAR }
				change_law = republican_land_reform_car_3
			}
			else = {
				change_law = republican_land_reform_3
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_dem_target = 5 } # Anti-Piracy Statutes
			if = {
				limit = { tag = CAR }
				change_law = republican_mediterranean_car_4
			}
			else = {
				change_law = republican_mediterranean_4
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_dem_target = 6 } # Assembly of Citizens
			if = {
				limit = { tag = CAR }
				change_law = republic_corruption_car_1
			}
			else = {
				change_law = republic_corruption_1
			}
		}
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = democratic_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.3.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = democratic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = democratic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.3 = { # Change Law Generic - Traditionalist
	type = country_event
	title = "senate_objectives.3.t"
	desc = "senate_objectives.3.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = traditionalist_party }
                any_character = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.3.a"
		set_variable = {
			name = party_law_change_cooldown
			days = 7300 # 20 years
			value = var:sen_obj_cha_law_tra_target
		}
		if = {
			limit = { var:sen_obj_cha_law_tra_target = 1 } # Priestly Status
			if = {
				limit = { tag = CAR }
				change_law = republican_religious_car_2
			}
			else = {
				change_law = republican_religious_2
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_tra_target = 2 } # Relocation Rights
			if = {
				limit = { tag = CAR }
				change_law = republican_integration_car_2
			}
			else = {
				change_law = republican_integration_2
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_tra_target = 3 } # Slave Treatment Sanctions
			if = {
				limit = { tag = CAR }
				change_law = republican_citizen_car_2
			}
			else = {
				change_law = republican_citizen_2
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_tra_target = 4 } # Institute Wealth Levy
			if = {
				limit = { tag = CAR }
				change_law = republican_mediterranean_car_3
			}
			else = {
				change_law = republican_mediterranean_3
			}
		}
		else_if = {
			limit = { var:sen_obj_cha_law_tra_target = 5 } # Assembly of Soldiers
			if = {
				limit = { tag = CAR }
				change_law = republic_corruption_car_3
			}
			else = {
				change_law = republic_corruption_3
			}
		}
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = traditionalist_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.3.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = traditionalist_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = traditionalist_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.4 = { # Declare War Generic - Oligarchic
	type = country_event
	title = "senate_objectives.4.t"
	desc = "senate_objectives.4.desc"
	picture = council_country
	left_portrait = current_ruler
	left_portrait = scope:politician_scope
	right_portrait = scope:sen_obj_dec_war_target.current_ruler
	goto_location = scope:sen_obj_dec_war_target.capital_scope

	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = oligarchic_party }
                any_character = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.4.a"
		hidden_effect = {
			if = {
				limit = {
					scope:sen_obj_dec_war_target = {
						any_owned_province = {
							any_neighbor_province = { owner = root }
						}
					}
				}
				scope:sen_obj_dec_war_target = {
					every_owned_province = {
						limit = {
							any_neighbor_province = { owner = root }
						}
						add_claim = root
					}
					random_owned_province = {
						limit = {
							any_neighbor_province = { owner = root }
						}
						save_scope_as = sen_obj_dec_war_prov
					}
				}
			}
			else = {
				scope:sen_obj_dec_war_target.capital_scope.state = {
					every_state_province = {
						add_claim = root 
					}
					random_state_province = {
						save_scope_as = sen_obj_dec_war_prov
					}
				}
			}
		}
		declare_war_with_wargoal = {
			war_goal = conquer_wargoal
			province = scope:sen_obj_dec_war_prov
			target = scope:sen_obj_dec_war_target
		}
		random_current_war = {
            limit = {
                any_war_defender = { this = scope:sen_obj_dec_war_target }
            }
            save_scope_as = gen_sen_obj_war
        }
        if = {
            limit = {
                any_subject = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                    has_subject_loyalty >= 33
                }
            }
            every_subject = {
                limit = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                    has_subject_loyalty >= 33
                }         
                add_to_war = {
                    target = scope:gen_sen_obj_war
                    attacker = yes
                }
            }
        }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = oligarchic_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 50 }
	}
	
	option = { # Veto
		name = "senate_objectives.4.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		if = {
			limit = { is_ai = no }
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = oligarchic_party
				VALUE = senatorial_veto_approval_svalue
			}
		}
		else = {
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = oligarchic_party
				VALUE = senatorial_veto_other_approval_svalue
			}
		}
		ai_chance = { factor = 50 }
	}

	after = {
		set_variable = oligarchic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.5 = { # Grant Holdings Generic - Oligarchic
	type = country_event
	title = "senate_objectives.5.t"
	desc = "senate_objectives.5.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = oligarchic_party }
                any_character = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
                save_scope_as = politician_scope
            }
        }
		hidden_effect = {
			while = {
				count = 6
				random_owned_province = {
					limit = {
						NOT = { exists = holding_owner }
					}
					add_to_list = holding_scope_list
				}
			}
		}
	}
	
	option = { # Allow
		name = "senate_objectives.5.a"
		hidden_effect = {
			while = {
				count = 6
				if = {
					limit = {
						any_family = {
							head_of_family = {
								NOT = {
									any_holdings = { is_in_list = holding_scope_list }
								}
							}
						}
						any_in_list = {
							list = holding_scope_list
							count > 0
						}
					}
					random_family = {
						limit = {
							head_of_family = {
								NOT = {
									any_holdings = { is_in_list = holding_scope_list }
								}
							}
						}
						head_of_family = { save_scope_as = family_head_holding_scope } 
					}
					random_in_list = {
						list = holding_scope_list
						save_scope_as = granted_holding_scope
						remove_from_list = holding_scope_list
					}
					scope:family_head_holding_scope = {
						add_holding = scope:granted_holding_scope
						add_loyalty = objective_holding_granted
					}
				}
			}
		}
		custom_tooltip = senate_objectives.5.at
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = oligarchic_party
			VALUE = senate_agenda_passed_large_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.5.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = oligarchic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = oligarchic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.6 = { # Revoke Holdings Generic - Democratic
	type = country_event
	title = "senate_objectives.6.t"
	desc = "senate_objectives.6.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	
	immediate = {	
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = democratic_party }
                any_character = {
                    is_ruler = no
                    party_type = democratic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = democratic_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = {
		name = "senate_objectives.6.a"
		hidden_effect = {
			every_family = {
				limit = {
					exists = head_of_family
					head_of_family = {
						num_holdings_owned > 0 
					}
				}
				head_of_family = {
					random_holdings = {
						holding_owner = { remove_holding = prev }
					}
				}
			}
		}
		custom_tooltip = senate_objectives.5.bt
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = democratic_party
			VALUE = senate_agenda_passed_large_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = {
		name = "senate_objectives.6.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = democratic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = democratic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.7 = { # Lengthen Terms Generic - Oligarchic
	type = country_event
	title = "senate_objectives.7.t"
	desc = "senate_objectives.7.desc"
	picture = council_country
	left_portrait = current_ruler

	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = oligarchic_party }
                any_character = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.7.a"
		if = {
			limit = { 
				OR = {
					has_law = republican_election_3
					has_law = republican_election_car_3
				} 
			} # 2 years
			if = {
				limit = { tag = CAR }
				change_law = republican_election_car_1
			}
			else = {
				change_law = republican_election_1
			}
		}
		else_if = {
			limit = { 
				OR = {
					has_law = republican_election_1
					has_law = republican_election_car_1
				} 
			} # 5 years
			if = {
				limit = { tag = CAR }
				change_law = republican_election_car_4
			}
			else = {
				change_law = republican_election_4
			}
		}
		else = { 
			if = {
				limit = { tag = CAR }
				change_law = republican_election_car_2
			}
			else = {
				change_law = republican_election_2
			}
		}
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = oligarchic_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.7.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = oligarchic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = oligarchic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.8 = { # Shorten Terms Generic - Democratic
	type = country_event
	title = "senate_objectives.8.t"
	desc = "senate_objectives.8.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = democratic_party }
                any_character = {
                    is_ruler = no
                    party_type = democratic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = democratic_party
                }
                save_scope_as = politician_scope
            }
        }
	}
	
	option = { # Allow
		name = "senate_objectives.8.a"
		if = {
			limit = { 
				OR = {
					has_law = republican_election_1
					has_law = republican_election_car_1
				}		
			} # 5 years
			if = {
				limit = { tag = CAR }
				change_law = republican_election_car_3
			}
			else = {
				change_law = republican_election_3
			}
		}
		else_if = {
			limit = { 
				OR = {
					has_law = republican_election_2
					has_law = republican_election_car_2
				}
			} # 10 years
			if = {
				limit = { tag = CAR }
				change_law = republican_election_car_1
			}
			else = {
				change_law = republican_election_1
			}
			change_law = republican_election_1
		}
		else_if = {
			limit = { 
				OR = {
					has_law = republican_election_4
					has_law = republican_election_car_4
				}
			} # Lifetime
			if = {
				limit = { tag = CAR }
				change_law = republican_election_car_2
			}
			else = {
				change_law = republican_election_2
			}
			change_law = republican_election_2
		}
		else = { 
			if = {
				limit = { tag = CAR }
				change_law = republican_election_car_3
			}
			else = {
				change_law = republican_election_3
			}
		}
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = democratic_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.8.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = democratic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = democratic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.9 = { # Build Temple Generic - Traditionalist
	type = country_event
	title = "senate_objectives.9.t"
	desc = "senate_objectives.9.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	goto_location = scope:sen_obj_bui_tem_gen_target
	
	trigger = {
		scope:sen_obj_bui_tem_gen_target = { has_construction = no }
	}

	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = traditionalist_party }
                any_character = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
                save_scope_as = politician_scope
            }
        }
	}
	
	option = { # Allow
		name = "senate_objectives.9.a"
		current_ruler = { add_popularity = popularity_small }
		add_treasury = -50
		scope:sen_obj_bui_tem_gen_target = { add_building_level = library_building }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = traditionalist_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.9.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = traditionalist_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = traditionalist_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.10 = { # Imprison Family Head - Democratic
	type = country_event
	title = "senate_objectives.10.t"
	desc = "senate_objectives.10.desc"
	picture = council_country
	left_portrait = current_ruler
	left_portrait = scope:politician_scope
	right_portrait = scope:sen_obj_imp_fam_gen_target
	
	trigger = {
		is_ai = no
	}
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = democratic_party }
                any_character = {
                    is_ruler = no
                    party_type = democratic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = democratic_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.10.a"
		custom_tooltip = senate_objectives.10.at
		scope:sen_obj_imp_hea_gen_target = { add_loyalty = brought_to_trial_l }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = democratic_party
			VALUE = senate_agenda_passed_large_svalue
		}
		hidden_effect = {
			scope:sen_obj_imp_hea_gen_target = {
				add_triggered_character_modifier = {
					name = currently_on_trial 
					duration = 730
				}
				add_loyalty = currently_on_trial
				set_variable = {
					name = recent_trial_cooldown_var
					days = 1825
				}
				save_scope_as = target
				root = { 
					save_scope_as = actor
					trigger_event = {
						id = trial.1 # Trial begins
						days = 5
					}
				}
				family = {
					every_family_member = { 
						limit = {
							NOT = { this = scope:sen_obj_imp_hea_gen_target }
						}
						add_loyalty = objective_family_trial
					}
				}
			}
		}
		
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.10.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = democratic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = democratic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.11 = { # Integrate Culture - Democratic
	type = country_event
	title = "senate_objectives.11.t"
	desc = "senate_objectives.11.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = democratic_party }
                any_character = {
                    is_ruler = no
                    party_type = democratic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = democratic_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.11.a"
		scope:agenda_culture = {
            set_country_culture_right = citizen
        }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = democratic_party
			VALUE = senate_agenda_passed_large_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.11.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = democratic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = democratic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.12 = { # Completed Objective Generic
	type = country_event
	title = "senate_objectives.12.t"
	desc = {
		desc = senate_objectives.12.desc
		first_valid = {
			triggered_desc = {
				desc = senate_objectives.12.desc_1
				trigger = { 
					scope:party_obj_complete_scope = { is_party_type = oligarchic_party }
				}
			}
			triggered_desc = {
				desc = senate_objectives.12.desc_2
				trigger = { 
					scope:party_obj_complete_scope = { is_party_type = democratic_party }
				}
			}
			triggered_desc = {
				desc = senate_objectives.12.desc_3
				trigger = { 
					scope:party_obj_complete_scope = { is_party_type = traditionalist_party }
				}
			}
		}
	}
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:objective_politician
	
	immediate = {
		if = {
			limit = {
				scope:party_obj_complete_scope = { is_party_type = oligarchic_party }
				NOT = { 
					current_ruler = { is_leader_of_party_type = oligarchic_party }
				}
			}
			random_character = {
				limit = { is_leader_of_party_type = oligarchic_party }
				save_scope_as = objective_politician
			}
		}
		else_if = {
			limit = {
				scope:party_obj_complete_scope = { is_party_type = democratic_party }
				NOT = { 
					current_ruler = { is_leader_of_party_type = democratic_party }
				}
			}
			random_character = {
				limit = { is_leader_of_party_type = democratic_party }
				save_scope_as = objective_politician
			}
		}
		else_if = {
			limit = {
				scope:party_obj_complete_scope = { is_party_type = traditionalist_party }
				NOT = { 
					current_ruler = { is_leader_of_party_type = traditionalist_party }
				}
			}
			random_character = {
				limit = { is_leader_of_party_type = traditionalist_party }
				save_scope_as = objective_politician
			}
		}
		if = {
			limit = {
				scope:party_obj_complete_scope = { is_party_type = oligarchic_party }
			}
			set_variable = oligarchic_cooldown
		}
		else_if = {
			limit = {
				scope:party_obj_complete_scope = { is_party_type = democratic_party }
			}
			set_variable = democratic_cooldown
		}
		else_if = {
			limit = {
				scope:party_obj_complete_scope = { is_party_type = traditionalist_party }
			}
			set_variable = traditionalist_cooldown
		}
		scope:party_obj_complete_scope = { add_party_approval_generic_completion_effect = yes }
	}
	
	option = { # Ok
		name = "senate_objectives.12.a"
		trigger = {
			current_ruler = { party = scope:party_obj_complete_scope }
		}
	}

	option = { # Ok
		name = "senate_objectives.12.b"
		trigger = {
			NOT = {
				current_ruler = { party = scope:party_obj_complete_scope }
			}
		}
	}
}

senate_objectives.13 = { # Revoke Culture Rights - Traditionalist
	type = country_event
	title = "senate_objectives.13.t"
	desc = "senate_objectives.13.desc"
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	
	trigger = {
		is_ai = no
	}
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = traditionalist_party }
                any_character = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.13.a"
		scope:sen_obj_rev_rig_gen_target = {
            set_country_culture_right = freemen
        }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = traditionalist_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.13.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = traditionalist_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = traditionalist_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.14 = { # Invest - Traditionalist
	type = country_event
	title = "senate_objectives.14.t"
	desc = senate_objectives.14.desc
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	goto_location = scope:sen_obj_inv_gen_target

	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = traditionalist_party }
                any_character = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.14.a"
		add_political_influence = -80
		scope:sen_obj_inv_gen_target = {
			if = {
				limit = {
					scope:sen_obj_inv_gen_party.party_country = { has_variable = sen_obj_inv_gen_type }
				}
				if = {
		    		limit = { scope:sen_obj_inv_gen_party.party_country.var:sen_obj_inv_gen_type = 1 }
		    		add_state_modifier = {
	                    name = state_improvement_military
	                    duration = -1
	                    mode = add
	                }
		    	}
		    	else_if = {
		    		limit = { scope:sen_obj_inv_gen_party.party_country.var:sen_obj_inv_gen_type = 2 }
		    		add_state_modifier = {
	                    name = state_improvement_civic
	                    duration = -1
	                    mode = add
	                }
		    	}
		    	else_if = {
		    		limit = { scope:sen_obj_inv_gen_party.party_country.var:sen_obj_inv_gen_type = 3 }
		    		add_state_modifier = {
	                    name = state_improvement_oratory
	                    duration = -1
	                    mode = add
	                }
		    	}
		    	else = {
		    		add_state_modifier = {
	                    name = state_improvement_religious
	                    duration = -1
	                    mode = add
	                }
		    	}
		    }
	    	else = {
	    		add_state_modifier = {
                    name = state_improvement_religious
                    duration = -1
                    mode = add
                }
	    	}
	    }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = traditionalist_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.14.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = traditionalist_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = traditionalist_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.15 = { # Acquire Subject - Oligarchic
	type = country_event
	title = "senate_objectives.15.t"
	desc = senate_objectives.15.desc
	picture = council_country
	left_portrait = current_ruler
	left_portrait = scope:politician_scope
	right_portrait = scope:sen_obj_acq_sub_target.current_ruler
	goto_location = scope:sen_obj_acq_sub_target.capital_scope

	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = oligarchic_party }
                any_character = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.15.a"
		custom_tooltip = senate_objectives.15.tt
		add_aggressive_expansion = 3
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = oligarchic_party
			VALUE = senate_agenda_passed_large_svalue
		}
		scope:sen_obj_acq_sub_target = {
			trigger_event = {
				id = senate_objectives.17
				days = 10
			}
		}
		ai_chance = { factor = 50 }
	}
	
	option = { # Veto
		name = "senate_objectives.15.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		if = {
			limit = { is_ai = no }
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = oligarchic_party
				VALUE = senatorial_veto_approval_svalue
			}
		}
		else = {
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = oligarchic_party
				VALUE = senatorial_veto_other_approval_svalue
			}
		}
		ai_chance = { factor = 50 }
	}

	after = {
		set_variable = oligarchic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.16 = { # Appoint Member - Oligarchic
	type = country_event
	title = "senate_objectives.16.t"
	desc = senate_objectives.16.desc
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:appointment_target
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = oligarchic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = oligarchic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = oligarchic_party }
                any_character = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = oligarchic_party
                }
                save_scope_as = politician_scope
            }
        }
		appointment_office_skill_effect = yes
	}
	
	option = { # Allow
		name = "senate_objectives.16.a"
		if = {
			limit = {
				any_governorships = {
					NOT = {
						any_governorship_state = {
							any_state_province = { this = root.capital_scope }
						}
					}
					trigger_if = {
						limit = { 
							any_governorship_state = { has_governor = yes }
						}
						NOT = { governor.character_party = scope:sen_obj_app_mem_gen_party }
					}
				}
			}
			random_governorships = {
				limit = {
					NOT = {
						any_governorship_state = {
							any_state_province = { this = root.capital_scope }
						}
					}
					trigger_if = {
						limit = { 
							any_governorship_state = { has_governor = yes }
						}
						NOT = { governor.character_party = scope:sen_obj_app_mem_gen_party }
					}
				}
				if = {
					limit = { 
						any_governorship_state = { has_governor = yes }
					}
					governor = { save_scope_as = replaced_appointment_target } 
					scope:replaced_appointment_target = { add_loyalty = loyalty_appointment_revoked_agenda }
				}
				hidden_effect = {
					scope:appointment_target = { remove_all_positions = yes }
				}
				random_governorship_state = {
					random_state_province = { set_as_governor = scope:appointment_target }
				}
			}
		}
		else = {
			hidden_effect = {
				scope:appointment_target = { remove_all_positions = yes }
			}
			senate_objective_appoint_member_generic_effect = yes
		}
		scope:appointment_target = { add_loyalty = loyalty_appointment_granted_agenda }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = oligarchic_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.16.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = oligarchic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		scope:appointment_target = { remove_variable = appointment_office_skill }
		set_variable = oligarchic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.17 = { # Acquire Subject Demand - Oligarchic
	type = country_event
	title = "senate_objectives.17.t"
	desc = senate_objectives.17.desc
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:sen_obj_acq_sub_party.party_country.current_ruler
	goto_location = scope:sen_obj_acq_sub_party.party_country.capital_scope

	option = { # Accept
		name = "senate_objectives.17.a"
		scope:sen_obj_acq_sub_party.party_country = {
			make_subject = {
				target = ROOT
				type = tributary
			}
		}
		ai_chance = { 
			factor = 3 
			modifier = {
				factor = 0.1
				sen_obj_acq_sub_relative_power_sum_svalue > 0
			}
		}
	}
	
	option = { # Refuse
		name = "senate_objectives.17.b"
		hidden_effect = {
			every_owned_province = { add_claim = scope:sen_obj_acq_sub_party.party_country }
		}
		scope:sen_obj_acq_sub_party.party_country = {
			declare_war_with_wargoal = {
				war_goal = conquer_wargoal
				province = ROOT.capital_scope
				target = ROOT
			}
			random_current_war = {
	            limit = {
	                any_war_defender = { this = root }
	            }
	            save_scope_as = gen_sen_obj_war
	        }
	        if = {
	            limit = {
	                any_subject = {
	                    OR = {
	                        is_subject_type = feudatory
	                        is_subject_type = satrapy
	                        is_subject_type = client_state
	                    }
	                    has_subject_loyalty >= 33
	                }
	            }
	            every_subject = {
	                limit = {
	                    OR = {
	                        is_subject_type = feudatory
	                        is_subject_type = satrapy
	                        is_subject_type = client_state
	                    }
	                    has_subject_loyalty >= 33
	                }
	                add_to_war = {
	                    target = scope:gen_sen_obj_war
	                    attacker = yes
	                }
	            }
	        }
		}
		ai_chance = {
			factor = 6
			modifier = {
				factor = 0.1
				sen_obj_acq_sub_relative_power_sum_svalue < 0
			}
		}
	}

	after = {
		scope:sen_obj_acq_sub_party.party_country = {
			trigger_event = { id = senate_objectives.18 }
		}
	}
}

senate_objectives.18 = { # Acquire Subject Response - Oligarchic
	type = country_event
	title = "senate_objectives.18.t"
	desc = {
		desc = senate_objectives.18.desc
		first_valid = {
			triggered_desc = {
				desc = senate_objectives.18.desc_1
				trigger = { 
					scope:sen_obj_acq_sub_target = { is_subject_of = root }
				}
			}
			triggered_desc = {
				desc = senate_objectives.18.desc_2
				trigger = { war_with = scope:sen_obj_acq_sub_target }
			}
		}
	}
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:sen_obj_acq_sub_target.current_ruler
	goto_location = scope:sen_obj_acq_sub_target.capital_scope
	
	option = { # Allow
		name = "senate_objectives.18.a"
		trigger = { 
			scope:sen_obj_acq_sub_target = { is_subject_of = root }
		}
		show_as_tooltip = {
			make_subject = {
				target = scope:sen_obj_acq_sub_target
				type = tributary
			}
		}
	}
	
	option = { # Veto
		name = "senate_objectives.18.b"
		show_as_tooltip = {
			declare_war_with_wargoal = {
				war_goal = conquer_wargoal
				province = scope:sen_obj_acq_sub_target.capital_scope
				target = scope:sen_obj_acq_sub_target
			}
		}
	}
}

senate_objectives.19 = { # Sack Shrine - Traditionalist
	type = country_event
	title = "senate_objectives.19.t"
	desc = senate_objectives.19.desc
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	goto_location = scope:sen_obj_des_shr_target

	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = traditionalist_party }
                any_character = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
                save_scope_as = politician_scope
            }
        }
	}
	
	option = { # Allow
		name = "senate_objectives.19.a"
		scope:sen_obj_des_shr_target = {
			if = {
				limit = { has_owner = yes }
				owner = { save_scope_as = sacker }
			}
			save_scope_as = shrine_location
			province_deity = { save_scope_as = provincial_deity }
			every_province_treasure = { transfer_treasure_to_country = root }
			scope:shrine_location = {
				remove_province_deity = yes
				add_city_fire_effect = yes
				add_province_modifier = {
					name = "upset_local_priests"
					duration = 365
				}
			}
			every_country = { # Ping event for same religion countries
				limit = {
					scope:provincial_deity = { deity_religion = PREV.religion }
					NOT = { THIS = scope:sacker }
				}
				trigger_event = { id = desecration.3 } #Holy Site of our Faith Sacked
			}
			custom_tooltip = desecration_opinion
			if = {
				limit = { is_iron_man = yes }
				ach_holy_fire_effect = yes
			}
		}
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = traditionalist_party
			VALUE = senate_agenda_passed_medium_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.19.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = traditionalist_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = traditionalist_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.20 = { # Enemy Shrine - Traditionalist
	type = country_event
	title = "senate_objectives.20.t"
	desc = senate_objectives.20.desc
	picture = council_country
	left_portrait = current_ruler
	left_portrait = scope:politician_scope
	right_portrait = scope:sen_obj_ene_shr_target.owner.current_ruler
	goto_location = scope:sen_obj_ene_shr_target
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = traditionalist_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = traditionalist_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = traditionalist_party }
                any_character = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = traditionalist_party
                }
                save_scope_as = politician_scope
            }
        }
	}

	option = { # Allow
		name = "senate_objectives.20.a"
		hidden_effect = {
			scope:sen_obj_ene_shr_target = { add_claim = root }
		}
		declare_war_with_wargoal = {
			war_goal = raiding_wargoal
			province = scope:sen_obj_ene_shr_target
			target = scope:sen_obj_ene_shr_target.owner
		}
		random_current_war = {
            limit = {
                any_war_defender = { this = scope:sen_obj_ene_shr_target }
            }
            save_scope_as = gen_sen_obj_war
        }
        if = {
            limit = {
                any_subject = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                    has_subject_loyalty >= 33
                }
            }
            every_subject = {
                limit = {
                    OR = {
                        is_subject_type = feudatory
                        is_subject_type = satrapy
                        is_subject_type = client_state
                    }
                    has_subject_loyalty >= 33
                }
                add_to_war = {
                    target = scope:gen_sen_obj_war
                    attacker = yes
                }
            }
        }
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.20.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		if = {
			limit = { is_ai = no }
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = traditionalist_party
				VALUE = senatorial_veto_approval_svalue
			}
		}
		else = {
			approval_with_custom_tooltip_effect = {
				CUSTOM_TOOLTIP = senatorial_veto_tt
				PARTY = traditionalist_party
				VALUE = senatorial_veto_other_approval_svalue
			}
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = democratic_cooldown
		remove_variable = force_agenda_active
	}
}

senate_objectives.21 = { # Provincial City - Democratic
	type = country_event
	title = "senate_objectives.21.t"
	desc = senate_objectives.21.desc
	picture = council_country
	left_portrait = current_ruler
	right_portrait = scope:politician_scope
	goto_location = scope:city_target
	
	immediate = {
		set_variable = force_agenda_active
		if = {
            limit = {
                current_ruler = {
                    NOT = { is_leader_of_party_type = democratic_party }
                }
            }
            random_character = {
                limit = { is_leader_of_party_type = democratic_party }
                save_scope_as = politician_scope
            }
        }
        else_if = {
            limit = {
                current_ruler = { is_leader_of_party_type = democratic_party }
                any_character = {
                    is_ruler = no
                    party_type = democratic_party
                }
            }
            random_character = {
                limit = {
                    is_ruler = no
                    party_type = democratic_party
                }
                save_scope_as = politician_scope
            }
        }
		scope:sen_obj_pro_cit_target = {
			ordered_state_province = {
				order_by = total_population
				save_scope_as = city_target
			}
		}
	}

	option = { # Allow
		name = "senate_objectives.21.a"
		pay_price = price_found_city
		custom_tooltip = "founding_city_in_progress_tt"
		scope:city_target = {
			if = {
				limit = {
					has_food_trade_good_trigger = yes
				}
				custom_tooltip = "gains_new_trade_good_city_tt"
			}
			custom_tooltip = "time_to_complete_city_tt"
			hidden_effect = {
				add_province_modifier = {
					name = founding_city_in_progress
					duration = 730
				}
			}
			trigger_event = {
				id = state_improvement.6
				days = 730
			}
		}

		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senate_agenda_passed_tt
			PARTY = democratic_party
			VALUE = senate_agenda_passed_large_svalue
		}
		ai_chance = { factor = 90 }
	}
	
	option = { # Veto
		name = "senate_objectives.21.b"
		current_ruler = { add_popularity = subtract_popularity_large }
		approval_with_custom_tooltip_effect = {
			CUSTOM_TOOLTIP = senatorial_veto_tt
			PARTY = democratic_party
			VALUE = senatorial_veto_approval_svalue
		}
		ai_chance = { factor = 10 }
	}

	after = {
		set_variable = democratic_cooldown
		remove_variable = force_agenda_active
	}
}
